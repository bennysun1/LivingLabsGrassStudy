<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ben Sunshine">

<title>Applying the Histogram of Oriented Gradients Algorithm for Detecting Grass Lay Direction - 6&nbsp; Backflip Image</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./conclusion.html" rel="next">
<link href="./grass_images_results.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./aerial_images_results.html">Results</a></li><li class="breadcrumb-item"><a href="./backflip_image_results.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Backflip Image</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Applying the Histogram of Oriented Gradients Algorithm for Detecting Grass Lay Direction</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Abstract</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Methods</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Results</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./aerial_images_results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Aerial Cityscapes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./grass_images_results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Grass Images</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./backflip_image_results.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Backflip Image</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Conclusion</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#motivation" id="toc-motivation" class="nav-link active" data-scroll-target="#motivation">Motivation</a></li>
  <li><a href="#input-image" id="toc-input-image" class="nav-link" data-scroll-target="#input-image">Input Image</a></li>
  <li><a href="#load-r-packages-and-python-libraries" id="toc-load-r-packages-and-python-libraries" class="nav-link" data-scroll-target="#load-r-packages-and-python-libraries">Load R Packages and Python Libraries</a></li>
  <li><a href="#collect-hog-features-for-backflip-image" id="toc-collect-hog-features-for-backflip-image" class="nav-link" data-scroll-target="#collect-hog-features-for-backflip-image">Collect HOG Features for Backflip Image</a></li>
  <li><a href="#extract-gradient-magnitudes-and-angles-from-backflip-image" id="toc-extract-gradient-magnitudes-and-angles-from-backflip-image" class="nav-link" data-scroll-target="#extract-gradient-magnitudes-and-angles-from-backflip-image">Extract Gradient Magnitudes and Angles from Backflip Image</a></li>
  <li><a href="#plot-magnitudes-as-image-for-backflip-image" id="toc-plot-magnitudes-as-image-for-backflip-image" class="nav-link" data-scroll-target="#plot-magnitudes-as-image-for-backflip-image">Plot Magnitudes as Image for Backflip Image</a></li>
  <li><a href="#create-data-frame-for-backflip-image" id="toc-create-data-frame-for-backflip-image" class="nav-link" data-scroll-target="#create-data-frame-for-backflip-image">Create Data Frame for Backflip Image</a></li>
  <li><a href="#create-histograms-of-gradient-magnitudes-and-angles-for-backflip-image" id="toc-create-histograms-of-gradient-magnitudes-and-angles-for-backflip-image" class="nav-link" data-scroll-target="#create-histograms-of-gradient-magnitudes-and-angles-for-backflip-image">Create Histograms of Gradient Magnitudes and Angles for Backflip Image</a></li>
  <li><a href="#build-new-distributed-histogram-data-frame-for-backflip-image" id="toc-build-new-distributed-histogram-data-frame-for-backflip-image" class="nav-link" data-scroll-target="#build-new-distributed-histogram-data-frame-for-backflip-image">Build New Distributed Histogram Data Frame for Backflip Image</a></li>
  <li><a href="#generate-polar-plots-for-standard-historgrams-for-backflip-image" id="toc-generate-polar-plots-for-standard-historgrams-for-backflip-image" class="nav-link" data-scroll-target="#generate-polar-plots-for-standard-historgrams-for-backflip-image">Generate Polar Plots for Standard Historgrams for Backflip Image</a></li>
  <li><a href="#generate-polar-plots-for-distributed-historgrams-of-diagonal-image" id="toc-generate-polar-plots-for-distributed-historgrams-of-diagonal-image" class="nav-link" data-scroll-target="#generate-polar-plots-for-distributed-historgrams-of-diagonal-image">Generate Polar Plots for Distributed Historgrams of Diagonal Image</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./aerial_images_results.html">Results</a></li><li class="breadcrumb-item"><a href="./backflip_image_results.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Backflip Image</span></a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Backflip Image</span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ben Sunshine </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<p>Test the HOG algorithm’s ability to identify dominant edges using an image of a skier. This scenario adds complexity with both a skier in the foreground and a crowd in the background, allowing us to observe how the algorithm deals with additional “noise”.</p>
</section>
<section id="input-image" class="level2">
<h2 class="anchored" data-anchor-id="input-image">Input Image</h2>
<div align="center">

<div id="fig-flip" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-flip-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/TitusFlip.jpg" class="lightbox" data-gallery="flip-rescale-gallery" data-glightbox="description: .lightbox-desc-1" title="Skiing Backflip Image"><img src="images/TitusFlip.jpg" style="height:10.0%" class="figure-img"></a></p>
<figcaption>Skiing Backflip Image</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-flip-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.1: Input Image
</figcaption>
</figure>
</div>
<div>



</div></div></section>
<section id="load-r-packages-and-python-libraries" class="level2">
<h2 class="anchored" data-anchor-id="load-r-packages-and-python-libraries">Load R Packages and Python Libraries</h2>
<div class="cell">
<details class="code-fold">
<summary>Load R Packages</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Load R Packages</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(mapsapi)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(mapboxapi)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(magick)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Load Python Libraries</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="im">from</span> skimage.io <span class="im">import</span> imread, imshow</span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="im">from</span> skimage.transform <span class="im">import</span> resize</span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="im">from</span> skimage.feature <span class="im">import</span> hog</span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="im">from</span> skimage <span class="im">import</span> data, exposure</span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="im">from</span> skimage <span class="im">import</span> io</span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="im">from</span> skimage <span class="im">import</span> color</span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="im">from</span> skimage.transform <span class="im">import</span> resize</span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="im">import</span> math</span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="im">from</span> skimage.feature <span class="im">import</span> hog</span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="collect-hog-features-for-backflip-image" class="level2">
<h2 class="anchored" data-anchor-id="collect-hog-features-for-backflip-image">Collect HOG Features for Backflip Image</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># List for storing images</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>img_list <span class="op">=</span> []</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"># SF aerial</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>img_list.append(color.rgb2gray(io.imread(<span class="st">"images/TitusFlip.jpg"</span>)))</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co"># List to store magnitudes for each image</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>mag_list <span class="op">=</span> []</span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co"># List to store angles for each image</span></span>
<span id="cb3-11"><a href="#cb3-11"></a>theta_list <span class="op">=</span> []</span>
<span id="cb3-12"><a href="#cb3-12"></a></span>
<span id="cb3-13"><a href="#cb3-13"></a></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(img_list)):</span>
<span id="cb3-15"><a href="#cb3-15"></a>    <span class="co"># Get image of interest</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>    img <span class="op">=</span> img_list[x]</span>
<span id="cb3-17"><a href="#cb3-17"></a></span>
<span id="cb3-18"><a href="#cb3-18"></a>    rescaled_file_path <span class="op">=</span> <span class="ss">f"images/plots/backflip/</span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">.jpg"</span></span>
<span id="cb3-19"><a href="#cb3-19"></a></span>
<span id="cb3-20"><a href="#cb3-20"></a>    <span class="co"># Determine aspect Ratio</span></span>
<span id="cb3-21"><a href="#cb3-21"></a>    aspect_ratio <span class="op">=</span> img.shape[<span class="dv">0</span>] <span class="op">/</span> img.shape[<span class="dv">1</span>]</span>
<span id="cb3-22"><a href="#cb3-22"></a>    <span class="bu">print</span>(<span class="st">"Aspect Ratio:"</span>, aspect_ratio)</span>
<span id="cb3-23"><a href="#cb3-23"></a></span>
<span id="cb3-24"><a href="#cb3-24"></a>    <span class="co"># Hard-Code height to 200 pixels</span></span>
<span id="cb3-25"><a href="#cb3-25"></a>    height <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb3-26"><a href="#cb3-26"></a></span>
<span id="cb3-27"><a href="#cb3-27"></a>    <span class="co"># Calculate witdth to maintain same aspect ratio</span></span>
<span id="cb3-28"><a href="#cb3-28"></a>    width <span class="op">=</span> <span class="bu">int</span>(height <span class="op">/</span> aspect_ratio)</span>
<span id="cb3-29"><a href="#cb3-29"></a>    <span class="bu">print</span>(<span class="st">"Resized Width:"</span>, width)</span>
<span id="cb3-30"><a href="#cb3-30"></a></span>
<span id="cb3-31"><a href="#cb3-31"></a>    <span class="co"># Resize the image</span></span>
<span id="cb3-32"><a href="#cb3-32"></a>    resized_img <span class="op">=</span> resize(img, (height, width))</span>
<span id="cb3-33"><a href="#cb3-33"></a></span>
<span id="cb3-34"><a href="#cb3-34"></a>    <span class="co"># Replace the original image with the resized image</span></span>
<span id="cb3-35"><a href="#cb3-35"></a>    img_list[x] <span class="op">=</span> resized_img</span>
<span id="cb3-36"><a href="#cb3-36"></a></span>
<span id="cb3-37"><a href="#cb3-37"></a>    <span class="co"># plt.figure(figsize=(15, 8))</span></span>
<span id="cb3-38"><a href="#cb3-38"></a>    <span class="co"># plt.imshow(resized_img, cmap="gray")</span></span>
<span id="cb3-39"><a href="#cb3-39"></a>    <span class="co"># plt.axis("on")</span></span>
<span id="cb3-40"><a href="#cb3-40"></a>    <span class="co"># plt.tight_layout()</span></span>
<span id="cb3-41"><a href="#cb3-41"></a>    <span class="co"># plt.savefig(rescaled_file_path, dpi=300)</span></span>
<span id="cb3-42"><a href="#cb3-42"></a>    <span class="co"># plt.show()</span></span>
<span id="cb3-43"><a href="#cb3-43"></a></span>
<span id="cb3-44"><a href="#cb3-44"></a>    <span class="co"># list for storing all magnitudes for image[x]</span></span>
<span id="cb3-45"><a href="#cb3-45"></a>    mag <span class="op">=</span> []</span>
<span id="cb3-46"><a href="#cb3-46"></a></span>
<span id="cb3-47"><a href="#cb3-47"></a>    <span class="co"># list for storing all angles for image[x]</span></span>
<span id="cb3-48"><a href="#cb3-48"></a>    theta <span class="op">=</span> []</span>
<span id="cb3-49"><a href="#cb3-49"></a></span>
<span id="cb3-50"><a href="#cb3-50"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(height):</span>
<span id="cb3-51"><a href="#cb3-51"></a>        magnitudeArray <span class="op">=</span> []</span>
<span id="cb3-52"><a href="#cb3-52"></a>        angleArray <span class="op">=</span> []</span>
<span id="cb3-53"><a href="#cb3-53"></a></span>
<span id="cb3-54"><a href="#cb3-54"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(width):</span>
<span id="cb3-55"><a href="#cb3-55"></a>            <span class="cf">if</span> j <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> j <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> width:</span>
<span id="cb3-56"><a href="#cb3-56"></a>                <span class="cf">if</span> j <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb3-57"><a href="#cb3-57"></a>                    Gx <span class="op">=</span> resized_img[i][j <span class="op">+</span> <span class="dv">1</span>] <span class="op">-</span> <span class="dv">0</span></span>
<span id="cb3-58"><a href="#cb3-58"></a>                <span class="cf">elif</span> j <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> width:</span>
<span id="cb3-59"><a href="#cb3-59"></a>                    Gx <span class="op">=</span> <span class="dv">0</span> <span class="op">-</span> resized_img[i][j <span class="op">-</span> <span class="dv">1</span>]</span>
<span id="cb3-60"><a href="#cb3-60"></a>            <span class="cf">else</span>:</span>
<span id="cb3-61"><a href="#cb3-61"></a>                Gx <span class="op">=</span> resized_img[i][j <span class="op">+</span> <span class="dv">1</span>] <span class="op">-</span> resized_img[i][j <span class="op">-</span> <span class="dv">1</span>]</span>
<span id="cb3-62"><a href="#cb3-62"></a></span>
<span id="cb3-63"><a href="#cb3-63"></a>            <span class="cf">if</span> i <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> i <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> height:</span>
<span id="cb3-64"><a href="#cb3-64"></a>                <span class="cf">if</span> i <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb3-65"><a href="#cb3-65"></a>                    Gy <span class="op">=</span> <span class="dv">0</span> <span class="op">-</span> resized_img[i <span class="op">+</span> <span class="dv">1</span>][j]</span>
<span id="cb3-66"><a href="#cb3-66"></a>                <span class="cf">elif</span> i <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> height:</span>
<span id="cb3-67"><a href="#cb3-67"></a>                    Gy <span class="op">=</span> resized_img[i <span class="op">-</span> <span class="dv">1</span>][j] <span class="op">-</span> <span class="dv">0</span></span>
<span id="cb3-68"><a href="#cb3-68"></a>            <span class="cf">else</span>:</span>
<span id="cb3-69"><a href="#cb3-69"></a>                Gy <span class="op">=</span> resized_img[i <span class="op">+</span> <span class="dv">1</span>][j] <span class="op">-</span> resized_img[i <span class="op">-</span> <span class="dv">1</span>][j]</span>
<span id="cb3-70"><a href="#cb3-70"></a></span>
<span id="cb3-71"><a href="#cb3-71"></a>            magnitude <span class="op">=</span> math.sqrt(<span class="bu">pow</span>(Gx, <span class="dv">2</span>) <span class="op">+</span> <span class="bu">pow</span>(Gy, <span class="dv">2</span>))</span>
<span id="cb3-72"><a href="#cb3-72"></a>            magnitudeArray.append(<span class="bu">round</span>(magnitude, <span class="dv">9</span>))</span>
<span id="cb3-73"><a href="#cb3-73"></a></span>
<span id="cb3-74"><a href="#cb3-74"></a>            <span class="cf">if</span> Gx <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb3-75"><a href="#cb3-75"></a>                angle <span class="op">=</span> math.degrees(<span class="fl">0.0</span>)</span>
<span id="cb3-76"><a href="#cb3-76"></a>            <span class="cf">else</span>:</span>
<span id="cb3-77"><a href="#cb3-77"></a>                angle <span class="op">=</span> math.degrees(math.atan(Gy <span class="op">/</span> Gx))</span>
<span id="cb3-78"><a href="#cb3-78"></a>                <span class="cf">if</span> angle <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb3-79"><a href="#cb3-79"></a>                    angle <span class="op">+=</span> <span class="dv">180</span></span>
<span id="cb3-80"><a href="#cb3-80"></a></span>
<span id="cb3-81"><a href="#cb3-81"></a>            angleArray.append(<span class="bu">round</span>(angle, <span class="dv">9</span>))</span>
<span id="cb3-82"><a href="#cb3-82"></a></span>
<span id="cb3-83"><a href="#cb3-83"></a>        mag.append(magnitudeArray)</span>
<span id="cb3-84"><a href="#cb3-84"></a>        theta.append(angleArray)</span>
<span id="cb3-85"><a href="#cb3-85"></a></span>
<span id="cb3-86"><a href="#cb3-86"></a>    <span class="co"># add list of magnitudes to list[x]</span></span>
<span id="cb3-87"><a href="#cb3-87"></a>    mag_list.append(mag)</span>
<span id="cb3-88"><a href="#cb3-88"></a></span>
<span id="cb3-89"><a href="#cb3-89"></a>    <span class="co"># add list of angles to angle list[x]</span></span>
<span id="cb3-90"><a href="#cb3-90"></a>    theta_list.append(theta)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Aspect Ratio: 1.25
Resized Width: 160</code></pre>
</div>
</div>
<div align="center">

<div id="fig-flip" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-flip-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/backflip/0.jpg" class="lightbox" data-gallery="flip-rescale-gallery" data-glightbox="description: .lightbox-desc-2" title="Skiing Backflip"><img src="images/plots/backflip/0.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Skiing Backflip</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-flip-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.2: Skiing Backflip Image Re-scaled and Converted to Grayscale
</figcaption>
</figure>
</div>
<div>

</div></div></section>
<section id="extract-gradient-magnitudes-and-angles-from-backflip-image" class="level2">
<h2 class="anchored" data-anchor-id="extract-gradient-magnitudes-and-angles-from-backflip-image">Extract Gradient Magnitudes and Angles from Backflip Image</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># DF of gradient magnitudes and angles</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>mag_flip <span class="op">=</span> np.array(mag_list[<span class="dv">0</span>])</span>
<span id="cb5-3"><a href="#cb5-3"></a>theta_flip <span class="op">=</span> np.array(theta_list[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="plot-magnitudes-as-image-for-backflip-image" class="level2">
<h2 class="anchored" data-anchor-id="plot-magnitudes-as-image-for-backflip-image">Plot Magnitudes as Image for Backflip Image</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Save gradient magnitudes of backflip in image form</span></span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co"># plt.figure(figsize=(15, 8))</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co"># #plt.title('San Francisco, CA Gradient Magnitudes')</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co"># plt.imshow(mag_list[0], cmap="gray")</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co"># plt.axis("on")</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co"># #plt.show()</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co"># plt.savefig("images/plots/backflip/backflip_mag.png", dpi=300)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div align="center">

<div id="fig-backflip-mags" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-backflip-mags-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/backflip/backflip_mag.png" class="lightbox" data-gallery="backflip-mag-gallery" data-glightbox="description: .lightbox-desc-3" title="Skiing Backflip Image"><img src="images/plots/backflip/backflip_mag.png" class="img-fluid figure-img"></a></p>
<figcaption>Skiing Backflip Image</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-backflip-mags-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.3: Skiing Backflip Cityscape Magnitudes as Image
</figcaption>
</figure>
</div>
<div>


</div></div></section>
<section id="create-data-frame-for-backflip-image" class="level2">
<h2 class="anchored" data-anchor-id="create-data-frame-for-backflip-image">Create Data Frame for Backflip Image</h2>
<div class="cell">
<details class="code-fold">
<summary>Make Data Frame for backflip image magnitudes and angles and store it in a list</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Flip DF</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>backflip_hog_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">mag =</span> <span class="fu">as.vector</span>(py<span class="sc">$</span>mag_flip),</span>
<span id="cb7-3"><a href="#cb7-3"></a>                              <span class="at">theta =</span> <span class="fu">as.vector</span>((py<span class="sc">$</span>theta_flip))) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">mutate</span>(<span class="at">radian =</span> theta<span class="sc">*</span>(pi<span class="sc">/</span><span class="dv">180</span>))</span>
<span id="cb7-5"><a href="#cb7-5"></a></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co"># Add to list</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>flip_standard_df_list <span class="ot">=</span> <span class="fu">list</span>(backflip_hog_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="create-histograms-of-gradient-magnitudes-and-angles-for-backflip-image" class="level2">
<h2 class="anchored" data-anchor-id="create-histograms-of-gradient-magnitudes-and-angles-for-backflip-image">Create Histograms of Gradient Magnitudes and Angles for Backflip Image</h2>
<div class="cell">
<details class="code-fold">
<summary>Plot histogram of backflip image gradient magnitudes and define the magnitude level for later filtering</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># backflip histogram of gradient mags</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>flip_histogram_mag_plot <span class="ot">&lt;-</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">ggplot</span>(flip_standard_df_list[[<span class="dv">1</span>]],</span>
<span id="cb8-4"><a href="#cb8-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> mag)) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="fu">scale_x_continuous</span>() <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gradient Magnitude"</span>,</span>
<span id="cb8-8"><a href="#cb8-8"></a>       <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb8-9"><a href="#cb8-9"></a>       <span class="at">title =</span> <span class="st">"Skiing Backflip Image Histogram of Gradient Magnitudes"</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>       ) <span class="sc">+</span></span>
<span id="cb8-11"><a href="#cb8-11"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb8-13"><a href="#cb8-13"></a></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co"># flip magn filter level</span></span>
<span id="cb8-15"><a href="#cb8-15"></a>flip_mag_filter <span class="ot">&lt;-</span> <span class="fl">0.2</span></span>
<span id="cb8-16"><a href="#cb8-16"></a></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co"># save image</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/backflip/backflip_histogram_mag_plot.jpg"</span>, </span>
<span id="cb8-19"><a href="#cb8-19"></a>       flip_histogram_mag_plot, </span>
<span id="cb8-20"><a href="#cb8-20"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb8-21"><a href="#cb8-21"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb8-22"><a href="#cb8-22"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Plot histogram of backflip image gradient angles</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># backflip histogram of gradient angles</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>flip_histogram_theta_plot <span class="ot">&lt;-</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">ggplot</span>(flip_standard_df_list[[<span class="dv">1</span>]],</span>
<span id="cb9-4"><a href="#cb9-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> theta)) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="fu">scale_x_continuous</span>() <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gradient Angle"</span>,</span>
<span id="cb9-8"><a href="#cb9-8"></a>       <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb9-9"><a href="#cb9-9"></a>       <span class="at">title =</span> <span class="st">"Skiing Backflip Image Histogram of Gradient Angles"</span></span>
<span id="cb9-10"><a href="#cb9-10"></a>       ) <span class="sc">+</span></span>
<span id="cb9-11"><a href="#cb9-11"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb9-12"><a href="#cb9-12"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb9-13"><a href="#cb9-13"></a></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="co"># save image</span></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/backflip/backflip_histogram_theta_plot.jpg"</span>, </span>
<span id="cb9-16"><a href="#cb9-16"></a>       flip_histogram_theta_plot, </span>
<span id="cb9-17"><a href="#cb9-17"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb9-18"><a href="#cb9-18"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb9-19"><a href="#cb9-19"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div align="center">

<div id="fig-flip-histograms" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-flip-histograms-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/backflip/backflip_histogram_mag_plot.jpg" class="lightbox" data-gallery="flip-hist-gallery" data-glightbox="description: .lightbox-desc-4" title="Histogram of Gradient Magnitudes"><img src="images/plots/backflip/backflip_histogram_mag_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Histogram of Gradient Magnitudes</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/backflip/backflip_histogram_theta_plot.jpg" class="lightbox" data-gallery="flip-hist-gallery" data-glightbox="description: .lightbox-desc-5" title="Histogram of Gradient Angles"><img src="images/plots/backflip/backflip_histogram_theta_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Histogram of Gradient Angles</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-flip-histograms-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.4: Skiing Backflip Magnitudes and Angles
</figcaption>
</figure>
</div>
<div>







</div></div></section>
<section id="build-new-distributed-histogram-data-frame-for-backflip-image" class="level2">
<h2 class="anchored" data-anchor-id="build-new-distributed-histogram-data-frame-for-backflip-image">Build New Distributed Histogram Data Frame for Backflip Image</h2>
<div class="cell">
<details class="code-fold">
<summary>Function for calculating values for each bin of distributed histogram</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># function to calculate the contributions to neighboring bins</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>calculate_bin_contributions <span class="ot">&lt;-</span> <span class="cf">function</span>(angle, magnitude, num_bins) {</span>
<span id="cb10-3"><a href="#cb10-3"></a>  bin_width <span class="ot">&lt;-</span> <span class="dv">180</span> <span class="sc">/</span> num_bins</span>
<span id="cb10-4"><a href="#cb10-4"></a>  contributions <span class="ot">&lt;-</span> <span class="fu">numeric</span>(num_bins)</span>
<span id="cb10-5"><a href="#cb10-5"></a>  </span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="co"># get the central bin</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>  central_bin <span class="ot">&lt;-</span> <span class="fu">floor</span>(angle <span class="sc">/</span> bin_width) <span class="sc">%%</span> num_bins</span>
<span id="cb10-8"><a href="#cb10-8"></a>  next_bin <span class="ot">&lt;-</span> (central_bin <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">%%</span> num_bins</span>
<span id="cb10-9"><a href="#cb10-9"></a>  </span>
<span id="cb10-10"><a href="#cb10-10"></a>  <span class="co"># get contributions to neighboring bins</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>  weight <span class="ot">&lt;-</span> (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">abs</span>((angle <span class="sc">%%</span> bin_width) <span class="sc">/</span> bin_width)) <span class="sc">*</span> magnitude</span>
<span id="cb10-12"><a href="#cb10-12"></a>  </span>
<span id="cb10-13"><a href="#cb10-13"></a>  contributions[central_bin <span class="sc">+</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> weight</span>
<span id="cb10-14"><a href="#cb10-14"></a>  contributions[next_bin <span class="sc">+</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> magnitude <span class="sc">-</span> weight</span>
<span id="cb10-15"><a href="#cb10-15"></a>  </span>
<span id="cb10-16"><a href="#cb10-16"></a>  <span class="fu">return</span>(<span class="fu">list</span>(contributions[<span class="dv">1</span>],</span>
<span id="cb10-17"><a href="#cb10-17"></a>         contributions[<span class="dv">2</span>],</span>
<span id="cb10-18"><a href="#cb10-18"></a>         contributions[<span class="dv">3</span>],</span>
<span id="cb10-19"><a href="#cb10-19"></a>         contributions[<span class="dv">4</span>],</span>
<span id="cb10-20"><a href="#cb10-20"></a>         contributions[<span class="dv">5</span>],</span>
<span id="cb10-21"><a href="#cb10-21"></a>         contributions[<span class="dv">6</span>],</span>
<span id="cb10-22"><a href="#cb10-22"></a>         contributions[<span class="dv">7</span>],</span>
<span id="cb10-23"><a href="#cb10-23"></a>         contributions[<span class="dv">8</span>],</span>
<span id="cb10-24"><a href="#cb10-24"></a>         contributions[<span class="dv">9</span>])</span>
<span id="cb10-25"><a href="#cb10-25"></a>         )</span>
<span id="cb10-26"><a href="#cb10-26"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Filter data frame of gradients and angles to only contain observations with magnitudes greater than or equal to the respective magnitude levels determined above</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Create filtered data frames using the filter level </span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co"># for magnitudes defined above, store in a list</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>filtered_flip_standard_df_list <span class="ot">&lt;-</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="fu">list</span>(backflip_hog_df <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>         <span class="fu">filter</span>(mag <span class="sc">&gt;=</span> flip_mag_filter))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Calculate the contribution to each bin for the distribued histogram</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># Define the number of bins</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>num_bins <span class="ot">&lt;-</span> <span class="dv">9</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>flip_contribution_df_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb12-4"><a href="#cb12-4"></a></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co"># iterate through each filtered standard data frame (only 1 in this case)</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(filtered_flip_standard_df_list)){</span>
<span id="cb12-7"><a href="#cb12-7"></a></span>
<span id="cb12-8"><a href="#cb12-8"></a>  flip_contribution_hog_df <span class="ot">&lt;-</span></span>
<span id="cb12-9"><a href="#cb12-9"></a>    filtered_flip_standard_df_list[[i]] <span class="sc">%&gt;%</span></span>
<span id="cb12-10"><a href="#cb12-10"></a>    <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-11"><a href="#cb12-11"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">1</span>]],</span>
<span id="cb12-12"><a href="#cb12-12"></a>           <span class="st">`</span><span class="at">20</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">2</span>]],</span>
<span id="cb12-13"><a href="#cb12-13"></a>           <span class="st">`</span><span class="at">40</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">3</span>]],</span>
<span id="cb12-14"><a href="#cb12-14"></a>           <span class="st">`</span><span class="at">60</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">4</span>]],</span>
<span id="cb12-15"><a href="#cb12-15"></a>           <span class="st">`</span><span class="at">80</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">5</span>]],</span>
<span id="cb12-16"><a href="#cb12-16"></a>           <span class="st">`</span><span class="at">100</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">6</span>]],</span>
<span id="cb12-17"><a href="#cb12-17"></a>           <span class="st">`</span><span class="at">120</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">7</span>]],</span>
<span id="cb12-18"><a href="#cb12-18"></a>           <span class="st">`</span><span class="at">140</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">8</span>]],</span>
<span id="cb12-19"><a href="#cb12-19"></a>           <span class="st">`</span><span class="at">160</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">9</span>]],</span>
<span id="cb12-20"><a href="#cb12-20"></a>           )</span>
<span id="cb12-21"><a href="#cb12-21"></a>  </span>
<span id="cb12-22"><a href="#cb12-22"></a>  <span class="co"># rearrange into same tidy format</span></span>
<span id="cb12-23"><a href="#cb12-23"></a>  flip_split_histo_df <span class="ot">&lt;-</span></span>
<span id="cb12-24"><a href="#cb12-24"></a>    flip_contribution_hog_df <span class="sc">%&gt;%</span></span>
<span id="cb12-25"><a href="#cb12-25"></a>    <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">"bin"</span>,</span>
<span id="cb12-26"><a href="#cb12-26"></a>                 <span class="at">values_to =</span> <span class="st">"contribution"</span>,</span>
<span id="cb12-27"><a href="#cb12-27"></a>                 <span class="at">cols =</span> <span class="dv">4</span><span class="sc">:</span><span class="fu">ncol</span>(flip_contribution_hog_df)) <span class="sc">%&gt;%</span></span>
<span id="cb12-28"><a href="#cb12-28"></a>    <span class="fu">mutate</span>(<span class="at">bin =</span> <span class="fu">as.numeric</span>(bin)) <span class="sc">%&gt;%</span></span>
<span id="cb12-29"><a href="#cb12-29"></a>    <span class="fu">group_by</span>(bin) <span class="sc">%&gt;%</span></span>
<span id="cb12-30"><a href="#cb12-30"></a>    <span class="fu">summarise</span>(<span class="at">contribution_sum =</span> <span class="fu">sum</span>(contribution))</span>
<span id="cb12-31"><a href="#cb12-31"></a></span>
<span id="cb12-32"><a href="#cb12-32"></a>  <span class="co"># add to list for storage</span></span>
<span id="cb12-33"><a href="#cb12-33"></a>  flip_contribution_df_list[[i]] <span class="ot">&lt;-</span> flip_split_histo_df</span>
<span id="cb12-34"><a href="#cb12-34"></a></span>
<span id="cb12-35"><a href="#cb12-35"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="generate-polar-plots-for-standard-historgrams-for-backflip-image" class="level2">
<h2 class="anchored" data-anchor-id="generate-polar-plots-for-standard-historgrams-for-backflip-image">Generate Polar Plots for Standard Historgrams for Backflip Image</h2>
<div class="cell">
<details class="code-fold">
<summary>Polar plot of backflip image histogram of gradient angles using standard binning technique</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># backflip plot</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>flip_plot <span class="ot">&lt;-</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="fu">ggplot</span>(filtered_flip_standard_df_list[[<span class="dv">1</span>]],</span>
<span id="cb13-4"><a href="#cb13-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> theta)) <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb13-6"><a href="#cb13-6"></a>                 <span class="at">fill =</span> <span class="st">"lightblue"</span>,</span>
<span id="cb13-7"><a href="#cb13-7"></a>                 <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">360</span>, <span class="at">length.out =</span> <span class="fl">17.5</span>),</span>
<span id="cb13-8"><a href="#cb13-8"></a>                 <span class="at">bins =</span> <span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb13-9"><a href="#cb13-9"></a>  <span class="fu">coord_polar</span>(</span>
<span id="cb13-10"><a href="#cb13-10"></a>    <span class="at">theta =</span> <span class="st">"x"</span>,</span>
<span id="cb13-11"><a href="#cb13-11"></a>    <span class="at">start =</span> <span class="dv">0</span>,</span>
<span id="cb13-12"><a href="#cb13-12"></a>    <span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb13-13"><a href="#cb13-13"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">360</span>),</span>
<span id="cb13-14"><a href="#cb13-14"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">45</span>, <span class="dv">90</span>, <span class="dv">135</span>, <span class="dv">180</span>, <span class="dv">225</span>, <span class="dv">270</span>, <span class="dv">315</span>),</span>
<span id="cb13-15"><a href="#cb13-15"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N"</span>, <span class="st">"NE"</span>, <span class="st">"E"</span>, <span class="st">"SE"</span>, <span class="st">"S"</span>, <span class="st">"SW"</span>, <span class="st">"W"</span>, <span class="st">"NW"</span>)</span>
<span id="cb13-16"><a href="#cb13-16"></a>  )<span class="sc">+</span></span>
<span id="cb13-17"><a href="#cb13-17"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Polar Plot of Skiing Backflip</span><span class="sc">\n</span><span class="st">Image Using Standard HOG Technique"</span>) <span class="sc">+</span></span>
<span id="cb13-18"><a href="#cb13-18"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb13-19"><a href="#cb13-19"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb13-20"><a href="#cb13-20"></a>  <span class="fu">theme</span>(<span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-21"><a href="#cb13-21"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb13-22"><a href="#cb13-22"></a></span>
<span id="cb13-23"><a href="#cb13-23"></a><span class="co"># save image</span></span>
<span id="cb13-24"><a href="#cb13-24"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/backflip/backflip_standard_polar_plot.jpg"</span>, </span>
<span id="cb13-25"><a href="#cb13-25"></a>       flip_plot, </span>
<span id="cb13-26"><a href="#cb13-26"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb13-27"><a href="#cb13-27"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb13-28"><a href="#cb13-28"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="generate-polar-plots-for-distributed-historgrams-of-diagonal-image" class="level2">
<h2 class="anchored" data-anchor-id="generate-polar-plots-for-distributed-historgrams-of-diagonal-image">Generate Polar Plots for Distributed Historgrams of Diagonal Image</h2>
<div class="cell">
<details class="code-fold">
<summary>Polar plot of backflip image histogram of gradient angles using distributed binning technique</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># backflip plot</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>flip_split_plot <span class="ot">&lt;-</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="fu">ggplot</span>(flip_contribution_df_list[[<span class="dv">1</span>]],</span>
<span id="cb14-4"><a href="#cb14-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> bin, <span class="at">y =</span> contribution_sum)) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">stat =</span> <span class="st">"identity"</span>,</span>
<span id="cb14-6"><a href="#cb14-6"></a>                 <span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb14-7"><a href="#cb14-7"></a>                 <span class="at">fill =</span> <span class="st">"lightblue"</span>,</span>
<span id="cb14-8"><a href="#cb14-8"></a>                 <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">360</span>, <span class="at">length.out =</span> <span class="fl">17.5</span>),</span>
<span id="cb14-9"><a href="#cb14-9"></a>                 <span class="at">bins =</span> <span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>  <span class="fu">coord_polar</span>(</span>
<span id="cb14-11"><a href="#cb14-11"></a>    <span class="at">theta =</span> <span class="st">"x"</span>,</span>
<span id="cb14-12"><a href="#cb14-12"></a>    <span class="at">start =</span> <span class="dv">0</span>,</span>
<span id="cb14-13"><a href="#cb14-13"></a>    <span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb14-14"><a href="#cb14-14"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">360</span>),</span>
<span id="cb14-15"><a href="#cb14-15"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">45</span>, <span class="dv">90</span>, <span class="dv">135</span>, <span class="dv">180</span>, <span class="dv">225</span>, <span class="dv">270</span>, <span class="dv">315</span>),</span>
<span id="cb14-16"><a href="#cb14-16"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N"</span>, <span class="st">"NE"</span>, <span class="st">"E"</span>, <span class="st">"SE"</span>, <span class="st">"S"</span>, <span class="st">"SW"</span>, <span class="st">"W"</span>, <span class="st">"NW"</span>)</span>
<span id="cb14-17"><a href="#cb14-17"></a>  )<span class="sc">+</span></span>
<span id="cb14-18"><a href="#cb14-18"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Polar Plot of Skiing Backflip Image</span><span class="sc">\n</span><span class="st">Using Distributed HOG Technique"</span>) <span class="sc">+</span></span>
<span id="cb14-19"><a href="#cb14-19"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb14-20"><a href="#cb14-20"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb14-21"><a href="#cb14-21"></a>  <span class="fu">theme</span>(<span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb14-22"><a href="#cb14-22"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb14-23"><a href="#cb14-23"></a></span>
<span id="cb14-24"><a href="#cb14-24"></a><span class="co"># save image</span></span>
<span id="cb14-25"><a href="#cb14-25"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/backflip/backflip_contribution_polar_plot.jpg"</span>, </span>
<span id="cb14-26"><a href="#cb14-26"></a>       flip_split_plot, </span>
<span id="cb14-27"><a href="#cb14-27"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb14-28"><a href="#cb14-28"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb14-29"><a href="#cb14-29"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div align="center">

<div id="fig-flip-distributed-and-standard-polar" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-flip-distributed-and-standard-polar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/backflip/backflip_standard_polar_plot.jpg" class="lightbox" data-gallery="flip-standard-and-dist-polar-gallery" data-glightbox="description: .lightbox-desc-6" title="Polar Plot Using Standard HOG Technique"><img src="images/plots/backflip/backflip_standard_polar_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Polar Plot Using Standard HOG Technique</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/backflip/backflip_contribution_polar_plot.jpg" class="lightbox" data-gallery="flip-standard-and-dist-polar-gallery" data-glightbox="description: .lightbox-desc-7" title="Polar Plot Using Distributed HOG Technique"><img src="images/plots/backflip/backflip_contribution_polar_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Polar Plot Using Distributed HOG Technique</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-flip-distributed-and-standard-polar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.5: Polar Plots using Standard and Distributed Binning Technique for Skiing Backflip Image
</figcaption>
</figure>
</div>
<div>




<div align="left">

<div class="line-block">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When looking at the gradient magnitudes in image form the most definitive lines occur where the snow from the jump is visible. This makes sense, because the snowy jump is a uniform white, resulting in minimal gradient magnitudes from one pixel to the next within this area. When the edge of the snow meets the crowd in the background, there is a great increase in gradient magnitude. Since the snowy jump in this image is mostly horizontal with some incline and decline, both polar plots identify the horizontal angle as being the most frequent. Interestingly, the distributed binning technique has a notably smaller frequency of vertical lines, likely due to the greater influence of magnitudes on their contribution to the histogram.</div>
<div>






<!-- -->

<div class="hidden" aria-hidden="true">
<span class="glightbox-desc lightbox-desc-1">Skiing Backflip Image</span>
<span class="glightbox-desc lightbox-desc-2">Skiing Backflip</span>
<span class="glightbox-desc lightbox-desc-3">Skiing Backflip Image</span>
<span class="glightbox-desc lightbox-desc-4">Histogram of Gradient Magnitudes</span>
<span class="glightbox-desc lightbox-desc-5">Histogram of Gradient Angles</span>
<span class="glightbox-desc lightbox-desc-6">Polar Plot Using Standard HOG Technique</span>
<span class="glightbox-desc lightbox-desc-7">Polar Plot Using Distributed HOG Technique</span>
</div>
</div></div></div></div></section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./grass_images_results.html" class="pagination-link" aria-label="Grass Images">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Grass Images</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./conclusion.html" class="pagination-link" aria-label="Conclusion">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Conclusion</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb15" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb15-1"><a href="#cb15-1"></a><span class="co">---</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="an">title:</span><span class="co"> "Backflip Image"</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="an">author:</span><span class="co"> "Ben Sunshine"</span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="an">lightbox:</span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="co">  match: auto</span></span>
<span id="cb15-6"><a href="#cb15-6"></a><span class="co">  effect: zoom</span></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="co">  desc-position: bottom</span></span>
<span id="cb15-8"><a href="#cb15-8"></a><span class="an">code-annotations:</span><span class="co"> below</span></span>
<span id="cb15-9"><a href="#cb15-9"></a><span class="co">---</span></span>
<span id="cb15-10"><a href="#cb15-10"></a></span>
<span id="cb15-11"><a href="#cb15-11"></a><span class="fu">## Motivation</span></span>
<span id="cb15-12"><a href="#cb15-12"></a></span>
<span id="cb15-13"><a href="#cb15-13"></a>Test the HOG algorithm's ability to identify dominant edges using an image of a skier. This scenario adds complexity with both a skier in the foreground and a crowd in the background, allowing us to observe how the algorithm deals with additional "noise".</span>
<span id="cb15-14"><a href="#cb15-14"></a></span>
<span id="cb15-15"><a href="#cb15-15"></a><span class="fu">## Input Image</span></span>
<span id="cb15-16"><a href="#cb15-16"></a></span>
<span id="cb15-17"><a href="#cb15-17"></a>&lt;div align="center"&gt;</span>
<span id="cb15-18"><a href="#cb15-18"></a></span>
<span id="cb15-19"><a href="#cb15-19"></a>::: {#fig-flip layout-valign="top" layout-ncol=1}</span>
<span id="cb15-20"><a href="#cb15-20"></a><span class="al">![Skiing Backflip Image](images/TitusFlip.jpg)</span>{group="flip-rescale-gallery" height=10%}</span>
<span id="cb15-21"><a href="#cb15-21"></a></span>
<span id="cb15-22"><a href="#cb15-22"></a>Input Image</span>
<span id="cb15-23"><a href="#cb15-23"></a>:::</span>
<span id="cb15-24"><a href="#cb15-24"></a></span>
<span id="cb15-25"><a href="#cb15-25"></a>&lt;div&gt;</span>
<span id="cb15-26"><a href="#cb15-26"></a></span>
<span id="cb15-27"><a href="#cb15-27"></a></span>
<span id="cb15-28"><a href="#cb15-28"></a></span>
<span id="cb15-29"><a href="#cb15-29"></a><span class="fu">## Load R Packages and Python Libraries</span></span>
<span id="cb15-30"><a href="#cb15-30"></a></span>
<span id="cb15-31"><a href="#cb15-31"></a><span class="in">```{r load_r_packages, message=FALSE}</span></span>
<span id="cb15-32"><a href="#cb15-32"></a><span class="in">#| code-summary: "Load R Packages"</span></span>
<span id="cb15-33"><a href="#cb15-33"></a><span class="in"># Load R Packages</span></span>
<span id="cb15-34"><a href="#cb15-34"></a><span class="in">library(reticulate)</span></span>
<span id="cb15-35"><a href="#cb15-35"></a><span class="in">library(tidyverse)</span></span>
<span id="cb15-36"><a href="#cb15-36"></a><span class="in">library(mapsapi)</span></span>
<span id="cb15-37"><a href="#cb15-37"></a><span class="in">library(mapboxapi)</span></span>
<span id="cb15-38"><a href="#cb15-38"></a><span class="in">library(magick)</span></span>
<span id="cb15-39"><a href="#cb15-39"></a><span class="in">```</span></span>
<span id="cb15-40"><a href="#cb15-40"></a></span>
<span id="cb15-41"><a href="#cb15-41"></a><span class="in">```{python load_python_modules}</span></span>
<span id="cb15-42"><a href="#cb15-42"></a><span class="in"># Load Python Libraries</span></span>
<span id="cb15-43"><a href="#cb15-43"></a><span class="in">import matplotlib.pyplot as plt</span></span>
<span id="cb15-44"><a href="#cb15-44"></a><span class="in">import pandas as pd</span></span>
<span id="cb15-45"><a href="#cb15-45"></a><span class="in">from skimage.io import imread, imshow</span></span>
<span id="cb15-46"><a href="#cb15-46"></a><span class="in">from skimage.transform import resize</span></span>
<span id="cb15-47"><a href="#cb15-47"></a><span class="in">from skimage.feature import hog</span></span>
<span id="cb15-48"><a href="#cb15-48"></a><span class="in">from skimage import data, exposure</span></span>
<span id="cb15-49"><a href="#cb15-49"></a><span class="in">import matplotlib.pyplot as plt</span></span>
<span id="cb15-50"><a href="#cb15-50"></a><span class="in">from skimage import io</span></span>
<span id="cb15-51"><a href="#cb15-51"></a><span class="in">from skimage import color</span></span>
<span id="cb15-52"><a href="#cb15-52"></a><span class="in">from skimage.transform import resize</span></span>
<span id="cb15-53"><a href="#cb15-53"></a><span class="in">import math</span></span>
<span id="cb15-54"><a href="#cb15-54"></a><span class="in">from skimage.feature import hog</span></span>
<span id="cb15-55"><a href="#cb15-55"></a><span class="in">import numpy as np</span></span>
<span id="cb15-56"><a href="#cb15-56"></a></span>
<span id="cb15-57"><a href="#cb15-57"></a><span class="in">```</span></span>
<span id="cb15-58"><a href="#cb15-58"></a></span>
<span id="cb15-59"><a href="#cb15-59"></a><span class="fu">## Collect HOG Features for Backflip Image</span></span>
<span id="cb15-60"><a href="#cb15-60"></a></span>
<span id="cb15-63"><a href="#cb15-63"></a><span class="in">```{python}</span></span>
<span id="cb15-64"><a href="#cb15-64"></a><span class="co"># List for storing images</span></span>
<span id="cb15-65"><a href="#cb15-65"></a>img_list <span class="op">=</span> []</span>
<span id="cb15-66"><a href="#cb15-66"></a></span>
<span id="cb15-67"><a href="#cb15-67"></a><span class="co"># SF aerial</span></span>
<span id="cb15-68"><a href="#cb15-68"></a>img_list.append(color.rgb2gray(io.imread(<span class="st">"images/TitusFlip.jpg"</span>)))</span>
<span id="cb15-69"><a href="#cb15-69"></a></span>
<span id="cb15-70"><a href="#cb15-70"></a><span class="co"># List to store magnitudes for each image</span></span>
<span id="cb15-71"><a href="#cb15-71"></a>mag_list <span class="op">=</span> []</span>
<span id="cb15-72"><a href="#cb15-72"></a></span>
<span id="cb15-73"><a href="#cb15-73"></a><span class="co"># List to store angles for each image</span></span>
<span id="cb15-74"><a href="#cb15-74"></a>theta_list <span class="op">=</span> []</span>
<span id="cb15-75"><a href="#cb15-75"></a></span>
<span id="cb15-76"><a href="#cb15-76"></a></span>
<span id="cb15-77"><a href="#cb15-77"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(img_list)):</span>
<span id="cb15-78"><a href="#cb15-78"></a>    <span class="co"># Get image of interest</span></span>
<span id="cb15-79"><a href="#cb15-79"></a>    img <span class="op">=</span> img_list[x]</span>
<span id="cb15-80"><a href="#cb15-80"></a></span>
<span id="cb15-81"><a href="#cb15-81"></a>    rescaled_file_path <span class="op">=</span> <span class="ss">f"images/plots/backflip/</span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">.jpg"</span></span>
<span id="cb15-82"><a href="#cb15-82"></a></span>
<span id="cb15-83"><a href="#cb15-83"></a>    <span class="co"># Determine aspect Ratio</span></span>
<span id="cb15-84"><a href="#cb15-84"></a>    aspect_ratio <span class="op">=</span> img.shape[<span class="dv">0</span>] <span class="op">/</span> img.shape[<span class="dv">1</span>]</span>
<span id="cb15-85"><a href="#cb15-85"></a>    <span class="bu">print</span>(<span class="st">"Aspect Ratio:"</span>, aspect_ratio)</span>
<span id="cb15-86"><a href="#cb15-86"></a></span>
<span id="cb15-87"><a href="#cb15-87"></a>    <span class="co"># Hard-Code height to 200 pixels</span></span>
<span id="cb15-88"><a href="#cb15-88"></a>    height <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb15-89"><a href="#cb15-89"></a></span>
<span id="cb15-90"><a href="#cb15-90"></a>    <span class="co"># Calculate witdth to maintain same aspect ratio</span></span>
<span id="cb15-91"><a href="#cb15-91"></a>    width <span class="op">=</span> <span class="bu">int</span>(height <span class="op">/</span> aspect_ratio)</span>
<span id="cb15-92"><a href="#cb15-92"></a>    <span class="bu">print</span>(<span class="st">"Resized Width:"</span>, width)</span>
<span id="cb15-93"><a href="#cb15-93"></a></span>
<span id="cb15-94"><a href="#cb15-94"></a>    <span class="co"># Resize the image</span></span>
<span id="cb15-95"><a href="#cb15-95"></a>    resized_img <span class="op">=</span> resize(img, (height, width))</span>
<span id="cb15-96"><a href="#cb15-96"></a></span>
<span id="cb15-97"><a href="#cb15-97"></a>    <span class="co"># Replace the original image with the resized image</span></span>
<span id="cb15-98"><a href="#cb15-98"></a>    img_list[x] <span class="op">=</span> resized_img</span>
<span id="cb15-99"><a href="#cb15-99"></a></span>
<span id="cb15-100"><a href="#cb15-100"></a>    <span class="co"># plt.figure(figsize=(15, 8))</span></span>
<span id="cb15-101"><a href="#cb15-101"></a>    <span class="co"># plt.imshow(resized_img, cmap="gray")</span></span>
<span id="cb15-102"><a href="#cb15-102"></a>    <span class="co"># plt.axis("on")</span></span>
<span id="cb15-103"><a href="#cb15-103"></a>    <span class="co"># plt.tight_layout()</span></span>
<span id="cb15-104"><a href="#cb15-104"></a>    <span class="co"># plt.savefig(rescaled_file_path, dpi=300)</span></span>
<span id="cb15-105"><a href="#cb15-105"></a>    <span class="co"># plt.show()</span></span>
<span id="cb15-106"><a href="#cb15-106"></a></span>
<span id="cb15-107"><a href="#cb15-107"></a></span>
<span id="cb15-108"><a href="#cb15-108"></a>    <span class="co"># list for storing all magnitudes for image[x]</span></span>
<span id="cb15-109"><a href="#cb15-109"></a>    mag <span class="op">=</span> []</span>
<span id="cb15-110"><a href="#cb15-110"></a></span>
<span id="cb15-111"><a href="#cb15-111"></a>    <span class="co"># list for storing all angles for image[x]</span></span>
<span id="cb15-112"><a href="#cb15-112"></a>    theta <span class="op">=</span> []</span>
<span id="cb15-113"><a href="#cb15-113"></a></span>
<span id="cb15-114"><a href="#cb15-114"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(height):</span>
<span id="cb15-115"><a href="#cb15-115"></a>        magnitudeArray <span class="op">=</span> []</span>
<span id="cb15-116"><a href="#cb15-116"></a>        angleArray <span class="op">=</span> []</span>
<span id="cb15-117"><a href="#cb15-117"></a></span>
<span id="cb15-118"><a href="#cb15-118"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(width):</span>
<span id="cb15-119"><a href="#cb15-119"></a>            <span class="cf">if</span> j <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> j <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> width:</span>
<span id="cb15-120"><a href="#cb15-120"></a>                <span class="cf">if</span> j <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb15-121"><a href="#cb15-121"></a>                    Gx <span class="op">=</span> resized_img[i][j <span class="op">+</span> <span class="dv">1</span>] <span class="op">-</span> <span class="dv">0</span></span>
<span id="cb15-122"><a href="#cb15-122"></a>                <span class="cf">elif</span> j <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> width:</span>
<span id="cb15-123"><a href="#cb15-123"></a>                    Gx <span class="op">=</span> <span class="dv">0</span> <span class="op">-</span> resized_img[i][j <span class="op">-</span> <span class="dv">1</span>]</span>
<span id="cb15-124"><a href="#cb15-124"></a>            <span class="cf">else</span>:</span>
<span id="cb15-125"><a href="#cb15-125"></a>                Gx <span class="op">=</span> resized_img[i][j <span class="op">+</span> <span class="dv">1</span>] <span class="op">-</span> resized_img[i][j <span class="op">-</span> <span class="dv">1</span>]</span>
<span id="cb15-126"><a href="#cb15-126"></a></span>
<span id="cb15-127"><a href="#cb15-127"></a>            <span class="cf">if</span> i <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> i <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> height:</span>
<span id="cb15-128"><a href="#cb15-128"></a>                <span class="cf">if</span> i <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb15-129"><a href="#cb15-129"></a>                    Gy <span class="op">=</span> <span class="dv">0</span> <span class="op">-</span> resized_img[i <span class="op">+</span> <span class="dv">1</span>][j]</span>
<span id="cb15-130"><a href="#cb15-130"></a>                <span class="cf">elif</span> i <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> height:</span>
<span id="cb15-131"><a href="#cb15-131"></a>                    Gy <span class="op">=</span> resized_img[i <span class="op">-</span> <span class="dv">1</span>][j] <span class="op">-</span> <span class="dv">0</span></span>
<span id="cb15-132"><a href="#cb15-132"></a>            <span class="cf">else</span>:</span>
<span id="cb15-133"><a href="#cb15-133"></a>                Gy <span class="op">=</span> resized_img[i <span class="op">+</span> <span class="dv">1</span>][j] <span class="op">-</span> resized_img[i <span class="op">-</span> <span class="dv">1</span>][j]</span>
<span id="cb15-134"><a href="#cb15-134"></a></span>
<span id="cb15-135"><a href="#cb15-135"></a>            magnitude <span class="op">=</span> math.sqrt(<span class="bu">pow</span>(Gx, <span class="dv">2</span>) <span class="op">+</span> <span class="bu">pow</span>(Gy, <span class="dv">2</span>))</span>
<span id="cb15-136"><a href="#cb15-136"></a>            magnitudeArray.append(<span class="bu">round</span>(magnitude, <span class="dv">9</span>))</span>
<span id="cb15-137"><a href="#cb15-137"></a></span>
<span id="cb15-138"><a href="#cb15-138"></a>            <span class="cf">if</span> Gx <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb15-139"><a href="#cb15-139"></a>                angle <span class="op">=</span> math.degrees(<span class="fl">0.0</span>)</span>
<span id="cb15-140"><a href="#cb15-140"></a>            <span class="cf">else</span>:</span>
<span id="cb15-141"><a href="#cb15-141"></a>                angle <span class="op">=</span> math.degrees(math.atan(Gy <span class="op">/</span> Gx))</span>
<span id="cb15-142"><a href="#cb15-142"></a>                <span class="cf">if</span> angle <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb15-143"><a href="#cb15-143"></a>                    angle <span class="op">+=</span> <span class="dv">180</span></span>
<span id="cb15-144"><a href="#cb15-144"></a></span>
<span id="cb15-145"><a href="#cb15-145"></a>            angleArray.append(<span class="bu">round</span>(angle, <span class="dv">9</span>))</span>
<span id="cb15-146"><a href="#cb15-146"></a></span>
<span id="cb15-147"><a href="#cb15-147"></a>        mag.append(magnitudeArray)</span>
<span id="cb15-148"><a href="#cb15-148"></a>        theta.append(angleArray)</span>
<span id="cb15-149"><a href="#cb15-149"></a></span>
<span id="cb15-150"><a href="#cb15-150"></a>    <span class="co"># add list of magnitudes to list[x]</span></span>
<span id="cb15-151"><a href="#cb15-151"></a>    mag_list.append(mag)</span>
<span id="cb15-152"><a href="#cb15-152"></a></span>
<span id="cb15-153"><a href="#cb15-153"></a>    <span class="co"># add list of angles to angle list[x]</span></span>
<span id="cb15-154"><a href="#cb15-154"></a>    theta_list.append(theta)</span>
<span id="cb15-155"><a href="#cb15-155"></a></span>
<span id="cb15-156"><a href="#cb15-156"></a><span class="in">```</span></span>
<span id="cb15-157"><a href="#cb15-157"></a></span>
<span id="cb15-158"><a href="#cb15-158"></a>&lt;div align="center"&gt;</span>
<span id="cb15-159"><a href="#cb15-159"></a></span>
<span id="cb15-160"><a href="#cb15-160"></a>::: {#fig-flip layout-valign="top" layout-ncol=1}</span>
<span id="cb15-161"><a href="#cb15-161"></a></span>
<span id="cb15-162"><a href="#cb15-162"></a><span class="al">![Skiing Backflip](images/plots/backflip/0.jpg)</span>{group="flip-rescale-gallery"}</span>
<span id="cb15-163"><a href="#cb15-163"></a></span>
<span id="cb15-164"><a href="#cb15-164"></a>Skiing Backflip Image Re-scaled and Converted to Grayscale</span>
<span id="cb15-165"><a href="#cb15-165"></a></span>
<span id="cb15-166"><a href="#cb15-166"></a>:::</span>
<span id="cb15-167"><a href="#cb15-167"></a></span>
<span id="cb15-168"><a href="#cb15-168"></a>&lt;div&gt;</span>
<span id="cb15-169"><a href="#cb15-169"></a></span>
<span id="cb15-170"><a href="#cb15-170"></a><span class="fu">## Extract Gradient Magnitudes and Angles from Backflip Image</span></span>
<span id="cb15-171"><a href="#cb15-171"></a></span>
<span id="cb15-174"><a href="#cb15-174"></a><span class="in">```{python}</span></span>
<span id="cb15-175"><a href="#cb15-175"></a><span class="co"># DF of gradient magnitudes and angles</span></span>
<span id="cb15-176"><a href="#cb15-176"></a>mag_flip <span class="op">=</span> np.array(mag_list[<span class="dv">0</span>])</span>
<span id="cb15-177"><a href="#cb15-177"></a>theta_flip <span class="op">=</span> np.array(theta_list[<span class="dv">0</span>])</span>
<span id="cb15-178"><a href="#cb15-178"></a></span>
<span id="cb15-179"><a href="#cb15-179"></a><span class="in">```</span></span>
<span id="cb15-180"><a href="#cb15-180"></a></span>
<span id="cb15-181"><a href="#cb15-181"></a><span class="fu">## Plot Magnitudes as Image for Backflip Image</span></span>
<span id="cb15-182"><a href="#cb15-182"></a></span>
<span id="cb15-185"><a href="#cb15-185"></a><span class="in">```{python}</span></span>
<span id="cb15-186"><a href="#cb15-186"></a><span class="co"># Save gradient magnitudes of backflip in image form</span></span>
<span id="cb15-187"><a href="#cb15-187"></a></span>
<span id="cb15-188"><a href="#cb15-188"></a><span class="co"># plt.figure(figsize=(15, 8))</span></span>
<span id="cb15-189"><a href="#cb15-189"></a><span class="co"># #plt.title('San Francisco, CA Gradient Magnitudes')</span></span>
<span id="cb15-190"><a href="#cb15-190"></a><span class="co"># plt.imshow(mag_list[0], cmap="gray")</span></span>
<span id="cb15-191"><a href="#cb15-191"></a><span class="co"># plt.axis("on")</span></span>
<span id="cb15-192"><a href="#cb15-192"></a><span class="co"># #plt.show()</span></span>
<span id="cb15-193"><a href="#cb15-193"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb15-194"><a href="#cb15-194"></a><span class="co"># plt.savefig("images/plots/backflip/backflip_mag.png", dpi=300)</span></span>
<span id="cb15-195"><a href="#cb15-195"></a><span class="in">```</span></span>
<span id="cb15-196"><a href="#cb15-196"></a></span>
<span id="cb15-197"><a href="#cb15-197"></a>&lt;div align="center"&gt;</span>
<span id="cb15-198"><a href="#cb15-198"></a></span>
<span id="cb15-199"><a href="#cb15-199"></a>::: {#fig-backflip-mags layout-ncol=1}</span>
<span id="cb15-200"><a href="#cb15-200"></a><span class="al">![Skiing Backflip Image](images/plots/backflip/backflip_mag.png)</span>{group="backflip-mag-gallery"}</span>
<span id="cb15-201"><a href="#cb15-201"></a></span>
<span id="cb15-202"><a href="#cb15-202"></a>Skiing Backflip Cityscape Magnitudes as Image</span>
<span id="cb15-203"><a href="#cb15-203"></a>:::</span>
<span id="cb15-204"><a href="#cb15-204"></a></span>
<span id="cb15-205"><a href="#cb15-205"></a>&lt;div&gt;</span>
<span id="cb15-206"><a href="#cb15-206"></a></span>
<span id="cb15-207"><a href="#cb15-207"></a></span>
<span id="cb15-208"><a href="#cb15-208"></a><span class="fu">## Create Data Frame for Backflip Image</span></span>
<span id="cb15-209"><a href="#cb15-209"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb15-210"><a href="#cb15-210"></a><span class="in">#| code-summary: "Make Data Frame for backflip image magnitudes and angles and store it in a list"</span></span>
<span id="cb15-211"><a href="#cb15-211"></a></span>
<span id="cb15-212"><a href="#cb15-212"></a><span class="in"># Flip DF</span></span>
<span id="cb15-213"><a href="#cb15-213"></a><span class="in">backflip_hog_df &lt;- data.frame(mag = as.vector(py$mag_flip),</span></span>
<span id="cb15-214"><a href="#cb15-214"></a><span class="in">                              theta = as.vector((py$theta_flip))) %&gt;%</span></span>
<span id="cb15-215"><a href="#cb15-215"></a><span class="in">  mutate(radian = theta*(pi/180))</span></span>
<span id="cb15-216"><a href="#cb15-216"></a></span>
<span id="cb15-217"><a href="#cb15-217"></a><span class="in"># Add to list</span></span>
<span id="cb15-218"><a href="#cb15-218"></a><span class="in">flip_standard_df_list = list(backflip_hog_df)</span></span>
<span id="cb15-219"><a href="#cb15-219"></a><span class="in">```</span></span>
<span id="cb15-220"><a href="#cb15-220"></a></span>
<span id="cb15-221"><a href="#cb15-221"></a><span class="fu">## Create Histograms of Gradient Magnitudes and Angles for Backflip Image</span></span>
<span id="cb15-222"><a href="#cb15-222"></a></span>
<span id="cb15-223"><a href="#cb15-223"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb15-224"><a href="#cb15-224"></a><span class="in">#| code-summary: "Plot histogram of backflip image gradient magnitudes and define the magnitude level for later filtering"</span></span>
<span id="cb15-225"><a href="#cb15-225"></a></span>
<span id="cb15-226"><a href="#cb15-226"></a><span class="in"># backflip histogram of gradient mags</span></span>
<span id="cb15-227"><a href="#cb15-227"></a><span class="in">flip_histogram_mag_plot &lt;-</span></span>
<span id="cb15-228"><a href="#cb15-228"></a><span class="in">  ggplot(flip_standard_df_list[[1]],</span></span>
<span id="cb15-229"><a href="#cb15-229"></a><span class="in">         aes(x = mag)) +</span></span>
<span id="cb15-230"><a href="#cb15-230"></a><span class="in">  geom_histogram(colour = "black", fill = "lightblue") +</span></span>
<span id="cb15-231"><a href="#cb15-231"></a><span class="in">  scale_x_continuous() +</span></span>
<span id="cb15-232"><a href="#cb15-232"></a><span class="in">  labs(x = "Gradient Magnitude",</span></span>
<span id="cb15-233"><a href="#cb15-233"></a><span class="in">       y = "Count",</span></span>
<span id="cb15-234"><a href="#cb15-234"></a><span class="in">       title = "Skiing Backflip Image Histogram of Gradient Magnitudes"</span></span>
<span id="cb15-235"><a href="#cb15-235"></a><span class="in">       ) +</span></span>
<span id="cb15-236"><a href="#cb15-236"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb15-237"><a href="#cb15-237"></a><span class="in">  theme(plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb15-238"><a href="#cb15-238"></a></span>
<span id="cb15-239"><a href="#cb15-239"></a><span class="in"># flip magn filter level</span></span>
<span id="cb15-240"><a href="#cb15-240"></a><span class="in">flip_mag_filter &lt;- 0.2</span></span>
<span id="cb15-241"><a href="#cb15-241"></a></span>
<span id="cb15-242"><a href="#cb15-242"></a><span class="in"># save image</span></span>
<span id="cb15-243"><a href="#cb15-243"></a><span class="in">ggsave("images/plots/backflip/backflip_histogram_mag_plot.jpg", </span></span>
<span id="cb15-244"><a href="#cb15-244"></a><span class="in">       flip_histogram_mag_plot, </span></span>
<span id="cb15-245"><a href="#cb15-245"></a><span class="in">       width = 6, </span></span>
<span id="cb15-246"><a href="#cb15-246"></a><span class="in">       height = 4, </span></span>
<span id="cb15-247"><a href="#cb15-247"></a><span class="in">       dpi = 300)</span></span>
<span id="cb15-248"><a href="#cb15-248"></a></span>
<span id="cb15-249"><a href="#cb15-249"></a><span class="in">```</span></span>
<span id="cb15-250"><a href="#cb15-250"></a></span>
<span id="cb15-251"><a href="#cb15-251"></a></span>
<span id="cb15-252"><a href="#cb15-252"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb15-253"><a href="#cb15-253"></a><span class="in">#| code-summary: "Plot histogram of backflip image gradient angles"</span></span>
<span id="cb15-254"><a href="#cb15-254"></a></span>
<span id="cb15-255"><a href="#cb15-255"></a><span class="in"># backflip histogram of gradient angles</span></span>
<span id="cb15-256"><a href="#cb15-256"></a><span class="in">flip_histogram_theta_plot &lt;-</span></span>
<span id="cb15-257"><a href="#cb15-257"></a><span class="in">  ggplot(flip_standard_df_list[[1]],</span></span>
<span id="cb15-258"><a href="#cb15-258"></a><span class="in">         aes(x = theta)) +</span></span>
<span id="cb15-259"><a href="#cb15-259"></a><span class="in">  geom_histogram(colour = "black", fill = "lightblue") +</span></span>
<span id="cb15-260"><a href="#cb15-260"></a><span class="in">  scale_x_continuous() +</span></span>
<span id="cb15-261"><a href="#cb15-261"></a><span class="in">  labs(x = "Gradient Angle",</span></span>
<span id="cb15-262"><a href="#cb15-262"></a><span class="in">       y = "Count",</span></span>
<span id="cb15-263"><a href="#cb15-263"></a><span class="in">       title = "Skiing Backflip Image Histogram of Gradient Angles"</span></span>
<span id="cb15-264"><a href="#cb15-264"></a><span class="in">       ) +</span></span>
<span id="cb15-265"><a href="#cb15-265"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb15-266"><a href="#cb15-266"></a><span class="in">  theme(plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb15-267"><a href="#cb15-267"></a></span>
<span id="cb15-268"><a href="#cb15-268"></a><span class="in"># save image</span></span>
<span id="cb15-269"><a href="#cb15-269"></a><span class="in">ggsave("images/plots/backflip/backflip_histogram_theta_plot.jpg", </span></span>
<span id="cb15-270"><a href="#cb15-270"></a><span class="in">       flip_histogram_theta_plot, </span></span>
<span id="cb15-271"><a href="#cb15-271"></a><span class="in">       width = 6, </span></span>
<span id="cb15-272"><a href="#cb15-272"></a><span class="in">       height = 4, </span></span>
<span id="cb15-273"><a href="#cb15-273"></a><span class="in">       dpi = 300)</span></span>
<span id="cb15-274"><a href="#cb15-274"></a></span>
<span id="cb15-275"><a href="#cb15-275"></a><span class="in">```</span></span>
<span id="cb15-276"><a href="#cb15-276"></a></span>
<span id="cb15-277"><a href="#cb15-277"></a></span>
<span id="cb15-278"><a href="#cb15-278"></a></span>
<span id="cb15-279"><a href="#cb15-279"></a>&lt;div align="center"&gt;</span>
<span id="cb15-280"><a href="#cb15-280"></a></span>
<span id="cb15-281"><a href="#cb15-281"></a>::: {#fig-flip-histograms layout-ncol=2}</span>
<span id="cb15-282"><a href="#cb15-282"></a></span>
<span id="cb15-283"><a href="#cb15-283"></a><span class="al">![Histogram of Gradient Magnitudes](images/plots/backflip/backflip_histogram_mag_plot.jpg)</span>{group="flip-hist-gallery"} </span>
<span id="cb15-284"><a href="#cb15-284"></a></span>
<span id="cb15-285"><a href="#cb15-285"></a><span class="al">![Histogram of Gradient Angles](images/plots/backflip/backflip_histogram_theta_plot.jpg)</span>{group="flip-hist-gallery"}</span>
<span id="cb15-286"><a href="#cb15-286"></a></span>
<span id="cb15-287"><a href="#cb15-287"></a>Skiing Backflip Magnitudes and Angles</span>
<span id="cb15-288"><a href="#cb15-288"></a></span>
<span id="cb15-289"><a href="#cb15-289"></a>:::</span>
<span id="cb15-290"><a href="#cb15-290"></a></span>
<span id="cb15-291"><a href="#cb15-291"></a>&lt;div&gt;</span>
<span id="cb15-292"><a href="#cb15-292"></a></span>
<span id="cb15-293"><a href="#cb15-293"></a></span>
<span id="cb15-294"><a href="#cb15-294"></a></span>
<span id="cb15-295"><a href="#cb15-295"></a></span>
<span id="cb15-296"><a href="#cb15-296"></a></span>
<span id="cb15-297"><a href="#cb15-297"></a></span>
<span id="cb15-298"><a href="#cb15-298"></a></span>
<span id="cb15-299"><a href="#cb15-299"></a><span class="fu">## Build New Distributed Histogram Data Frame for Backflip Image</span></span>
<span id="cb15-300"><a href="#cb15-300"></a></span>
<span id="cb15-301"><a href="#cb15-301"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb15-302"><a href="#cb15-302"></a><span class="in">#| code-summary: "Function for calculating values for each bin of distributed histogram"</span></span>
<span id="cb15-303"><a href="#cb15-303"></a></span>
<span id="cb15-304"><a href="#cb15-304"></a><span class="in"># function to calculate the contributions to neighboring bins</span></span>
<span id="cb15-305"><a href="#cb15-305"></a><span class="in">calculate_bin_contributions &lt;- function(angle, magnitude, num_bins) {</span></span>
<span id="cb15-306"><a href="#cb15-306"></a><span class="in">  bin_width &lt;- 180 / num_bins</span></span>
<span id="cb15-307"><a href="#cb15-307"></a><span class="in">  contributions &lt;- numeric(num_bins)</span></span>
<span id="cb15-308"><a href="#cb15-308"></a><span class="in">  </span></span>
<span id="cb15-309"><a href="#cb15-309"></a><span class="in">  # get the central bin</span></span>
<span id="cb15-310"><a href="#cb15-310"></a><span class="in">  central_bin &lt;- floor(angle / bin_width) %% num_bins</span></span>
<span id="cb15-311"><a href="#cb15-311"></a><span class="in">  next_bin &lt;- (central_bin + 1) %% num_bins</span></span>
<span id="cb15-312"><a href="#cb15-312"></a><span class="in">  </span></span>
<span id="cb15-313"><a href="#cb15-313"></a><span class="in">  # get contributions to neighboring bins</span></span>
<span id="cb15-314"><a href="#cb15-314"></a><span class="in">  weight &lt;- (1 - abs((angle %% bin_width) / bin_width)) * magnitude</span></span>
<span id="cb15-315"><a href="#cb15-315"></a><span class="in">  </span></span>
<span id="cb15-316"><a href="#cb15-316"></a><span class="in">  contributions[central_bin + 1] &lt;- weight</span></span>
<span id="cb15-317"><a href="#cb15-317"></a><span class="in">  contributions[next_bin + 1] &lt;- magnitude - weight</span></span>
<span id="cb15-318"><a href="#cb15-318"></a><span class="in">  </span></span>
<span id="cb15-319"><a href="#cb15-319"></a><span class="in">  return(list(contributions[1],</span></span>
<span id="cb15-320"><a href="#cb15-320"></a><span class="in">         contributions[2],</span></span>
<span id="cb15-321"><a href="#cb15-321"></a><span class="in">         contributions[3],</span></span>
<span id="cb15-322"><a href="#cb15-322"></a><span class="in">         contributions[4],</span></span>
<span id="cb15-323"><a href="#cb15-323"></a><span class="in">         contributions[5],</span></span>
<span id="cb15-324"><a href="#cb15-324"></a><span class="in">         contributions[6],</span></span>
<span id="cb15-325"><a href="#cb15-325"></a><span class="in">         contributions[7],</span></span>
<span id="cb15-326"><a href="#cb15-326"></a><span class="in">         contributions[8],</span></span>
<span id="cb15-327"><a href="#cb15-327"></a><span class="in">         contributions[9])</span></span>
<span id="cb15-328"><a href="#cb15-328"></a><span class="in">         )</span></span>
<span id="cb15-329"><a href="#cb15-329"></a><span class="in">}</span></span>
<span id="cb15-330"><a href="#cb15-330"></a></span>
<span id="cb15-331"><a href="#cb15-331"></a><span class="in">```</span></span>
<span id="cb15-332"><a href="#cb15-332"></a></span>
<span id="cb15-333"><a href="#cb15-333"></a></span>
<span id="cb15-334"><a href="#cb15-334"></a></span>
<span id="cb15-335"><a href="#cb15-335"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb15-336"><a href="#cb15-336"></a><span class="in">#| code-summary: "Filter data frame of gradients and angles to only contain observations with magnitudes greater than or equal to the respective magnitude levels determined above"</span></span>
<span id="cb15-337"><a href="#cb15-337"></a></span>
<span id="cb15-338"><a href="#cb15-338"></a><span class="in"># Create filtered data frames using the filter level </span></span>
<span id="cb15-339"><a href="#cb15-339"></a><span class="in"># for magnitudes defined above, store in a list</span></span>
<span id="cb15-340"><a href="#cb15-340"></a><span class="in">filtered_flip_standard_df_list &lt;-</span></span>
<span id="cb15-341"><a href="#cb15-341"></a><span class="in">  list(backflip_hog_df %&gt;%</span></span>
<span id="cb15-342"><a href="#cb15-342"></a><span class="in">         filter(mag &gt;= flip_mag_filter))</span></span>
<span id="cb15-343"><a href="#cb15-343"></a><span class="in">```</span></span>
<span id="cb15-344"><a href="#cb15-344"></a></span>
<span id="cb15-345"><a href="#cb15-345"></a></span>
<span id="cb15-346"><a href="#cb15-346"></a></span>
<span id="cb15-347"><a href="#cb15-347"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb15-348"><a href="#cb15-348"></a><span class="in">#| code-summary: "Calculate the contribution to each bin for the distribued histogram"</span></span>
<span id="cb15-349"><a href="#cb15-349"></a></span>
<span id="cb15-350"><a href="#cb15-350"></a><span class="in"># Define the number of bins</span></span>
<span id="cb15-351"><a href="#cb15-351"></a><span class="in">num_bins &lt;- 9</span></span>
<span id="cb15-352"><a href="#cb15-352"></a><span class="in">flip_contribution_df_list &lt;- list()</span></span>
<span id="cb15-353"><a href="#cb15-353"></a></span>
<span id="cb15-354"><a href="#cb15-354"></a><span class="in"># iterate through each filtered standard data frame (only 1 in this case)</span></span>
<span id="cb15-355"><a href="#cb15-355"></a><span class="in">for (i in 1:length(filtered_flip_standard_df_list)){</span></span>
<span id="cb15-356"><a href="#cb15-356"></a></span>
<span id="cb15-357"><a href="#cb15-357"></a><span class="in">  flip_contribution_hog_df &lt;-</span></span>
<span id="cb15-358"><a href="#cb15-358"></a><span class="in">    filtered_flip_standard_df_list[[i]] %&gt;%</span></span>
<span id="cb15-359"><a href="#cb15-359"></a><span class="in">    rowwise() %&gt;%</span></span>
<span id="cb15-360"><a href="#cb15-360"></a><span class="in">    mutate(`0` = calculate_bin_contributions(theta, mag, 9)[[1]],</span></span>
<span id="cb15-361"><a href="#cb15-361"></a><span class="in">           `20` = calculate_bin_contributions(theta, mag, 9)[[2]],</span></span>
<span id="cb15-362"><a href="#cb15-362"></a><span class="in">           `40` = calculate_bin_contributions(theta, mag, 9)[[3]],</span></span>
<span id="cb15-363"><a href="#cb15-363"></a><span class="in">           `60` = calculate_bin_contributions(theta, mag, 9)[[4]],</span></span>
<span id="cb15-364"><a href="#cb15-364"></a><span class="in">           `80` = calculate_bin_contributions(theta, mag, 9)[[5]],</span></span>
<span id="cb15-365"><a href="#cb15-365"></a><span class="in">           `100` = calculate_bin_contributions(theta, mag, 9)[[6]],</span></span>
<span id="cb15-366"><a href="#cb15-366"></a><span class="in">           `120` = calculate_bin_contributions(theta, mag, 9)[[7]],</span></span>
<span id="cb15-367"><a href="#cb15-367"></a><span class="in">           `140` = calculate_bin_contributions(theta, mag, 9)[[8]],</span></span>
<span id="cb15-368"><a href="#cb15-368"></a><span class="in">           `160` = calculate_bin_contributions(theta, mag, 9)[[9]],</span></span>
<span id="cb15-369"><a href="#cb15-369"></a><span class="in">           )</span></span>
<span id="cb15-370"><a href="#cb15-370"></a><span class="in">  </span></span>
<span id="cb15-371"><a href="#cb15-371"></a><span class="in">  # rearrange into same tidy format</span></span>
<span id="cb15-372"><a href="#cb15-372"></a><span class="in">  flip_split_histo_df &lt;-</span></span>
<span id="cb15-373"><a href="#cb15-373"></a><span class="in">    flip_contribution_hog_df %&gt;%</span></span>
<span id="cb15-374"><a href="#cb15-374"></a><span class="in">    pivot_longer(names_to = "bin",</span></span>
<span id="cb15-375"><a href="#cb15-375"></a><span class="in">                 values_to = "contribution",</span></span>
<span id="cb15-376"><a href="#cb15-376"></a><span class="in">                 cols = 4:ncol(flip_contribution_hog_df)) %&gt;%</span></span>
<span id="cb15-377"><a href="#cb15-377"></a><span class="in">    mutate(bin = as.numeric(bin)) %&gt;%</span></span>
<span id="cb15-378"><a href="#cb15-378"></a><span class="in">    group_by(bin) %&gt;%</span></span>
<span id="cb15-379"><a href="#cb15-379"></a><span class="in">    summarise(contribution_sum = sum(contribution))</span></span>
<span id="cb15-380"><a href="#cb15-380"></a></span>
<span id="cb15-381"><a href="#cb15-381"></a><span class="in">  # add to list for storage</span></span>
<span id="cb15-382"><a href="#cb15-382"></a><span class="in">  flip_contribution_df_list[[i]] &lt;- flip_split_histo_df</span></span>
<span id="cb15-383"><a href="#cb15-383"></a></span>
<span id="cb15-384"><a href="#cb15-384"></a><span class="in">}</span></span>
<span id="cb15-385"><a href="#cb15-385"></a></span>
<span id="cb15-386"><a href="#cb15-386"></a><span class="in">```</span></span>
<span id="cb15-387"><a href="#cb15-387"></a></span>
<span id="cb15-388"><a href="#cb15-388"></a><span class="fu">## Generate Polar Plots for Standard Historgrams for Backflip Image</span></span>
<span id="cb15-389"><a href="#cb15-389"></a></span>
<span id="cb15-390"><a href="#cb15-390"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb15-391"><a href="#cb15-391"></a><span class="in">#| code-summary: "Polar plot of backflip image histogram of gradient angles using standard binning technique"</span></span>
<span id="cb15-392"><a href="#cb15-392"></a></span>
<span id="cb15-393"><a href="#cb15-393"></a><span class="in"># backflip plot</span></span>
<span id="cb15-394"><a href="#cb15-394"></a><span class="in">flip_plot &lt;-</span></span>
<span id="cb15-395"><a href="#cb15-395"></a><span class="in">  ggplot(filtered_flip_standard_df_list[[1]],</span></span>
<span id="cb15-396"><a href="#cb15-396"></a><span class="in">         aes(x = theta)) +</span></span>
<span id="cb15-397"><a href="#cb15-397"></a><span class="in">  geom_histogram(colour = "black",</span></span>
<span id="cb15-398"><a href="#cb15-398"></a><span class="in">                 fill = "lightblue",</span></span>
<span id="cb15-399"><a href="#cb15-399"></a><span class="in">                 breaks = seq(0, 360, length.out = 17.5),</span></span>
<span id="cb15-400"><a href="#cb15-400"></a><span class="in">                 bins = 9) +</span></span>
<span id="cb15-401"><a href="#cb15-401"></a><span class="in">  coord_polar(</span></span>
<span id="cb15-402"><a href="#cb15-402"></a><span class="in">    theta = "x",</span></span>
<span id="cb15-403"><a href="#cb15-403"></a><span class="in">    start = 0,</span></span>
<span id="cb15-404"><a href="#cb15-404"></a><span class="in">    direction = 1) +</span></span>
<span id="cb15-405"><a href="#cb15-405"></a><span class="in">  scale_x_continuous(limits = c(0,360),</span></span>
<span id="cb15-406"><a href="#cb15-406"></a><span class="in">    breaks = c(0, 45, 90, 135, 180, 225, 270, 315),</span></span>
<span id="cb15-407"><a href="#cb15-407"></a><span class="in">    labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW")</span></span>
<span id="cb15-408"><a href="#cb15-408"></a><span class="in">  )+</span></span>
<span id="cb15-409"><a href="#cb15-409"></a><span class="in">  labs(title = "Polar Plot of Skiing Backflip\nImage Using Standard HOG Technique") +</span></span>
<span id="cb15-410"><a href="#cb15-410"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb15-411"><a href="#cb15-411"></a><span class="in">  labs(x = "") +</span></span>
<span id="cb15-412"><a href="#cb15-412"></a><span class="in">  theme(axis.title.y = element_blank(),</span></span>
<span id="cb15-413"><a href="#cb15-413"></a><span class="in">        plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb15-414"><a href="#cb15-414"></a></span>
<span id="cb15-415"><a href="#cb15-415"></a><span class="in"># save image</span></span>
<span id="cb15-416"><a href="#cb15-416"></a><span class="in">ggsave("images/plots/backflip/backflip_standard_polar_plot.jpg", </span></span>
<span id="cb15-417"><a href="#cb15-417"></a><span class="in">       flip_plot, </span></span>
<span id="cb15-418"><a href="#cb15-418"></a><span class="in">       width = 6, </span></span>
<span id="cb15-419"><a href="#cb15-419"></a><span class="in">       height = 4, </span></span>
<span id="cb15-420"><a href="#cb15-420"></a><span class="in">       dpi = 300)</span></span>
<span id="cb15-421"><a href="#cb15-421"></a></span>
<span id="cb15-422"><a href="#cb15-422"></a><span class="in">```</span></span>
<span id="cb15-423"><a href="#cb15-423"></a></span>
<span id="cb15-424"><a href="#cb15-424"></a></span>
<span id="cb15-425"><a href="#cb15-425"></a></span>
<span id="cb15-426"><a href="#cb15-426"></a></span>
<span id="cb15-427"><a href="#cb15-427"></a></span>
<span id="cb15-428"><a href="#cb15-428"></a><span class="fu">## Generate Polar Plots for Distributed Historgrams of Diagonal Image</span></span>
<span id="cb15-429"><a href="#cb15-429"></a></span>
<span id="cb15-430"><a href="#cb15-430"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb15-431"><a href="#cb15-431"></a><span class="in">#| code-summary: "Polar plot of backflip image histogram of gradient angles using distributed binning technique"</span></span>
<span id="cb15-432"><a href="#cb15-432"></a></span>
<span id="cb15-433"><a href="#cb15-433"></a><span class="in"># backflip plot</span></span>
<span id="cb15-434"><a href="#cb15-434"></a><span class="in">flip_split_plot &lt;-</span></span>
<span id="cb15-435"><a href="#cb15-435"></a><span class="in">  ggplot(flip_contribution_df_list[[1]],</span></span>
<span id="cb15-436"><a href="#cb15-436"></a><span class="in">         aes(x = bin, y = contribution_sum)) +</span></span>
<span id="cb15-437"><a href="#cb15-437"></a><span class="in">  geom_histogram(stat = "identity",</span></span>
<span id="cb15-438"><a href="#cb15-438"></a><span class="in">                 colour = "black",</span></span>
<span id="cb15-439"><a href="#cb15-439"></a><span class="in">                 fill = "lightblue",</span></span>
<span id="cb15-440"><a href="#cb15-440"></a><span class="in">                 breaks = seq(0, 360, length.out = 17.5),</span></span>
<span id="cb15-441"><a href="#cb15-441"></a><span class="in">                 bins = 9) +</span></span>
<span id="cb15-442"><a href="#cb15-442"></a><span class="in">  coord_polar(</span></span>
<span id="cb15-443"><a href="#cb15-443"></a><span class="in">    theta = "x",</span></span>
<span id="cb15-444"><a href="#cb15-444"></a><span class="in">    start = 0,</span></span>
<span id="cb15-445"><a href="#cb15-445"></a><span class="in">    direction = 1) +</span></span>
<span id="cb15-446"><a href="#cb15-446"></a><span class="in">  scale_x_continuous(limits = c(0,360),</span></span>
<span id="cb15-447"><a href="#cb15-447"></a><span class="in">    breaks = c(0, 45, 90, 135, 180, 225, 270, 315),</span></span>
<span id="cb15-448"><a href="#cb15-448"></a><span class="in">    labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW")</span></span>
<span id="cb15-449"><a href="#cb15-449"></a><span class="in">  )+</span></span>
<span id="cb15-450"><a href="#cb15-450"></a><span class="in">  labs(title = "Polar Plot of Skiing Backflip Image\nUsing Distributed HOG Technique") +</span></span>
<span id="cb15-451"><a href="#cb15-451"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb15-452"><a href="#cb15-452"></a><span class="in">  labs(x = "") +</span></span>
<span id="cb15-453"><a href="#cb15-453"></a><span class="in">  theme(axis.title.y = element_blank(),</span></span>
<span id="cb15-454"><a href="#cb15-454"></a><span class="in">        plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb15-455"><a href="#cb15-455"></a></span>
<span id="cb15-456"><a href="#cb15-456"></a><span class="in"># save image</span></span>
<span id="cb15-457"><a href="#cb15-457"></a><span class="in">ggsave("images/plots/backflip/backflip_contribution_polar_plot.jpg", </span></span>
<span id="cb15-458"><a href="#cb15-458"></a><span class="in">       flip_split_plot, </span></span>
<span id="cb15-459"><a href="#cb15-459"></a><span class="in">       width = 6, </span></span>
<span id="cb15-460"><a href="#cb15-460"></a><span class="in">       height = 4, </span></span>
<span id="cb15-461"><a href="#cb15-461"></a><span class="in">       dpi = 300)</span></span>
<span id="cb15-462"><a href="#cb15-462"></a></span>
<span id="cb15-463"><a href="#cb15-463"></a></span>
<span id="cb15-464"><a href="#cb15-464"></a><span class="in">```</span></span>
<span id="cb15-465"><a href="#cb15-465"></a></span>
<span id="cb15-466"><a href="#cb15-466"></a></span>
<span id="cb15-467"><a href="#cb15-467"></a></span>
<span id="cb15-468"><a href="#cb15-468"></a></span>
<span id="cb15-469"><a href="#cb15-469"></a></span>
<span id="cb15-470"><a href="#cb15-470"></a>&lt;div align="center"&gt;</span>
<span id="cb15-471"><a href="#cb15-471"></a></span>
<span id="cb15-472"><a href="#cb15-472"></a>::: {#fig-flip-distributed-and-standard-polar layout-ncol=2}</span>
<span id="cb15-473"><a href="#cb15-473"></a></span>
<span id="cb15-474"><a href="#cb15-474"></a><span class="al">![Polar Plot Using Standard HOG Technique](images/plots/backflip/backflip_standard_polar_plot.jpg)</span>{group="flip-standard-and-dist-polar-gallery"}</span>
<span id="cb15-475"><a href="#cb15-475"></a></span>
<span id="cb15-476"><a href="#cb15-476"></a><span class="al">![Polar Plot Using Distributed HOG Technique](images/plots/backflip/backflip_contribution_polar_plot.jpg)</span>{group="flip-standard-and-dist-polar-gallery"}</span>
<span id="cb15-477"><a href="#cb15-477"></a></span>
<span id="cb15-478"><a href="#cb15-478"></a></span>
<span id="cb15-479"><a href="#cb15-479"></a>Polar Plots using Standard and Distributed Binning Technique for Skiing Backflip Image</span>
<span id="cb15-480"><a href="#cb15-480"></a>:::</span>
<span id="cb15-481"><a href="#cb15-481"></a></span>
<span id="cb15-482"><a href="#cb15-482"></a>&lt;div&gt;</span>
<span id="cb15-483"><a href="#cb15-483"></a></span>
<span id="cb15-484"><a href="#cb15-484"></a></span>
<span id="cb15-485"><a href="#cb15-485"></a></span>
<span id="cb15-486"><a href="#cb15-486"></a></span>
<span id="cb15-487"><a href="#cb15-487"></a>&lt;div align="left"&gt;</span>
<span id="cb15-488"><a href="#cb15-488"></a></span>
<span id="cb15-489"><a href="#cb15-489"></a>|       When looking at the gradient magnitudes in image form the most definitive lines occur where the snow from the jump is visible. This makes sense, because the snowy jump is a uniform white, resulting in minimal gradient magnitudes from one pixel to the next within this area. When the edge of the snow meets the crowd in the background, there is a great increase in gradient magnitude. Since the snowy jump in this image is mostly horizontal with some incline and decline, both polar plots identify the horizontal angle as being the most frequent. Interestingly, the distributed binning technique has a notably smaller frequency of vertical lines, likely due to the greater influence of magnitudes on their contribution to the histogram.</span>
<span id="cb15-490"><a href="#cb15-490"></a></span>
<span id="cb15-491"><a href="#cb15-491"></a>&lt;div&gt;</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","loop":false,"closeEffect":"zoom","openEffect":"zoom","descPosition":"bottom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>