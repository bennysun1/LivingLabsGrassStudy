<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ben Sunshine">

<title>Applying the Histogram of Oriented Gradients Algorithm for Detecting Grass Lay Direction - 4&nbsp; Aerial Cityscapes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./grass_images_results.html" rel="next">
<link href="./methods.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./aerial_images_results.html">Results</a></li><li class="breadcrumb-item"><a href="./aerial_images_results.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Aerial Cityscapes</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Applying the Histogram of Oriented Gradients Algorithm for Detecting Grass Lay Direction</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Abstract</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Methods</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Results</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./aerial_images_results.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Aerial Cityscapes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./grass_images_results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Grass Images</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./backflip_image_results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Backflip Image</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Conclusion</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#motivation" id="toc-motivation" class="nav-link active" data-scroll-target="#motivation">Motivation</a></li>
  <li><a href="#load-r-packages-and-python-libraries" id="toc-load-r-packages-and-python-libraries" class="nav-link" data-scroll-target="#load-r-packages-and-python-libraries">Load R Packages and Python Libraries</a></li>
  <li><a href="#download-aerial-city-images-from-mapbox" id="toc-download-aerial-city-images-from-mapbox" class="nav-link" data-scroll-target="#download-aerial-city-images-from-mapbox">Download Aerial City Images from Mapbox</a></li>
  <li><a href="#collect-hog-features-for-aerial-cityscapes" id="toc-collect-hog-features-for-aerial-cityscapes" class="nav-link" data-scroll-target="#collect-hog-features-for-aerial-cityscapes">Collect HOG Features for Aerial Cityscapes</a></li>
  <li><a href="#extract-gradient-magnitudes-and-angles-from-each-aerial-cityscape" id="toc-extract-gradient-magnitudes-and-angles-from-each-aerial-cityscape" class="nav-link" data-scroll-target="#extract-gradient-magnitudes-and-angles-from-each-aerial-cityscape">Extract Gradient Magnitudes and Angles from each Aerial Cityscape</a></li>
  <li><a href="#plot-gradient-magnitudes-as-image-for-each-aerial-cityscape" id="toc-plot-gradient-magnitudes-as-image-for-each-aerial-cityscape" class="nav-link" data-scroll-target="#plot-gradient-magnitudes-as-image-for-each-aerial-cityscape">Plot Gradient Magnitudes as Image for each Aerial Cityscape</a></li>
  <li><a href="#create-data-frame-for-each-image" id="toc-create-data-frame-for-each-image" class="nav-link" data-scroll-target="#create-data-frame-for-each-image">Create Data Frame for Each Image</a></li>
  <li><a href="#create-histograms-of-gradient-magnitudes-and-angles-for-aerial-cityscapes" id="toc-create-histograms-of-gradient-magnitudes-and-angles-for-aerial-cityscapes" class="nav-link" data-scroll-target="#create-histograms-of-gradient-magnitudes-and-angles-for-aerial-cityscapes">Create Histograms of Gradient Magnitudes and Angles for Aerial Cityscapes</a></li>
  <li><a href="#build-new-distributed-histogram-data-frames" id="toc-build-new-distributed-histogram-data-frames" class="nav-link" data-scroll-target="#build-new-distributed-histogram-data-frames">Build New Distributed Histogram Data Frames</a></li>
  <li><a href="#generate-polar-plots-for-images-using-standard-histogram-binning-technique" id="toc-generate-polar-plots-for-images-using-standard-histogram-binning-technique" class="nav-link" data-scroll-target="#generate-polar-plots-for-images-using-standard-histogram-binning-technique">Generate Polar Plots for Images Using Standard Histogram Binning Technique</a></li>
  <li><a href="#generate-polar-plots-for-images-using-distributed-histogram-binning-technique" id="toc-generate-polar-plots-for-images-using-distributed-histogram-binning-technique" class="nav-link" data-scroll-target="#generate-polar-plots-for-images-using-distributed-histogram-binning-technique">Generate Polar Plots for Images Using Distributed Histogram Binning Technique</a></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./aerial_images_results.html">Results</a></li><li class="breadcrumb-item"><a href="./aerial_images_results.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Aerial Cityscapes</span></a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Aerial Cityscapes</span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ben Sunshine </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<p>Download aerial cityscape images from Mapbox’s API of San Francisco, Salt Lake City, and Detroit to determine if the HOG algorithm is capable of identifying dominant angles of each city’s grid layout.</p>
</section>
<section id="load-r-packages-and-python-libraries" class="level2">
<h2 class="anchored" data-anchor-id="load-r-packages-and-python-libraries">Load R Packages and Python Libraries</h2>
<div class="cell">
<details class="code-fold">
<summary>Load R Packages</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Load R Packages</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(mapsapi)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(mapboxapi)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(magick)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Load Python Libraries</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Load Python Libraries</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="im">from</span> skimage.io <span class="im">import</span> imread, imshow</span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="im">from</span> skimage.transform <span class="im">import</span> resize</span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="im">from</span> skimage.feature <span class="im">import</span> hog</span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="im">from</span> skimage <span class="im">import</span> data, exposure</span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="im">from</span> skimage <span class="im">import</span> io</span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="im">from</span> skimage <span class="im">import</span> color</span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="im">from</span> skimage.transform <span class="im">import</span> resize</span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="im">import</span> math</span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="im">from</span> skimage.feature <span class="im">import</span> hog</span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="download-aerial-city-images-from-mapbox" class="level2">
<h2 class="anchored" data-anchor-id="download-aerial-city-images-from-mapbox">Download Aerial City Images from Mapbox</h2>
<div class="cell">
<details class="code-fold">
<summary>Read in Mapbox Key from System Enviroment</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Get Mapbox token from System Environment </span></span>
<span id="cb3-2"><a href="#cb3-2"></a>key <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"mapbox_key"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Download map of San Francisco, CA</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Download map of San Francisco, CA</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>map <span class="ot">&lt;-</span> <span class="fu">static_mapbox</span>(</span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="at">access_token =</span> key,</span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="at">style_url =</span> <span class="st">"mapbox://styles/mapbox/satellite-v9"</span>,</span>
<span id="cb4-5"><a href="#cb4-5"></a>  <span class="at">width =</span> <span class="dv">300</span>,</span>
<span id="cb4-6"><a href="#cb4-6"></a>  <span class="at">height =</span> <span class="dv">200</span>, </span>
<span id="cb4-7"><a href="#cb4-7"></a>  <span class="at">image =</span> T, <span class="at">latitude =</span> <span class="fl">37.792004</span>, <span class="at">longitude =</span> <span class="sc">-</span><span class="fl">122.428079</span>, <span class="at">zoom =</span> <span class="dv">12</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>)</span>
<span id="cb4-9"><a href="#cb4-9"></a></span>
<span id="cb4-10"><a href="#cb4-10"></a>magick<span class="sc">::</span><span class="fu">image_write</span>(map, <span class="st">"images/san_francisco_scale_zoom_12.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Download map of Salt Lake City, UT</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Download map of Salt Lake City, UT</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>points_of_interest <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="at">longitude =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">112.065945</span>, <span class="sc">-</span><span class="fl">111.853948</span>, </span>
<span id="cb5-4"><a href="#cb5-4"></a>                <span class="sc">-</span><span class="fl">111.852956</span>, <span class="sc">-</span><span class="fl">112.023371</span>),</span>
<span id="cb5-5"><a href="#cb5-5"></a>  </span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="at">latitude =</span> <span class="fu">c</span>(<span class="fl">40.794275</span>, <span class="fl">40.791516</span>, </span>
<span id="cb5-7"><a href="#cb5-7"></a>               <span class="fl">40.502308</span>, <span class="fl">40.502308</span>)</span>
<span id="cb5-8"><a href="#cb5-8"></a>  )</span>
<span id="cb5-9"><a href="#cb5-9"></a></span>
<span id="cb5-10"><a href="#cb5-10"></a>prepped_pois <span class="ot">&lt;-</span> <span class="fu">prep_overlay_markers</span>(</span>
<span id="cb5-11"><a href="#cb5-11"></a>  <span class="at">data =</span> points_of_interest,</span>
<span id="cb5-12"><a href="#cb5-12"></a>  <span class="at">marker_type =</span> <span class="st">"pin-l"</span>,</span>
<span id="cb5-13"><a href="#cb5-13"></a>  <span class="at">label =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb5-14"><a href="#cb5-14"></a>  <span class="at">color =</span> <span class="st">"#fff"</span>, </span>
<span id="cb5-15"><a href="#cb5-15"></a>)</span>
<span id="cb5-16"><a href="#cb5-16"></a></span>
<span id="cb5-17"><a href="#cb5-17"></a>map <span class="ot">&lt;-</span> <span class="fu">static_mapbox</span>(</span>
<span id="cb5-18"><a href="#cb5-18"></a>  <span class="at">access_token =</span> key,</span>
<span id="cb5-19"><a href="#cb5-19"></a>  <span class="at">style_url =</span> <span class="st">"mapbox://styles/mapbox/satellite-v9"</span>,</span>
<span id="cb5-20"><a href="#cb5-20"></a>  <span class="at">width =</span> <span class="dv">800</span>,</span>
<span id="cb5-21"><a href="#cb5-21"></a>  <span class="at">height =</span> <span class="dv">1200</span>, </span>
<span id="cb5-22"><a href="#cb5-22"></a>  <span class="at">image =</span> T, </span>
<span id="cb5-23"><a href="#cb5-23"></a>  <span class="at">latitude =</span> <span class="fl">40.7</span>,</span>
<span id="cb5-24"><a href="#cb5-24"></a>  <span class="at">longitude =</span> <span class="sc">-</span><span class="fl">111.876183</span>, <span class="at">zoom =</span> <span class="dv">12</span></span>
<span id="cb5-25"><a href="#cb5-25"></a>)</span>
<span id="cb5-26"><a href="#cb5-26"></a></span>
<span id="cb5-27"><a href="#cb5-27"></a>magick<span class="sc">::</span><span class="fu">image_write</span>(map, <span class="st">"images/salt_lake_city_zoom_12.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Download map of Detroit, MI</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Download map of Detroit, MI</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>map <span class="ot">&lt;-</span> <span class="fu">static_mapbox</span>(</span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="at">access_token =</span> key,</span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="at">style_url =</span> <span class="st">"mapbox://styles/mapbox/satellite-v9"</span>,</span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="at">width =</span> <span class="dv">1200</span>,</span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="at">height =</span> <span class="dv">800</span>, </span>
<span id="cb6-7"><a href="#cb6-7"></a>  <span class="at">image =</span> T, </span>
<span id="cb6-8"><a href="#cb6-8"></a>  <span class="at">latitude =</span> <span class="fl">42.336322</span>,</span>
<span id="cb6-9"><a href="#cb6-9"></a>  <span class="at">longitude =</span> <span class="sc">-</span><span class="fl">83.048705</span>, <span class="at">zoom =</span> <span class="dv">12</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>)</span>
<span id="cb6-11"><a href="#cb6-11"></a></span>
<span id="cb6-12"><a href="#cb6-12"></a>magick<span class="sc">::</span><span class="fu">image_write</span>(map, <span class="st">"images/detroit_zoom_12.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div align="center">

<div id="fig-city-images" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-city-images-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/san_francisco_scale_zoom_12.png" class="lightbox" data-gallery="cityscape-gallery" data-glightbox="description: .lightbox-desc-1" title="San Francisco Cityscape"><img src="images/san_francisco_scale_zoom_12.png" class="img-fluid figure-img"></a></p>
<figcaption>San Francisco Cityscape</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/salt_lake_city_zoom_12.png" class="lightbox" data-gallery="cityscape-gallery" data-glightbox="description: .lightbox-desc-2" title="Salt Lake City Cityscape"><img src="images/salt_lake_city_zoom_12.png" class="img-fluid figure-img"></a></p>
<figcaption>Salt Lake City Cityscape</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/detroit_zoom_12.png" class="lightbox" data-gallery="cityscape-gallery" data-glightbox="description: .lightbox-desc-3" title="Detroit Cityscape"><img src="images/detroit_zoom_12.png" class="img-fluid figure-img"></a></p>
<figcaption>Detroit Cityscape</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-city-images-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.1: Aerial Cityscape Images
</figcaption>
</figure>
</div>
<div>

<!-- ## Collect HOG Features for Diagonal Line Image -->
<!-- ```{python} -->
<!-- # List for storing images -->
<!-- img_list = [] -->
<!-- # SF aerial -->
<!-- img_list.append(color.rgb2gray(io.imread("images/diagnol_lines.jpg"))) -->
<!-- #img = color.rgb2gray(io.imread("images/grass_image2.jpg")) -->
<!-- # img = color.rgb2gray(io.imread("images/b_test_image_copy.jpg")) -->
<!-- #img = color.rgb2gray(io.imread("images/long_grass_sample.jpeg")) -->
<!-- #img = color.rgb2gray(io.imread("images/diagnol_lines.jpg")) -->
<!-- #img = color.rgb2gray(io.imread("images/san_francisco_scale_zoom_12.png")) -->
<!-- #img = color.rgb2gray(io.imread("images/diagnol_lines_flipped.jpg")) -->
<!-- #img = color.rgb2gray(io.imread("images/long_grass_sample_cropped.jpg")) -->
<!-- # aerial rotated image -->
<!-- #img = color.rgb2gray(io.imread("images/living_lab_aerial/aerial_grass_living_lab_rotated.jpg")) -->
<!-- # zoomed internet photo -->
<!-- #img = color.rgb2gray(io.imread("images/dead_grass_zoom.jpeg")) -->
<!-- # zoomed in 11 -->
<!-- #img = color.rgb2gray(io.imread("images/living_lab_aerial/LL_zoomed_in_11.jpg")) -->
<!-- # zoomed in 12 -->
<!-- #img = color.rgb2gray(io.imread("images/living_lab_aerial/LL_zoomed_in_12.jpg")) -->
<!-- # zoomed in 16 -->
<!-- #img = color.rgb2gray(io.imread("images/living_lab_aerial/LL_zoomed_in_16_side.jpg")) -->
<!-- # real one -->
<!-- #img = color.rgb2gray(io.imread("images/living_labs_real_grass_image.jpg")) -->
<!-- # List to store magnitudes for each image -->
<!-- mag_list = [] -->
<!-- # List to store angles for each image -->
<!-- theta_list = [] -->
<!-- for x in range(len(img_list)): -->
<!--     # Get image of interest -->
<!--     img = img_list[x] -->
<!--     rescaled_file_path = f"images/plots/diagonal/{x}.jpg" -->
<!--     # Determine aspect Ratio -->
<!--     aspect_ratio = img.shape[0] / img.shape[1] -->
<!--     print("Aspect Ratio:", aspect_ratio) -->
<!--     # Hard-Code height to 200 pixels -->
<!--     height = 200 -->
<!--     # Calculate witdth to maintain same aspect ratio -->
<!--     width = int(height / aspect_ratio) -->
<!--     print("Resized Width:", width) -->
<!--     # Resize the image -->
<!--     resized_img = resize(img, (height, width)) -->
<!--     # Replace the original image with the resized image -->
<!--     img_list[x] = resized_img -->
<!--     if (x == 1): -->
<!--       plot_width = 8 -->
<!--       plot_height = 15 -->
<!--     else: -->
<!--       plot_width = 15 -->
<!--       plot_height = 9 -->
<!--     # plt.figure(figsize=(plot_width, plot_height)) -->
<!--     # plt.imshow(resized_img, cmap="gray") -->
<!--     # plt.axis("on") -->
<!--     # plt.tight_layout() -->
<!--     # plt.savefig(rescaled_file_path, dpi=300) -->
<!--     #plt.show() -->
<!--     # list for storing all magnitudes for image[x] -->
<!--     mag = [] -->
<!--     # list for storing all angles for image[x] -->
<!--     theta = [] -->
<!--     for i in range(height): -->
<!--         magnitudeArray = [] -->
<!--         angleArray = [] -->
<!--         for j in range(width): -->
<!--             if j - 1 < 0 or j + 1 >= width: -->
<!--                 if j - 1 < 0: -->
<!--                     Gx = img[i][j + 1] - 0 -->
<!--                 elif j + 1 >= width: -->
<!--                     Gx = 0 - img[i][j - 1] -->
<!--             else: -->
<!--                 Gx = img[i][j + 1] - img[i][j - 1] -->
<!--             if i - 1 < 0 or i + 1 >= height: -->
<!--                 if i - 1 < 0: -->
<!--                     Gy = 0 - img[i + 1][j] -->
<!--                 elif i + 1 >= height: -->
<!--                     Gy = img[i - 1][j] - 0 -->
<!--             else: -->
<!--                 Gy = img[i + 1][j] - img[i - 1][j] -->
<!--             magnitude = math.sqrt(pow(Gx, 2) + pow(Gy, 2)) -->
<!--             magnitudeArray.append(round(magnitude, 9)) -->
<!--             if Gx == 0: -->
<!--                 angle = math.degrees(0.0) -->
<!--             else: -->
<!--                 angle = math.degrees(math.atan(Gy / Gx)) -->
<!--                 if angle < 0: -->
<!--                     angle += 180 -->
<!--             angleArray.append(round(angle, 9)) -->
<!--         mag.append(magnitudeArray) -->
<!--         theta.append(angleArray) -->
<!--     # add list of magnitudes to list[x] -->
<!--     mag_list.append(mag) -->
<!--     # add list of angles to angle list[x] -->
<!--     theta_list.append(theta) -->
<!-- ``` -->
<!-- ::: {#fig-city-images layout-valign="top" layout-ncol=3} -->
<!-- ![Diagonal Line](images/plots/aerial_cities/0.jpg){group="cityscape-rescale-gallery"} -->
<!-- ![Salt Lake City, UT](images/plots/aerial_cities/1.jpg){group="cityscape-rescale-gallery"} -->
<!-- ![Detroit, MI](images/plots/aerial_cities/2.jpg){group="cityscape-rescale-gallery"} -->
<!-- Aerial Cityscape Images Rescaled and Converted to Greyscale -->
<!-- ::: -->
<!-- ## Build Data Frames for Diag -->
<!-- ```{python} -->
<!-- mag_diag = np.array(mag_list[0]) -->
<!-- theta_diag = np.array(theta_list[0]) -->
<!-- ``` -->
<!-- ## Plot Magnitudes as Image for Diagonal Lines -->
<!-- ```{python} -->
<!-- #  -->
<!-- # plt.figure(figsize=(15, 8)) -->
<!-- # #plt.title('San Francisco, CA Gradient Magnitudes') -->
<!-- # plt.imshow(mag_list[0], cmap="gray") -->
<!-- # plt.axis("on") -->
<!-- # #plt.show() -->
<!-- # plt.tight_layout() -->
<!-- # plt.savefig("images/plots/diagonal/diag_mag.png", dpi=300) -->
<!-- ``` -->
<!-- ```{python} -->
<!-- #plt.figure(figsize=(8, 15)) -->
<!-- #plt.title('Salt Lake City, UT Gradient Magnitudes') -->
<!-- # plt.imshow(mag_list[1], cmap="gray") -->
<!-- # plt.axis("on") -->
<!-- # #plt.show() -->
<!-- # plt.tight_layout() -->
<!-- # plt.savefig("images/plots/aerial_cities/salt_lake_mag.png", dpi=300) -->
<!-- ``` -->
<!-- ```{python} -->
<!-- #  -->
<!-- # plt.figure(figsize=(15, 8)) -->
<!-- # #plt.title('Detroit, MI Gradient Magnitudes') -->
<!-- # plt.imshow(mag_list[2], cmap="gray") -->
<!-- # plt.axis("on") -->
<!-- # #plt.show() -->
<!-- # plt.tight_layout() -->
<!-- # plt.savefig("images/plots/aerial_cities/detroit_mag.png", dpi=300) -->
<!-- ``` -->
<!-- ## Create Data Frame for Each Image -->
<!-- ```{r, warning=FALSE, message=FALSE} -->
<!-- # Diagonal DF -->
<!-- diag_hog_df <- data.frame(mag = as.vector(py$mag_diag), -->
<!--                               theta = as.vector((py$theta_diag))) %>% -->
<!--   mutate(radian = theta*(pi/180)) -->
<!-- # List of all Data frames -->
<!-- diag_standard_df_list = list(diag_hog_df) -->
<!-- ``` -->
<!-- ## Create Histograms of Gradient Magnitudes and Angles for Aerial Cityscapes -->
<!-- ```{r, warning=FALSE, message=FALSE} -->
<!-- diag_histogram_mag_plot <- -->
<!--   ggplot(diag_standard_df_list[[1]],  -->
<!--          aes(x = mag)) + -->
<!--   geom_histogram(colour = "black", fill = "lightblue") + -->
<!--   scale_x_continuous() +  -->
<!--   labs(x = "Gradient Magnitude",  -->
<!--        y = "Count",  -->
<!--        title = "Diagonal Lines Image Histogram of Gradient Magnitudes" -->
<!--        ) + -->
<!--   theme_minimal() + -->
<!--   theme(plot.title = element_text(hjust = 0.5)) -->
<!-- diag_histogram_mag_plot -->
<!-- diag_mag_filter <- 0.1 -->
<!-- ggsave("images/plots/diagonal/diag_histogram_mag_plot.jpg", diag_histogram_mag_plot, width = 6, height = 4, dpi = 300) -->
<!-- diag_histogram_theta_plot <- -->
<!--   ggplot(diag_standard_df_list[[1]],  -->
<!--          aes(x = theta)) + -->
<!--   geom_histogram(colour = "black", fill = "lightblue") + -->
<!--   scale_x_continuous() +  -->
<!--   labs(x = "Gradient Angle",  -->
<!--        y = "Count",  -->
<!--        title = "Diagonal Lines Image Histogram of Gradient Angles" -->
<!--        ) + -->
<!--   theme_minimal() + -->
<!--   theme(plot.title = element_text(hjust = 0.5)) -->
<!-- diag_histogram_theta_plot -->
<!-- ggsave("images/plots/diagonal/diag_histogram_theta_plot.jpg", diag_histogram_theta_plot, width = 6, height = 4, dpi = 300) -->
<!-- ``` -->
<!-- ## Build New Distributed Histogram Data Frame for Diagonal Lines Image -->
<!-- ```{r, warning=FALSE, message=FALSE} -->
<!-- # Define the number of bins -->
<!-- num_bins <- 9 -->
<!-- # function to calculate the contributions to neighboring bins -->
<!-- calculate_bin_contributions <- function(angle, magnitude, num_bins) { -->
<!--   bin_width <- 180 / num_bins -->
<!--   contributions <- numeric(num_bins) -->
<!--   # get the central bin -->
<!--   central_bin <- floor(angle / bin_width) %% num_bins -->
<!--   next_bin <- (central_bin + 1) %% num_bins -->
<!--   # get contributions to neighboring bins -->
<!--   weight <- (1 - abs((angle %% bin_width) / bin_width)) * magnitude -->
<!--   contributions[central_bin + 1] <- weight -->
<!--   contributions[next_bin + 1] <- magnitude - weight -->
<!--   return(list(contributions[1], -->
<!--          contributions[2], -->
<!--          contributions[3], -->
<!--          contributions[4], -->
<!--          contributions[5], -->
<!--          contributions[6], -->
<!--          contributions[7], -->
<!--          contributions[8], -->
<!--          contributions[9]) -->
<!--          ) -->
<!-- } -->
<!-- filtered_diag_standard_df_list <-list(diag_hog_df %>% -->
<!--                                    filter(mag >= diag_mag_filter)) -->
<!-- diag_contribution_df_list <- list() -->
<!-- for (i in 1:length(filtered_diag_standard_df_list)){ -->
<!--   diag_contribution_hog_df <-  -->
<!--     filtered_diag_standard_df_list[[i]] %>% -->
<!--     rowwise() %>% -->
<!--     mutate(`0` = calculate_bin_contributions(theta, mag, 9)[[1]], -->
<!--            `20` = calculate_bin_contributions(theta, mag, 9)[[2]], -->
<!--            `40` = calculate_bin_contributions(theta, mag, 9)[[3]], -->
<!--            `60` = calculate_bin_contributions(theta, mag, 9)[[4]], -->
<!--            `80` = calculate_bin_contributions(theta, mag, 9)[[5]], -->
<!--            `100` = calculate_bin_contributions(theta, mag, 9)[[6]], -->
<!--            `120` = calculate_bin_contributions(theta, mag, 9)[[7]], -->
<!--            `140` = calculate_bin_contributions(theta, mag, 9)[[8]], -->
<!--            `160` = calculate_bin_contributions(theta, mag, 9)[[9]], -->
<!--            ) -->
<!--   diag_split_histo_df <-  -->
<!--     diag_contribution_hog_df %>% -->
<!--     pivot_longer(names_to = "bin",  -->
<!--                  values_to = "contribution",  -->
<!--                  cols = 4:ncol(diag_contribution_hog_df)) %>% -->
<!--     mutate(bin = as.numeric(bin)) %>% -->
<!--     group_by(bin) %>% -->
<!--     summarise(contribution_sum = sum(contribution)) -->
<!--   diag_contribution_df_list[[i]] <- diag_split_histo_df -->
<!-- } -->
<!-- ``` -->
<!-- ## Generate Polar Plots for Standard Historgrams -->
<!-- ```{r, warning=FALSE, message=FALSE} -->
<!-- diag_plot <- -->
<!--   ggplot(filtered_diag_standard_df_list[[1]],  -->
<!--          aes(x = theta)) + -->
<!--   geom_histogram(colour = "black",  -->
<!--                  fill = "lightblue",  -->
<!--                  breaks = seq(0, 360, length.out = 17.5), -->
<!--                  bins = 9) + -->
<!--   coord_polar( -->
<!--     theta = "x",  -->
<!--     start = 0,  -->
<!--     direction = 1) + -->
<!--   scale_x_continuous(limits = c(0,360), -->
<!--     breaks = c(0, 45, 90, 135, 180, 225, 270, 315),  -->
<!--     labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW") -->
<!--   )+ -->
<!--   labs(title = "Polar Plot of Diagonal Image\nUsing Standard HOG Technique") + -->
<!--   theme_minimal() + -->
<!--   labs(x = "") + -->
<!--   theme(axis.title.y = element_blank(), -->
<!--         plot.title = element_text(hjust = 0.5)) -->
<!-- ggsave("images/plots/diagonal/diag_standard_polar_plot.jpg", diag_plot, width = 6, height = 4, dpi = 300) -->
<!-- ``` -->
<!-- ## Generate Polar Plots for Distributed Historgrams of Diagonal Image -->
<!-- ```{r, warning=FALSE, message=FALSE} -->
<!-- diag_split_plot <- -->
<!--   ggplot(diag_contribution_df_list[[1]],  -->
<!--          aes(x = bin, y = contribution_sum)) + -->
<!--   geom_histogram(stat = "identity", -->
<!--                  colour = "black",  -->
<!--                  fill = "lightblue",  -->
<!--                  breaks = seq(0, 360, length.out = 17.5), -->
<!--                  bins = 9) + -->
<!--   coord_polar( -->
<!--     theta = "x",  -->
<!--     start = 0,  -->
<!--     direction = 1) + -->
<!--   scale_x_continuous(limits = c(0,360), -->
<!--     breaks = c(0, 45, 90, 135, 180, 225, 270, 315),  -->
<!--     labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW") -->
<!--   )+ -->
<!--   labs(title = "Polar Plot of Diagonal Image\nUsing Distributed HOG Technique") + -->
<!--   theme_minimal() + -->
<!--   labs(x = "") + -->
<!--   theme(axis.title.y = element_blank(), -->
<!--         plot.title = element_text(hjust = 0.5)) -->
<!-- ggsave("images/plots/diagonal/diag_contribution_polar_plot.jpg", diag_split_plot, width = 6, height = 4, dpi = 300) -->
<!-- ``` -->
<details>
</details></div></div></section>
<section id="collect-hog-features-for-aerial-cityscapes" class="level2">
<h2 class="anchored" data-anchor-id="collect-hog-features-for-aerial-cityscapes">Collect HOG Features for Aerial Cityscapes</h2>
<div class="cell">
<details class="code-fold">
<summary>Rescale and convert each image to grayscale. Then iterate through the list of images and collect gradient magnitudes and angles.</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># List for storing images</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>img_list <span class="op">=</span> []</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co"># SF aerial</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>img_list.append(color.rgb2gray(</span>
<span id="cb7-6"><a href="#cb7-6"></a>  io.imread(<span class="st">"images/san_francisco_scale_zoom_12.png"</span>)))</span>
<span id="cb7-7"><a href="#cb7-7"></a></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co"># Salt Lake City Aerial</span></span>
<span id="cb7-9"><a href="#cb7-9"></a>img_list.append(color.rgb2gray(</span>
<span id="cb7-10"><a href="#cb7-10"></a>  io.imread(<span class="st">"images/salt_lake_city_zoom_12.png"</span>)))</span>
<span id="cb7-11"><a href="#cb7-11"></a></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co"># Detroit Aerial</span></span>
<span id="cb7-13"><a href="#cb7-13"></a>img_list.append(color.rgb2gray(io.imread(<span class="st">"images/detroit_zoom_12.png"</span>)))</span>
<span id="cb7-14"><a href="#cb7-14"></a></span>
<span id="cb7-15"><a href="#cb7-15"></a><span class="co"># List to store magnitudes for each image</span></span>
<span id="cb7-16"><a href="#cb7-16"></a>mag_list <span class="op">=</span> []</span>
<span id="cb7-17"><a href="#cb7-17"></a></span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="co"># List to store angles for each image</span></span>
<span id="cb7-19"><a href="#cb7-19"></a>theta_list <span class="op">=</span> []</span>
<span id="cb7-20"><a href="#cb7-20"></a></span>
<span id="cb7-21"><a href="#cb7-21"></a></span>
<span id="cb7-22"><a href="#cb7-22"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(img_list)):</span>
<span id="cb7-23"><a href="#cb7-23"></a>    <span class="co"># Get image of interest</span></span>
<span id="cb7-24"><a href="#cb7-24"></a>    img <span class="op">=</span> img_list[x]</span>
<span id="cb7-25"><a href="#cb7-25"></a>    </span>
<span id="cb7-26"><a href="#cb7-26"></a>    rescaled_file_path <span class="op">=</span> <span class="ss">f"images/plots/aerial_cities/</span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">.jpg"</span></span>
<span id="cb7-27"><a href="#cb7-27"></a>    </span>
<span id="cb7-28"><a href="#cb7-28"></a>    <span class="co"># Determine aspect Ratio</span></span>
<span id="cb7-29"><a href="#cb7-29"></a>    aspect_ratio <span class="op">=</span> img.shape[<span class="dv">0</span>] <span class="op">/</span> img.shape[<span class="dv">1</span>]</span>
<span id="cb7-30"><a href="#cb7-30"></a>    <span class="bu">print</span>(<span class="st">"Aspect Ratio:"</span>, aspect_ratio)</span>
<span id="cb7-31"><a href="#cb7-31"></a>    </span>
<span id="cb7-32"><a href="#cb7-32"></a>    <span class="co"># Hard-Code height to 200 pixels</span></span>
<span id="cb7-33"><a href="#cb7-33"></a>    height <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb7-34"><a href="#cb7-34"></a>    </span>
<span id="cb7-35"><a href="#cb7-35"></a>    <span class="co"># Calculate witdth to maintain same aspect ratio</span></span>
<span id="cb7-36"><a href="#cb7-36"></a>    width <span class="op">=</span> <span class="bu">int</span>(height <span class="op">/</span> aspect_ratio)</span>
<span id="cb7-37"><a href="#cb7-37"></a>    <span class="bu">print</span>(<span class="st">"Resized Width:"</span>, width)</span>
<span id="cb7-38"><a href="#cb7-38"></a>    </span>
<span id="cb7-39"><a href="#cb7-39"></a>    <span class="co"># Resize the image</span></span>
<span id="cb7-40"><a href="#cb7-40"></a>    resized_img <span class="op">=</span> resize(img, (height, width))</span>
<span id="cb7-41"><a href="#cb7-41"></a>    </span>
<span id="cb7-42"><a href="#cb7-42"></a>    <span class="co"># Replace the original image with the resized image</span></span>
<span id="cb7-43"><a href="#cb7-43"></a>    img_list[x] <span class="op">=</span> resized_img</span>
<span id="cb7-44"><a href="#cb7-44"></a>    </span>
<span id="cb7-45"><a href="#cb7-45"></a>    <span class="co"># if (x == 1):</span></span>
<span id="cb7-46"><a href="#cb7-46"></a>    <span class="co">#   plot_width = 8</span></span>
<span id="cb7-47"><a href="#cb7-47"></a>    <span class="co">#   plot_height = 15</span></span>
<span id="cb7-48"><a href="#cb7-48"></a>    <span class="co"># else:</span></span>
<span id="cb7-49"><a href="#cb7-49"></a>    <span class="co">#   plot_width = 15</span></span>
<span id="cb7-50"><a href="#cb7-50"></a>    <span class="co">#   plot_height = 9</span></span>
<span id="cb7-51"><a href="#cb7-51"></a>    <span class="co"># </span></span>
<span id="cb7-52"><a href="#cb7-52"></a>    <span class="co"># plt.figure(figsize=(plot_width, plot_height))</span></span>
<span id="cb7-53"><a href="#cb7-53"></a>    <span class="co"># plt.imshow(resized_img, cmap="gray")</span></span>
<span id="cb7-54"><a href="#cb7-54"></a>    <span class="co"># plt.axis("on")</span></span>
<span id="cb7-55"><a href="#cb7-55"></a>    <span class="co"># plt.tight_layout()</span></span>
<span id="cb7-56"><a href="#cb7-56"></a>    <span class="co"># plt.savefig(rescaled_file_path, dpi=300)</span></span>
<span id="cb7-57"><a href="#cb7-57"></a>    <span class="co"># plt.show()</span></span>
<span id="cb7-58"><a href="#cb7-58"></a></span>
<span id="cb7-59"><a href="#cb7-59"></a>    </span>
<span id="cb7-60"><a href="#cb7-60"></a>    <span class="co"># list for storing all magnitudes for image[x]</span></span>
<span id="cb7-61"><a href="#cb7-61"></a>    mag <span class="op">=</span> []</span>
<span id="cb7-62"><a href="#cb7-62"></a>    </span>
<span id="cb7-63"><a href="#cb7-63"></a>    <span class="co"># list for storing all angles for image[x]</span></span>
<span id="cb7-64"><a href="#cb7-64"></a>    theta <span class="op">=</span> []</span>
<span id="cb7-65"><a href="#cb7-65"></a>    </span>
<span id="cb7-66"><a href="#cb7-66"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(height):</span>
<span id="cb7-67"><a href="#cb7-67"></a>        magnitudeArray <span class="op">=</span> []</span>
<span id="cb7-68"><a href="#cb7-68"></a>        angleArray <span class="op">=</span> []</span>
<span id="cb7-69"><a href="#cb7-69"></a></span>
<span id="cb7-70"><a href="#cb7-70"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(width):</span>
<span id="cb7-71"><a href="#cb7-71"></a>            <span class="cf">if</span> j <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> j <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> width:</span>
<span id="cb7-72"><a href="#cb7-72"></a>                <span class="cf">if</span> j <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb7-73"><a href="#cb7-73"></a>                    Gx <span class="op">=</span> resized_img[i][j <span class="op">+</span> <span class="dv">1</span>] <span class="op">-</span> <span class="dv">0</span></span>
<span id="cb7-74"><a href="#cb7-74"></a>                <span class="cf">elif</span> j <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> width:</span>
<span id="cb7-75"><a href="#cb7-75"></a>                    Gx <span class="op">=</span> <span class="dv">0</span> <span class="op">-</span> resized_img[i][j <span class="op">-</span> <span class="dv">1</span>]</span>
<span id="cb7-76"><a href="#cb7-76"></a>            <span class="cf">else</span>:</span>
<span id="cb7-77"><a href="#cb7-77"></a>                Gx <span class="op">=</span> resized_img[i][j <span class="op">+</span> <span class="dv">1</span>] <span class="op">-</span> resized_img[i][j <span class="op">-</span> <span class="dv">1</span>]</span>
<span id="cb7-78"><a href="#cb7-78"></a></span>
<span id="cb7-79"><a href="#cb7-79"></a>            <span class="cf">if</span> i <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> i <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> height:</span>
<span id="cb7-80"><a href="#cb7-80"></a>                <span class="cf">if</span> i <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb7-81"><a href="#cb7-81"></a>                    Gy <span class="op">=</span> <span class="dv">0</span> <span class="op">-</span> resized_img[i <span class="op">+</span> <span class="dv">1</span>][j]</span>
<span id="cb7-82"><a href="#cb7-82"></a>                <span class="cf">elif</span> i <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> height:</span>
<span id="cb7-83"><a href="#cb7-83"></a>                    Gy <span class="op">=</span> resized_img[i <span class="op">-</span> <span class="dv">1</span>][j] <span class="op">-</span> <span class="dv">0</span></span>
<span id="cb7-84"><a href="#cb7-84"></a>            <span class="cf">else</span>:</span>
<span id="cb7-85"><a href="#cb7-85"></a>                Gy <span class="op">=</span> resized_img[i <span class="op">+</span> <span class="dv">1</span>][j] <span class="op">-</span> resized_img[i <span class="op">-</span> <span class="dv">1</span>][j]</span>
<span id="cb7-86"><a href="#cb7-86"></a></span>
<span id="cb7-87"><a href="#cb7-87"></a>            magnitude <span class="op">=</span> math.sqrt(<span class="bu">pow</span>(Gx, <span class="dv">2</span>) <span class="op">+</span> <span class="bu">pow</span>(Gy, <span class="dv">2</span>))</span>
<span id="cb7-88"><a href="#cb7-88"></a>            magnitudeArray.append(<span class="bu">round</span>(magnitude, <span class="dv">9</span>))</span>
<span id="cb7-89"><a href="#cb7-89"></a></span>
<span id="cb7-90"><a href="#cb7-90"></a>            <span class="cf">if</span> Gx <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb7-91"><a href="#cb7-91"></a>                angle <span class="op">=</span> math.degrees(<span class="fl">0.0</span>)</span>
<span id="cb7-92"><a href="#cb7-92"></a>            <span class="cf">else</span>:</span>
<span id="cb7-93"><a href="#cb7-93"></a>                angle <span class="op">=</span> math.degrees(math.atan(Gy <span class="op">/</span> Gx))</span>
<span id="cb7-94"><a href="#cb7-94"></a>                <span class="cf">if</span> angle <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb7-95"><a href="#cb7-95"></a>                    angle <span class="op">+=</span> <span class="dv">180</span></span>
<span id="cb7-96"><a href="#cb7-96"></a></span>
<span id="cb7-97"><a href="#cb7-97"></a>            angleArray.append(<span class="bu">round</span>(angle, <span class="dv">9</span>))</span>
<span id="cb7-98"><a href="#cb7-98"></a></span>
<span id="cb7-99"><a href="#cb7-99"></a>        mag.append(magnitudeArray)</span>
<span id="cb7-100"><a href="#cb7-100"></a>        theta.append(angleArray)</span>
<span id="cb7-101"><a href="#cb7-101"></a></span>
<span id="cb7-102"><a href="#cb7-102"></a>    <span class="co"># add list of magnitudes to list[x]</span></span>
<span id="cb7-103"><a href="#cb7-103"></a>    mag_list.append(mag)</span>
<span id="cb7-104"><a href="#cb7-104"></a></span>
<span id="cb7-105"><a href="#cb7-105"></a>    <span class="co"># add list of angles to angle list[x]</span></span>
<span id="cb7-106"><a href="#cb7-106"></a>    theta_list.append(theta)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Aspect Ratio: 0.6666666666666666
Resized Width: 300
Aspect Ratio: 1.5
Resized Width: 133
Aspect Ratio: 0.6666666666666666
Resized Width: 300</code></pre>
</div>
</div>

<div align="center">

<div id="fig-city-images" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-city-images-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/0.jpg" class="lightbox" data-gallery="cityscape-rescale-gallery" data-glightbox="description: .lightbox-desc-4" title="San Francisco, CA"><img src="images/plots/aerial_cities/0.jpg" class="img-fluid figure-img"></a></p>
<figcaption>San Francisco, CA</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/1.jpg" class="lightbox" data-gallery="cityscape-rescale-gallery" data-glightbox="description: .lightbox-desc-5" title="Salt Lake City, UT"><img src="images/plots/aerial_cities/1.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Salt Lake City, UT</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/2.jpg" class="lightbox" data-gallery="cityscape-rescale-gallery" data-glightbox="description: .lightbox-desc-6" title="Detroit, MI"><img src="images/plots/aerial_cities/2.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Detroit, MI</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-city-images-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.2: Aerial Cityscape Images Re-scaled and Converted to Grayscale
</figcaption>
</figure>
</div>
<div>

</div></div></section>
<section id="extract-gradient-magnitudes-and-angles-from-each-aerial-cityscape" class="level2">
<h2 class="anchored" data-anchor-id="extract-gradient-magnitudes-and-angles-from-each-aerial-cityscape">Extract Gradient Magnitudes and Angles from each Aerial Cityscape</h2>
<div class="cell">
<details class="code-fold">
<summary>Create arrays of gradient magnitudes and angles for each image</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># San Francisco DF of gradient magnitudes and angles</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>mag_sf <span class="op">=</span> np.array(mag_list[<span class="dv">0</span>])</span>
<span id="cb9-3"><a href="#cb9-3"></a>theta_sf <span class="op">=</span> np.array(theta_list[<span class="dv">0</span>])</span>
<span id="cb9-4"><a href="#cb9-4"></a></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co"># Salt Lake City DF of gradient magnitudes and angles</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>mag_salt_lake <span class="op">=</span> np.array(mag_list[<span class="dv">1</span>])</span>
<span id="cb9-7"><a href="#cb9-7"></a>theta_salt_lake <span class="op">=</span> np.array(theta_list[<span class="dv">1</span>])</span>
<span id="cb9-8"><a href="#cb9-8"></a></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co"># Detorit DF of gradient magnitudes and angles</span></span>
<span id="cb9-10"><a href="#cb9-10"></a>mag_detroit <span class="op">=</span> np.array(mag_list[<span class="dv">2</span>])</span>
<span id="cb9-11"><a href="#cb9-11"></a>theta_detroit <span class="op">=</span> np.array(theta_list[<span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="plot-gradient-magnitudes-as-image-for-each-aerial-cityscape" class="level2">
<h2 class="anchored" data-anchor-id="plot-gradient-magnitudes-as-image-for-each-aerial-cityscape">Plot Gradient Magnitudes as Image for each Aerial Cityscape</h2>
<div class="cell">
<details class="code-fold">
<summary>Generate image of gradient magnitudes for San Francisco image</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># Save gradient magnitudes of San Francisco in image form</span></span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co"># plt.figure(figsize=(15, 8))</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="co"># #plt.title('San Francisco, CA Gradient Magnitudes')</span></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="co"># plt.imshow(mag_list[0], cmap="gray")</span></span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="co"># plt.axis("on")</span></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="co"># #plt.show()</span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="co"># plt.savefig("images/plots/aerial_cities/sf_mag.png", dpi=300)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Generate image of gradient magnitudes for Salt Lake City image</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Save gradient magnitudes of Salt Lake City in image form</span></span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co"># plt.figure(figsize=(8, 15))</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co"># #plt.title('Salt Lake City, UT Gradient Magnitudes')</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co"># plt.imshow(mag_list[1], cmap="gray")</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co"># plt.axis("on")</span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co"># #plt.show()</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="co"># plt.savefig("images/plots/aerial_cities/salt_lake_mag.png", dpi=300)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Generate image of gradient magnitudes for Detroit image</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># Save gradient magnitudes of Detroit in image form</span></span>
<span id="cb12-2"><a href="#cb12-2"></a></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co"># plt.figure(figsize=(15, 8))</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co"># #plt.title('Detroit, MI Gradient Magnitudes')</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co"># plt.imshow(mag_list[2], cmap="gray")</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co"># plt.axis("on")</span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="co"># #plt.show()</span></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="co"># plt.savefig("images/plots/aerial_cities/detroit_mag.png", dpi=300)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div align="center">

<div id="fig-city-mags" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-city-mags-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/sf_mag.png" class="lightbox" data-gallery="cityscape-mag-gallery" data-glightbox="description: .lightbox-desc-7" title="San Francisco, CA"><img src="images/plots/aerial_cities/sf_mag.png" class="img-fluid figure-img"></a></p>
<figcaption>San Francisco, CA</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/salt_lake_mag.png" class="lightbox" data-gallery="cityscape-mag-gallery" data-glightbox="description: .lightbox-desc-8" title="Salt Lake City, UT"><img src="images/plots/aerial_cities/salt_lake_mag.png" class="img-fluid figure-img"></a></p>
<figcaption>Salt Lake City, UT</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/detroit_mag.png" class="lightbox" data-gallery="cityscape-mag-gallery" data-glightbox="description: .lightbox-desc-9" title="Detroit, MI"><img src="images/plots/aerial_cities/detroit_mag.png" class="img-fluid figure-img"></a></p>
<figcaption>Detroit, MI</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-city-mags-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.3: Image of Aerial Cityscape Magnitudes
</figcaption>
</figure>
</div>
<div>

</div></div></section>
<section id="create-data-frame-for-each-image" class="level2">
<h2 class="anchored" data-anchor-id="create-data-frame-for-each-image">Create Data Frame for Each Image</h2>
<div class="cell">
<details class="code-fold">
<summary>Make data frame of San Francisco, CA magnitudes and angles</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># San Francisco DF</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>sf_hog_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">mag =</span> <span class="fu">as.vector</span>(py<span class="sc">$</span>mag_sf),</span>
<span id="cb13-3"><a href="#cb13-3"></a>                              <span class="at">theta =</span> <span class="fu">as.vector</span>((py<span class="sc">$</span>theta_sf))) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="fu">mutate</span>(<span class="at">radian =</span> theta<span class="sc">*</span>(pi<span class="sc">/</span><span class="dv">180</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Make Data Frame of Salt Lake City, UT Magnitudes and Angles</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># Salt Lake City DF</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>salt_lake_hog_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">mag =</span> <span class="fu">as.vector</span>(py<span class="sc">$</span>mag_salt_lake),</span>
<span id="cb14-3"><a href="#cb14-3"></a>                              <span class="at">theta =</span> <span class="fu">as.vector</span>((py<span class="sc">$</span>theta_salt_lake))) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="fu">mutate</span>(<span class="at">radian =</span> theta<span class="sc">*</span>(pi<span class="sc">/</span><span class="dv">180</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Make Data Frame of Detroit, MI Magnitudes and Angles</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># Detroit DF</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>detroit_hog_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">mag =</span> <span class="fu">as.vector</span>(py<span class="sc">$</span>mag_detroit),</span>
<span id="cb15-3"><a href="#cb15-3"></a>                              <span class="at">theta =</span> <span class="fu">as.vector</span>((py<span class="sc">$</span>theta_detroit))) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>  <span class="fu">mutate</span>(<span class="at">radian =</span> theta<span class="sc">*</span>(pi<span class="sc">/</span><span class="dv">180</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Add the Data Frames Created Above to a List</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># List of all Data frames</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>standard_df_list <span class="ot">=</span> <span class="fu">list</span>(sf_hog_df,</span>
<span id="cb16-3"><a href="#cb16-3"></a>                        salt_lake_hog_df, </span>
<span id="cb16-4"><a href="#cb16-4"></a>                        detroit_hog_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="create-histograms-of-gradient-magnitudes-and-angles-for-aerial-cityscapes" class="level2">
<h2 class="anchored" data-anchor-id="create-histograms-of-gradient-magnitudes-and-angles-for-aerial-cityscapes">Create Histograms of Gradient Magnitudes and Angles for Aerial Cityscapes</h2>
<div class="cell">
<details class="code-fold">
<summary>Plot histogram of San Francisco, CA gradient magnitudes and define the magnitude level for later filtering</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># SF histogram of gradient mags</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>sf_histogram_mag_plot <span class="ot">&lt;-</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="fu">ggplot</span>(standard_df_list[[<span class="dv">1</span>]], </span>
<span id="cb17-4"><a href="#cb17-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> mag)) <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6"></a>  <span class="fu">scale_x_continuous</span>() <span class="sc">+</span> </span>
<span id="cb17-7"><a href="#cb17-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gradient Magnitude"</span>, </span>
<span id="cb17-8"><a href="#cb17-8"></a>       <span class="at">y =</span> <span class="st">"Count"</span>, </span>
<span id="cb17-9"><a href="#cb17-9"></a>       <span class="at">title =</span> <span class="st">"San Francisco Cityscape Image Histogram of Gradient Magnitudes"</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>       ) <span class="sc">+</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb17-13"><a href="#cb17-13"></a></span>
<span id="cb17-14"><a href="#cb17-14"></a><span class="co"># sf mag filter level</span></span>
<span id="cb17-15"><a href="#cb17-15"></a>sf_mag_filter <span class="ot">&lt;-</span> <span class="fl">0.4</span></span>
<span id="cb17-16"><a href="#cb17-16"></a></span>
<span id="cb17-17"><a href="#cb17-17"></a><span class="co"># save image</span></span>
<span id="cb17-18"><a href="#cb17-18"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/sf_histogram_mag_plot.jpg"</span>, </span>
<span id="cb17-19"><a href="#cb17-19"></a>       sf_histogram_mag_plot, </span>
<span id="cb17-20"><a href="#cb17-20"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb17-21"><a href="#cb17-21"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb17-22"><a href="#cb17-22"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Plot histogram of San Francisco, CA gradient angles</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># SF histogram of gradient angles</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>sf_histogram_theta_plot <span class="ot">&lt;-</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="fu">ggplot</span>(standard_df_list[[<span class="dv">1</span>]], </span>
<span id="cb18-4"><a href="#cb18-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> theta)) <span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>  <span class="fu">scale_x_continuous</span>() <span class="sc">+</span> </span>
<span id="cb18-7"><a href="#cb18-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gradient Angle"</span>, </span>
<span id="cb18-8"><a href="#cb18-8"></a>       <span class="at">y =</span> <span class="st">"Count"</span>, </span>
<span id="cb18-9"><a href="#cb18-9"></a>       <span class="at">title =</span> <span class="st">"San Francisco Cityscape Image Histogram of Gradient Angles"</span></span>
<span id="cb18-10"><a href="#cb18-10"></a>       ) <span class="sc">+</span></span>
<span id="cb18-11"><a href="#cb18-11"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-12"><a href="#cb18-12"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb18-13"><a href="#cb18-13"></a></span>
<span id="cb18-14"><a href="#cb18-14"></a><span class="co"># save image</span></span>
<span id="cb18-15"><a href="#cb18-15"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/sf_histogram_theta_plot.jpg"</span>, </span>
<span id="cb18-16"><a href="#cb18-16"></a>       sf_histogram_theta_plot, </span>
<span id="cb18-17"><a href="#cb18-17"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb18-18"><a href="#cb18-18"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb18-19"><a href="#cb18-19"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Plot histogram of Salt Lake City, UT gradient magnitudes and define the magnitude level for later filtering</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># slc histogram of gradient mags</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>salt_lake_histogram_mag_plot <span class="ot">&lt;-</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="fu">ggplot</span>(standard_df_list[[<span class="dv">2</span>]], </span>
<span id="cb19-4"><a href="#cb19-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> mag)) <span class="sc">+</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>  <span class="fu">scale_x_continuous</span>() <span class="sc">+</span> </span>
<span id="cb19-7"><a href="#cb19-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gradient Magnitude"</span>, </span>
<span id="cb19-8"><a href="#cb19-8"></a>       <span class="at">y =</span> <span class="st">"Count"</span>, </span>
<span id="cb19-9"><a href="#cb19-9"></a>       <span class="at">title =</span> <span class="st">"Salt Lake City Image Histogram of Gradient Magnitudes"</span></span>
<span id="cb19-10"><a href="#cb19-10"></a>       ) <span class="sc">+</span></span>
<span id="cb19-11"><a href="#cb19-11"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb19-12"><a href="#cb19-12"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb19-13"><a href="#cb19-13"></a></span>
<span id="cb19-14"><a href="#cb19-14"></a><span class="co"># SLC mag filter level</span></span>
<span id="cb19-15"><a href="#cb19-15"></a>salt_lake_mag_filter <span class="ot">&lt;-</span> <span class="fl">0.12</span></span>
<span id="cb19-16"><a href="#cb19-16"></a></span>
<span id="cb19-17"><a href="#cb19-17"></a><span class="co"># save image</span></span>
<span id="cb19-18"><a href="#cb19-18"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/salt_lake_histogram_mag_plot.jpg"</span>, </span>
<span id="cb19-19"><a href="#cb19-19"></a>       salt_lake_histogram_mag_plot, </span>
<span id="cb19-20"><a href="#cb19-20"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb19-21"><a href="#cb19-21"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb19-22"><a href="#cb19-22"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Plot histogram of Salt Lake City, UT gradient angles</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># slc histogram of gradient angles</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>salt_lake_histogram_theta_plot <span class="ot">&lt;-</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="fu">ggplot</span>(standard_df_list[[<span class="dv">2</span>]], </span>
<span id="cb20-4"><a href="#cb20-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> theta)) <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>  <span class="fu">scale_x_continuous</span>() <span class="sc">+</span> </span>
<span id="cb20-7"><a href="#cb20-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gradient Angle"</span>, </span>
<span id="cb20-8"><a href="#cb20-8"></a>       <span class="at">y =</span> <span class="st">"Count"</span>, </span>
<span id="cb20-9"><a href="#cb20-9"></a>       <span class="at">title =</span> <span class="st">"Salt Lake City Image Histogram of Gradient Angles"</span></span>
<span id="cb20-10"><a href="#cb20-10"></a>       ) <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb20-12"><a href="#cb20-12"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb20-13"><a href="#cb20-13"></a></span>
<span id="cb20-14"><a href="#cb20-14"></a><span class="co"># save image</span></span>
<span id="cb20-15"><a href="#cb20-15"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/salt_lake_histogram_theta_plot.jpg"</span>,</span>
<span id="cb20-16"><a href="#cb20-16"></a>       salt_lake_histogram_theta_plot, </span>
<span id="cb20-17"><a href="#cb20-17"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb20-18"><a href="#cb20-18"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb20-19"><a href="#cb20-19"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Plot histogram of Detroit, MI gradient magnitudes and define the magnitude level for later filtering</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># Detroit histogram of gradient mags</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>detroit_histogram_mag_plot <span class="ot">&lt;-</span></span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="fu">ggplot</span>(standard_df_list[[<span class="dv">3</span>]], </span>
<span id="cb21-4"><a href="#cb21-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> mag)) <span class="sc">+</span></span>
<span id="cb21-5"><a href="#cb21-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="fu">scale_x_continuous</span>() <span class="sc">+</span> </span>
<span id="cb21-7"><a href="#cb21-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gradient Magnitude"</span>, </span>
<span id="cb21-8"><a href="#cb21-8"></a>       <span class="at">y =</span> <span class="st">"Count"</span>, </span>
<span id="cb21-9"><a href="#cb21-9"></a>       <span class="at">title =</span> <span class="st">"Detroit Image Histogram of Gradient Magnitudes"</span></span>
<span id="cb21-10"><a href="#cb21-10"></a>       ) <span class="sc">+</span></span>
<span id="cb21-11"><a href="#cb21-11"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-12"><a href="#cb21-12"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb21-13"><a href="#cb21-13"></a></span>
<span id="cb21-14"><a href="#cb21-14"></a><span class="co"># Detroit mag filter level</span></span>
<span id="cb21-15"><a href="#cb21-15"></a>detroit_mag_filter <span class="ot">&lt;-</span> <span class="fl">0.15</span></span>
<span id="cb21-16"><a href="#cb21-16"></a></span>
<span id="cb21-17"><a href="#cb21-17"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/detroit_histogram_mag_plot.jpg"</span>, </span>
<span id="cb21-18"><a href="#cb21-18"></a>       detroit_histogram_mag_plot, </span>
<span id="cb21-19"><a href="#cb21-19"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb21-20"><a href="#cb21-20"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb21-21"><a href="#cb21-21"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Plot histogram of Detroit, MI gradient angles</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Detroit histogram of gradient angles</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>detroit_histogram_theta_plot <span class="ot">&lt;-</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">ggplot</span>(standard_df_list[[<span class="dv">3</span>]], </span>
<span id="cb22-4"><a href="#cb22-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> theta)) <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6"></a>  <span class="fu">scale_x_continuous</span>() <span class="sc">+</span> </span>
<span id="cb22-7"><a href="#cb22-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gradient Angle"</span>, </span>
<span id="cb22-8"><a href="#cb22-8"></a>       <span class="at">y =</span> <span class="st">"Count"</span>, </span>
<span id="cb22-9"><a href="#cb22-9"></a>       <span class="at">title =</span> <span class="st">"Detroit, MI Image Histogram of Gradient Angles"</span></span>
<span id="cb22-10"><a href="#cb22-10"></a>       ) <span class="sc">+</span></span>
<span id="cb22-11"><a href="#cb22-11"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb22-12"><a href="#cb22-12"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb22-13"><a href="#cb22-13"></a></span>
<span id="cb22-14"><a href="#cb22-14"></a><span class="co"># save image</span></span>
<span id="cb22-15"><a href="#cb22-15"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/detroit_histogram_theta_plot.jpg"</span>, </span>
<span id="cb22-16"><a href="#cb22-16"></a>       detroit_histogram_theta_plot, </span>
<span id="cb22-17"><a href="#cb22-17"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb22-18"><a href="#cb22-18"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb22-19"><a href="#cb22-19"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div align="center">

<div id="fig-city-histograms" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-city-histograms-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/sf_histogram_mag_plot.jpg" class="lightbox" data-gallery="cityscape-hist-gallery" data-glightbox="description: .lightbox-desc-10" title="San Francisco, CA Gradient Magnitudes"><img src="images/plots/aerial_cities/sf_histogram_mag_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>San Francisco, CA Gradient Magnitudes</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/salt_lake_histogram_mag_plot.jpg" class="lightbox" data-gallery="cityscape-hist-gallery" data-glightbox="description: .lightbox-desc-11" title="Salt Lake City, UT Gradient Magnitudes"><img src="images/plots/aerial_cities/salt_lake_histogram_mag_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Salt Lake City, UT Gradient Magnitudes</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/detroit_histogram_mag_plot.jpg" class="lightbox" data-gallery="cityscape-hist-gallery" data-glightbox="description: .lightbox-desc-12" title="Detroit, MI Gradient Magnitudes"><img src="images/plots/aerial_cities/detroit_histogram_mag_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Detroit, MI Gradient Magnitudes</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/sf_histogram_theta_plot.jpg" class="lightbox" data-gallery="cityscape-hist-gallery" data-glightbox="description: .lightbox-desc-13" title="San Francisco, CA Gradient Angles"><img src="images/plots/aerial_cities/sf_histogram_theta_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>San Francisco, CA Gradient Angles</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/salt_lake_histogram_theta_plot.jpg" class="lightbox" data-gallery="cityscape-hist-gallery" data-glightbox="description: .lightbox-desc-14" title="Salt Lake City, UT Gradient Angles"><img src="images/plots/aerial_cities/salt_lake_histogram_theta_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Salt Lake City, UT Gradient Angles</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/detroit_histogram_theta_plot.jpg" class="lightbox" data-gallery="cityscape-hist-gallery" data-glightbox="description: .lightbox-desc-15" title="Detroit, MI Gradient Angles"><img src="images/plots/aerial_cities/detroit_histogram_theta_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Detroit, MI Gradient Angles</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-city-histograms-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.4: Aerial Cityscape Histograms of Magnitudes and Angles
</figcaption>
</figure>
</div>
<div>

</div></div></section>
<section id="build-new-distributed-histogram-data-frames" class="level2">
<h2 class="anchored" data-anchor-id="build-new-distributed-histogram-data-frames">Build New Distributed Histogram Data Frames</h2>
<div class="cell">
<details class="code-fold">
<summary>Function for calculating values for each bin of distributed histogram</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># function to calculate the contributions to neighboring bins</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>calculate_bin_contributions <span class="ot">&lt;-</span> <span class="cf">function</span>(angle, magnitude, num_bins) {</span>
<span id="cb23-3"><a href="#cb23-3"></a>  bin_width <span class="ot">&lt;-</span> <span class="dv">180</span> <span class="sc">/</span> num_bins</span>
<span id="cb23-4"><a href="#cb23-4"></a>  contributions <span class="ot">&lt;-</span> <span class="fu">numeric</span>(num_bins)</span>
<span id="cb23-5"><a href="#cb23-5"></a>  </span>
<span id="cb23-6"><a href="#cb23-6"></a>  <span class="co"># get the central bin</span></span>
<span id="cb23-7"><a href="#cb23-7"></a>  central_bin <span class="ot">&lt;-</span> <span class="fu">floor</span>(angle <span class="sc">/</span> bin_width) <span class="sc">%%</span> num_bins</span>
<span id="cb23-8"><a href="#cb23-8"></a>  next_bin <span class="ot">&lt;-</span> (central_bin <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">%%</span> num_bins</span>
<span id="cb23-9"><a href="#cb23-9"></a>  </span>
<span id="cb23-10"><a href="#cb23-10"></a>  <span class="co"># get contributions to neighboring bins</span></span>
<span id="cb23-11"><a href="#cb23-11"></a>  weight <span class="ot">&lt;-</span> (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">abs</span>((angle <span class="sc">%%</span> bin_width) <span class="sc">/</span> bin_width)) <span class="sc">*</span> magnitude</span>
<span id="cb23-12"><a href="#cb23-12"></a>  </span>
<span id="cb23-13"><a href="#cb23-13"></a>  contributions[central_bin <span class="sc">+</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> weight</span>
<span id="cb23-14"><a href="#cb23-14"></a>  contributions[next_bin <span class="sc">+</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> magnitude <span class="sc">-</span> weight</span>
<span id="cb23-15"><a href="#cb23-15"></a>  </span>
<span id="cb23-16"><a href="#cb23-16"></a>  <span class="fu">return</span>(<span class="fu">list</span>(contributions[<span class="dv">1</span>],</span>
<span id="cb23-17"><a href="#cb23-17"></a>         contributions[<span class="dv">2</span>],</span>
<span id="cb23-18"><a href="#cb23-18"></a>         contributions[<span class="dv">3</span>],</span>
<span id="cb23-19"><a href="#cb23-19"></a>         contributions[<span class="dv">4</span>],</span>
<span id="cb23-20"><a href="#cb23-20"></a>         contributions[<span class="dv">5</span>],</span>
<span id="cb23-21"><a href="#cb23-21"></a>         contributions[<span class="dv">6</span>],</span>
<span id="cb23-22"><a href="#cb23-22"></a>         contributions[<span class="dv">7</span>],</span>
<span id="cb23-23"><a href="#cb23-23"></a>         contributions[<span class="dv">8</span>],</span>
<span id="cb23-24"><a href="#cb23-24"></a>         contributions[<span class="dv">9</span>])</span>
<span id="cb23-25"><a href="#cb23-25"></a>         )</span>
<span id="cb23-26"><a href="#cb23-26"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Filter each data set of aerial image gradients and angles to only contain observations with magnitudes greater than or equal to the respective magnitude levels determined above</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># Create filtered data frames using the filter levels </span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="co"># for magnitudes defined above, store all in a list</span></span>
<span id="cb24-3"><a href="#cb24-3"></a>filtered_aerial_standard_df_list <span class="ot">&lt;-</span><span class="fu">list</span>(sf_hog_df <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>                                   <span class="fu">filter</span>(mag <span class="sc">&gt;=</span> sf_mag_filter),</span>
<span id="cb24-5"><a href="#cb24-5"></a>                                 salt_lake_hog_df <span class="sc">%&gt;%</span></span>
<span id="cb24-6"><a href="#cb24-6"></a>                                   <span class="fu">filter</span>(mag <span class="sc">&gt;=</span> salt_lake_mag_filter), </span>
<span id="cb24-7"><a href="#cb24-7"></a>                                 detroit_hog_df <span class="sc">%&gt;%</span></span>
<span id="cb24-8"><a href="#cb24-8"></a>                                   <span class="fu">filter</span>(mag <span class="sc">&gt;=</span> detroit_mag_filter))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>For each image calculate the contribution to each bin for the disttribued histogram</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># empty list for storing new distributed histogram data frames</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>aerial_contribution_df_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb25-3"><a href="#cb25-3"></a></span>
<span id="cb25-4"><a href="#cb25-4"></a><span class="co"># Define the number of bins</span></span>
<span id="cb25-5"><a href="#cb25-5"></a>num_bins <span class="ot">&lt;-</span> <span class="dv">9</span></span>
<span id="cb25-6"><a href="#cb25-6"></a> </span>
<span id="cb25-7"><a href="#cb25-7"></a><span class="co"># iterate through each filtered standard data frame</span></span>
<span id="cb25-8"><a href="#cb25-8"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(filtered_aerial_standard_df_list)){</span>
<span id="cb25-9"><a href="#cb25-9"></a>  </span>
<span id="cb25-10"><a href="#cb25-10"></a>  aerial_contribution_hog_df <span class="ot">&lt;-</span> </span>
<span id="cb25-11"><a href="#cb25-11"></a>    filtered_aerial_standard_df_list[[i]] <span class="sc">%&gt;%</span></span>
<span id="cb25-12"><a href="#cb25-12"></a>    <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-13"><a href="#cb25-13"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">1</span>]],</span>
<span id="cb25-14"><a href="#cb25-14"></a>           <span class="st">`</span><span class="at">20</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">2</span>]],</span>
<span id="cb25-15"><a href="#cb25-15"></a>           <span class="st">`</span><span class="at">40</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">3</span>]],</span>
<span id="cb25-16"><a href="#cb25-16"></a>           <span class="st">`</span><span class="at">60</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">4</span>]],</span>
<span id="cb25-17"><a href="#cb25-17"></a>           <span class="st">`</span><span class="at">80</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">5</span>]],</span>
<span id="cb25-18"><a href="#cb25-18"></a>           <span class="st">`</span><span class="at">100</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">6</span>]],</span>
<span id="cb25-19"><a href="#cb25-19"></a>           <span class="st">`</span><span class="at">120</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">7</span>]],</span>
<span id="cb25-20"><a href="#cb25-20"></a>           <span class="st">`</span><span class="at">140</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">8</span>]],</span>
<span id="cb25-21"><a href="#cb25-21"></a>           <span class="st">`</span><span class="at">160</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">calculate_bin_contributions</span>(theta, mag, <span class="dv">9</span>)[[<span class="dv">9</span>]],</span>
<span id="cb25-22"><a href="#cb25-22"></a>           )</span>
<span id="cb25-23"><a href="#cb25-23"></a>  </span>
<span id="cb25-24"><a href="#cb25-24"></a>  <span class="co"># rearrange into same tidy format</span></span>
<span id="cb25-25"><a href="#cb25-25"></a>  aerial_split_histo_df <span class="ot">&lt;-</span> </span>
<span id="cb25-26"><a href="#cb25-26"></a>    aerial_contribution_hog_df <span class="sc">%&gt;%</span></span>
<span id="cb25-27"><a href="#cb25-27"></a>    <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">"bin"</span>, </span>
<span id="cb25-28"><a href="#cb25-28"></a>                 <span class="at">values_to =</span> <span class="st">"contribution"</span>, </span>
<span id="cb25-29"><a href="#cb25-29"></a>                 <span class="at">cols =</span> <span class="dv">4</span><span class="sc">:</span><span class="fu">ncol</span>(aerial_contribution_hog_df)) <span class="sc">%&gt;%</span></span>
<span id="cb25-30"><a href="#cb25-30"></a>    <span class="fu">mutate</span>(<span class="at">bin =</span> <span class="fu">as.numeric</span>(bin)) <span class="sc">%&gt;%</span></span>
<span id="cb25-31"><a href="#cb25-31"></a>    <span class="fu">group_by</span>(bin) <span class="sc">%&gt;%</span></span>
<span id="cb25-32"><a href="#cb25-32"></a>    <span class="fu">summarise</span>(<span class="at">contribution_sum =</span> <span class="fu">sum</span>(contribution))</span>
<span id="cb25-33"><a href="#cb25-33"></a>  </span>
<span id="cb25-34"><a href="#cb25-34"></a>  <span class="co"># add to list for storage</span></span>
<span id="cb25-35"><a href="#cb25-35"></a>  aerial_contribution_df_list[[i]] <span class="ot">&lt;-</span> aerial_split_histo_df</span>
<span id="cb25-36"><a href="#cb25-36"></a></span>
<span id="cb25-37"><a href="#cb25-37"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="generate-polar-plots-for-images-using-standard-histogram-binning-technique" class="level2">
<h2 class="anchored" data-anchor-id="generate-polar-plots-for-images-using-standard-histogram-binning-technique">Generate Polar Plots for Images Using Standard Histogram Binning Technique</h2>
<div class="cell">
<details class="code-fold">
<summary>Polar plot of San Francisco, CA histogram of gradient angles using standard binning technique</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># SF polar plot</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>sf_plot <span class="ot">&lt;-</span></span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="fu">ggplot</span>(filtered_aerial_standard_df_list[[<span class="dv">1</span>]], </span>
<span id="cb26-4"><a href="#cb26-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> theta)) <span class="sc">+</span></span>
<span id="cb26-5"><a href="#cb26-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>, </span>
<span id="cb26-6"><a href="#cb26-6"></a>                 <span class="at">fill =</span> <span class="st">"lightblue"</span>, </span>
<span id="cb26-7"><a href="#cb26-7"></a>                 <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">360</span>, <span class="at">length.out =</span> <span class="fl">17.5</span>),</span>
<span id="cb26-8"><a href="#cb26-8"></a>                 <span class="at">bins =</span> <span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb26-9"><a href="#cb26-9"></a>  <span class="fu">coord_polar</span>(</span>
<span id="cb26-10"><a href="#cb26-10"></a>    <span class="at">theta =</span> <span class="st">"x"</span>, </span>
<span id="cb26-11"><a href="#cb26-11"></a>    <span class="at">start =</span> <span class="dv">0</span>, </span>
<span id="cb26-12"><a href="#cb26-12"></a>    <span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb26-13"><a href="#cb26-13"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">360</span>),</span>
<span id="cb26-14"><a href="#cb26-14"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">45</span>, <span class="dv">90</span>, <span class="dv">135</span>, <span class="dv">180</span>, <span class="dv">225</span>, <span class="dv">270</span>, <span class="dv">315</span>), </span>
<span id="cb26-15"><a href="#cb26-15"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N"</span>, <span class="st">"NE"</span>, <span class="st">"E"</span>, <span class="st">"SE"</span>, <span class="st">"S"</span>, <span class="st">"SW"</span>, <span class="st">"W"</span>, <span class="st">"NW"</span>)</span>
<span id="cb26-16"><a href="#cb26-16"></a>  )<span class="sc">+</span></span>
<span id="cb26-17"><a href="#cb26-17"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Polar Plot of San Francisco, CA Image</span></span>
<span id="cb26-18"><a href="#cb26-18"></a><span class="st">       Using Standard HOG Technique"</span>) <span class="sc">+</span></span>
<span id="cb26-19"><a href="#cb26-19"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb26-20"><a href="#cb26-20"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb26-21"><a href="#cb26-21"></a>  <span class="fu">theme</span>(<span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb26-22"><a href="#cb26-22"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb26-23"><a href="#cb26-23"></a></span>
<span id="cb26-24"><a href="#cb26-24"></a><span class="co"># save image</span></span>
<span id="cb26-25"><a href="#cb26-25"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/sf_standard_polar_plot.jpg"</span>, </span>
<span id="cb26-26"><a href="#cb26-26"></a>       sf_plot, </span>
<span id="cb26-27"><a href="#cb26-27"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb26-28"><a href="#cb26-28"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb26-29"><a href="#cb26-29"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Polar plot of Salt Lake City, UT histogram of gradient angles using standard binning technique</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># SLC plot</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>salt_lake_plot <span class="ot">&lt;-</span></span>
<span id="cb27-3"><a href="#cb27-3"></a>  <span class="fu">ggplot</span>(filtered_aerial_standard_df_list[[<span class="dv">2</span>]], </span>
<span id="cb27-4"><a href="#cb27-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> theta)) <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>, </span>
<span id="cb27-6"><a href="#cb27-6"></a>                 <span class="at">fill =</span> <span class="st">"lightblue"</span>, </span>
<span id="cb27-7"><a href="#cb27-7"></a>                 <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">360</span>, <span class="at">length.out =</span> <span class="fl">17.5</span>),</span>
<span id="cb27-8"><a href="#cb27-8"></a>                 <span class="at">bins =</span> <span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb27-9"><a href="#cb27-9"></a>  <span class="fu">coord_polar</span>(</span>
<span id="cb27-10"><a href="#cb27-10"></a>    <span class="at">theta =</span> <span class="st">"x"</span>, </span>
<span id="cb27-11"><a href="#cb27-11"></a>    <span class="at">start =</span> <span class="dv">0</span>, </span>
<span id="cb27-12"><a href="#cb27-12"></a>    <span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb27-13"><a href="#cb27-13"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">360</span>),</span>
<span id="cb27-14"><a href="#cb27-14"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">45</span>, <span class="dv">90</span>, <span class="dv">135</span>, <span class="dv">180</span>, <span class="dv">225</span>, <span class="dv">270</span>, <span class="dv">315</span>), </span>
<span id="cb27-15"><a href="#cb27-15"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N"</span>, <span class="st">"NE"</span>, <span class="st">"E"</span>, <span class="st">"SE"</span>, <span class="st">"S"</span>, <span class="st">"SW"</span>, <span class="st">"W"</span>, <span class="st">"NW"</span>)</span>
<span id="cb27-16"><a href="#cb27-16"></a>  )<span class="sc">+</span></span>
<span id="cb27-17"><a href="#cb27-17"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Polar Plot of Salt Lake City, UT Image</span></span>
<span id="cb27-18"><a href="#cb27-18"></a><span class="st">       Using Standard HOG Technique"</span>) <span class="sc">+</span></span>
<span id="cb27-19"><a href="#cb27-19"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb27-20"><a href="#cb27-20"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb27-21"><a href="#cb27-21"></a>  <span class="fu">theme</span>(<span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-22"><a href="#cb27-22"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb27-23"><a href="#cb27-23"></a></span>
<span id="cb27-24"><a href="#cb27-24"></a><span class="co"># save image</span></span>
<span id="cb27-25"><a href="#cb27-25"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/salt_lake_standard_polar_plot.jpg"</span>, </span>
<span id="cb27-26"><a href="#cb27-26"></a>       salt_lake_plot, </span>
<span id="cb27-27"><a href="#cb27-27"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb27-28"><a href="#cb27-28"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb27-29"><a href="#cb27-29"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Polar plot of Detroit, MI histogram of gradient angles using standard binning technique</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># Detroit plot</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>detroit_plot <span class="ot">&lt;-</span></span>
<span id="cb28-3"><a href="#cb28-3"></a>  <span class="fu">ggplot</span>(filtered_aerial_standard_df_list[[<span class="dv">3</span>]], </span>
<span id="cb28-4"><a href="#cb28-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> theta)) <span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">"black"</span>, </span>
<span id="cb28-6"><a href="#cb28-6"></a>                 <span class="at">fill =</span> <span class="st">"lightblue"</span>, </span>
<span id="cb28-7"><a href="#cb28-7"></a>                 <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">360</span>, <span class="at">length.out =</span> <span class="fl">17.5</span>),</span>
<span id="cb28-8"><a href="#cb28-8"></a>                 <span class="at">bins =</span> <span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb28-9"><a href="#cb28-9"></a>  <span class="fu">coord_polar</span>(</span>
<span id="cb28-10"><a href="#cb28-10"></a>    <span class="at">theta =</span> <span class="st">"x"</span>, </span>
<span id="cb28-11"><a href="#cb28-11"></a>    <span class="at">start =</span> <span class="dv">0</span>, </span>
<span id="cb28-12"><a href="#cb28-12"></a>    <span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb28-13"><a href="#cb28-13"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">360</span>),</span>
<span id="cb28-14"><a href="#cb28-14"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">45</span>, <span class="dv">90</span>, <span class="dv">135</span>, <span class="dv">180</span>, <span class="dv">225</span>, <span class="dv">270</span>, <span class="dv">315</span>), </span>
<span id="cb28-15"><a href="#cb28-15"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N"</span>, <span class="st">"NE"</span>, <span class="st">"E"</span>, <span class="st">"SE"</span>, <span class="st">"S"</span>, <span class="st">"SW"</span>, <span class="st">"W"</span>, <span class="st">"NW"</span>)</span>
<span id="cb28-16"><a href="#cb28-16"></a>  )<span class="sc">+</span></span>
<span id="cb28-17"><a href="#cb28-17"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Polar Plot of Detroit, MI Image</span></span>
<span id="cb28-18"><a href="#cb28-18"></a><span class="st">       Using Standard HOG Technique"</span>) <span class="sc">+</span></span>
<span id="cb28-19"><a href="#cb28-19"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb28-20"><a href="#cb28-20"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb28-21"><a href="#cb28-21"></a>  <span class="fu">theme</span>(<span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb28-22"><a href="#cb28-22"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb28-23"><a href="#cb28-23"></a></span>
<span id="cb28-24"><a href="#cb28-24"></a><span class="co"># save image</span></span>
<span id="cb28-25"><a href="#cb28-25"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/detroit_standard_polar_plot.jpg"</span>, </span>
<span id="cb28-26"><a href="#cb28-26"></a>       detroit_plot, </span>
<span id="cb28-27"><a href="#cb28-27"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb28-28"><a href="#cb28-28"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb28-29"><a href="#cb28-29"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Save an arranged image of the 3 standard-binned polar plots side-by-side</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># Save to an arranged image</span></span>
<span id="cb29-2"><a href="#cb29-2"></a>all_standard_city_plots <span class="ot">&lt;-</span> ggpubr<span class="sc">::</span><span class="fu">ggarrange</span>(sf_plot, </span>
<span id="cb29-3"><a href="#cb29-3"></a>                                             salt_lake_plot, </span>
<span id="cb29-4"><a href="#cb29-4"></a>                                             detroit_plot)</span>
<span id="cb29-5"><a href="#cb29-5"></a></span>
<span id="cb29-6"><a href="#cb29-6"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/all_standard_polar_plots.jpg"</span>, </span>
<span id="cb29-7"><a href="#cb29-7"></a>       all_standard_city_plots, </span>
<span id="cb29-8"><a href="#cb29-8"></a>       <span class="at">width =</span> <span class="dv">7</span>, </span>
<span id="cb29-9"><a href="#cb29-9"></a>       <span class="at">height =</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div align="center">

<div id="fig-city-standard-polar" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-city-standard-polar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/sf_standard_polar_plot.jpg" class="lightbox" data-gallery="cityscape-standard-polar-gallery" data-glightbox="description: .lightbox-desc-16" title="San Francisco, CA"><img src="images/plots/aerial_cities/sf_standard_polar_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>San Francisco, CA</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/salt_lake_standard_polar_plot.jpg" class="lightbox" data-gallery="cityscape-standard-polar-gallery" data-glightbox="description: .lightbox-desc-17" title="Salt Lake City, UT"><img src="images/plots/aerial_cities/salt_lake_standard_polar_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Salt Lake City, UT</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/detroit_standard_polar_plot.jpg" class="lightbox" data-gallery="cityscape-standard-polar-gallery" data-glightbox="description: .lightbox-desc-18" title="Detroit, MI"><img src="images/plots/aerial_cities/detroit_standard_polar_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Detroit, MI</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-city-standard-polar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.5: Polar Plots using Standard Binning Technique for Aerial Cityscapes
</figcaption>
</figure>
</div>
<div>

</div></div></section>
<section id="generate-polar-plots-for-images-using-distributed-histogram-binning-technique" class="level2">
<h2 class="anchored" data-anchor-id="generate-polar-plots-for-images-using-distributed-histogram-binning-technique">Generate Polar Plots for Images Using Distributed Histogram Binning Technique</h2>
<div class="cell">
<details class="code-fold">
<summary>Polar plot of San Francisco, CA histogram of gradient angles using distributed binning technique</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="co"># SF plot</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>sf_split_plot <span class="ot">&lt;-</span></span>
<span id="cb30-3"><a href="#cb30-3"></a>  <span class="fu">ggplot</span>(aerial_contribution_df_list[[<span class="dv">1</span>]], </span>
<span id="cb30-4"><a href="#cb30-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> bin, <span class="at">y =</span> contribution_sum)) <span class="sc">+</span></span>
<span id="cb30-5"><a href="#cb30-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">stat =</span> <span class="st">"identity"</span>,</span>
<span id="cb30-6"><a href="#cb30-6"></a>                 <span class="at">colour =</span> <span class="st">"black"</span>, </span>
<span id="cb30-7"><a href="#cb30-7"></a>                 <span class="at">fill =</span> <span class="st">"lightblue"</span>, </span>
<span id="cb30-8"><a href="#cb30-8"></a>                 <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">360</span>, <span class="at">length.out =</span> <span class="fl">17.5</span>),</span>
<span id="cb30-9"><a href="#cb30-9"></a>                 <span class="at">bins =</span> <span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb30-10"><a href="#cb30-10"></a>  <span class="fu">coord_polar</span>(</span>
<span id="cb30-11"><a href="#cb30-11"></a>    <span class="at">theta =</span> <span class="st">"x"</span>, </span>
<span id="cb30-12"><a href="#cb30-12"></a>    <span class="at">start =</span> <span class="dv">0</span>, </span>
<span id="cb30-13"><a href="#cb30-13"></a>    <span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb30-14"><a href="#cb30-14"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">360</span>),</span>
<span id="cb30-15"><a href="#cb30-15"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">45</span>, <span class="dv">90</span>, <span class="dv">135</span>, <span class="dv">180</span>, <span class="dv">225</span>, <span class="dv">270</span>, <span class="dv">315</span>), </span>
<span id="cb30-16"><a href="#cb30-16"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N"</span>, <span class="st">"NE"</span>, <span class="st">"E"</span>, <span class="st">"SE"</span>, <span class="st">"S"</span>, <span class="st">"SW"</span>, <span class="st">"W"</span>, <span class="st">"NW"</span>)</span>
<span id="cb30-17"><a href="#cb30-17"></a>  )<span class="sc">+</span></span>
<span id="cb30-18"><a href="#cb30-18"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Polar Plot of San Francisco, CA Image</span></span>
<span id="cb30-19"><a href="#cb30-19"></a><span class="st">       Using Distributed HOG Technique"</span>) <span class="sc">+</span></span>
<span id="cb30-20"><a href="#cb30-20"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-21"><a href="#cb30-21"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb30-22"><a href="#cb30-22"></a>  <span class="fu">theme</span>(<span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb30-23"><a href="#cb30-23"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb30-24"><a href="#cb30-24"></a></span>
<span id="cb30-25"><a href="#cb30-25"></a><span class="co"># save image</span></span>
<span id="cb30-26"><a href="#cb30-26"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/sf_contribution_polar_plot.jpg"</span>, </span>
<span id="cb30-27"><a href="#cb30-27"></a>       sf_split_plot, </span>
<span id="cb30-28"><a href="#cb30-28"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb30-29"><a href="#cb30-29"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb30-30"><a href="#cb30-30"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Polar plot of Salt Lake City, UT histogram of gradient angles using distributed binning technique</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># SLC plot</span></span>
<span id="cb31-2"><a href="#cb31-2"></a>salt_lake_split_plot <span class="ot">&lt;-</span></span>
<span id="cb31-3"><a href="#cb31-3"></a>  <span class="fu">ggplot</span>(aerial_contribution_df_list[[<span class="dv">2</span>]], </span>
<span id="cb31-4"><a href="#cb31-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> bin, <span class="at">y =</span> contribution_sum)) <span class="sc">+</span></span>
<span id="cb31-5"><a href="#cb31-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">stat =</span> <span class="st">"identity"</span>,</span>
<span id="cb31-6"><a href="#cb31-6"></a>                 <span class="at">colour =</span> <span class="st">"black"</span>, </span>
<span id="cb31-7"><a href="#cb31-7"></a>                 <span class="at">fill =</span> <span class="st">"lightblue"</span>, </span>
<span id="cb31-8"><a href="#cb31-8"></a>                 <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">360</span>, <span class="at">length.out =</span> <span class="fl">17.5</span>),</span>
<span id="cb31-9"><a href="#cb31-9"></a>                 <span class="at">bins =</span> <span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb31-10"><a href="#cb31-10"></a>  <span class="fu">coord_polar</span>(</span>
<span id="cb31-11"><a href="#cb31-11"></a>    <span class="at">theta =</span> <span class="st">"x"</span>, </span>
<span id="cb31-12"><a href="#cb31-12"></a>    <span class="at">start =</span> <span class="dv">0</span>, </span>
<span id="cb31-13"><a href="#cb31-13"></a>    <span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb31-14"><a href="#cb31-14"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">360</span>),</span>
<span id="cb31-15"><a href="#cb31-15"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">45</span>, <span class="dv">90</span>, <span class="dv">135</span>, <span class="dv">180</span>, <span class="dv">225</span>, <span class="dv">270</span>, <span class="dv">315</span>), </span>
<span id="cb31-16"><a href="#cb31-16"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N"</span>, <span class="st">"NE"</span>, <span class="st">"E"</span>, <span class="st">"SE"</span>, <span class="st">"S"</span>, <span class="st">"SW"</span>, <span class="st">"W"</span>, <span class="st">"NW"</span>)</span>
<span id="cb31-17"><a href="#cb31-17"></a>  )<span class="sc">+</span></span>
<span id="cb31-18"><a href="#cb31-18"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Polar Plot of Salt Lake City, UT Image</span></span>
<span id="cb31-19"><a href="#cb31-19"></a><span class="st">       Using Distributed HOG Technique"</span>) <span class="sc">+</span></span>
<span id="cb31-20"><a href="#cb31-20"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-21"><a href="#cb31-21"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb31-22"><a href="#cb31-22"></a>  <span class="fu">theme</span>(<span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb31-23"><a href="#cb31-23"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb31-24"><a href="#cb31-24"></a></span>
<span id="cb31-25"><a href="#cb31-25"></a><span class="co"># save image</span></span>
<span id="cb31-26"><a href="#cb31-26"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/salt_lake_contribution_polar_plot.jpg"</span>, </span>
<span id="cb31-27"><a href="#cb31-27"></a>       salt_lake_split_plot, </span>
<span id="cb31-28"><a href="#cb31-28"></a>       <span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb31-29"><a href="#cb31-29"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb31-30"><a href="#cb31-30"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Polar plot of Detroit, MI histogram of gradient angles using distributed binning technique</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co"># Detroit plot</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>detroit_split_plot <span class="ot">&lt;-</span></span>
<span id="cb32-3"><a href="#cb32-3"></a>  <span class="fu">ggplot</span>(aerial_contribution_df_list[[<span class="dv">3</span>]], </span>
<span id="cb32-4"><a href="#cb32-4"></a>         <span class="fu">aes</span>(<span class="at">x =</span> bin, <span class="at">y =</span> contribution_sum)) <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5"></a>  <span class="fu">geom_histogram</span>(<span class="at">stat =</span> <span class="st">"identity"</span>,</span>
<span id="cb32-6"><a href="#cb32-6"></a>                 <span class="at">colour =</span> <span class="st">"black"</span>, </span>
<span id="cb32-7"><a href="#cb32-7"></a>                 <span class="at">fill =</span> <span class="st">"lightblue"</span>, </span>
<span id="cb32-8"><a href="#cb32-8"></a>                 <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">360</span>, <span class="at">length.out =</span> <span class="fl">17.5</span>),</span>
<span id="cb32-9"><a href="#cb32-9"></a>                 <span class="at">bins =</span> <span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb32-10"><a href="#cb32-10"></a>  <span class="fu">coord_polar</span>(</span>
<span id="cb32-11"><a href="#cb32-11"></a>    <span class="at">theta =</span> <span class="st">"x"</span>, </span>
<span id="cb32-12"><a href="#cb32-12"></a>    <span class="at">start =</span> <span class="dv">0</span>, </span>
<span id="cb32-13"><a href="#cb32-13"></a>    <span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb32-14"><a href="#cb32-14"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">360</span>),</span>
<span id="cb32-15"><a href="#cb32-15"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">45</span>, <span class="dv">90</span>, <span class="dv">135</span>, <span class="dv">180</span>, <span class="dv">225</span>, <span class="dv">270</span>, <span class="dv">315</span>), </span>
<span id="cb32-16"><a href="#cb32-16"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N"</span>, <span class="st">"NE"</span>, <span class="st">"E"</span>, <span class="st">"SE"</span>, <span class="st">"S"</span>, <span class="st">"SW"</span>, <span class="st">"W"</span>, <span class="st">"NW"</span>)</span>
<span id="cb32-17"><a href="#cb32-17"></a>  )<span class="sc">+</span></span>
<span id="cb32-18"><a href="#cb32-18"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Polar Plot of Detroit, MI Image</span></span>
<span id="cb32-19"><a href="#cb32-19"></a><span class="st">       Using Distributed HOG Technique"</span>) <span class="sc">+</span></span>
<span id="cb32-20"><a href="#cb32-20"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb32-21"><a href="#cb32-21"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb32-22"><a href="#cb32-22"></a>  <span class="fu">theme</span>(<span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb32-23"><a href="#cb32-23"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb32-24"><a href="#cb32-24"></a></span>
<span id="cb32-25"><a href="#cb32-25"></a><span class="co"># save image</span></span>
<span id="cb32-26"><a href="#cb32-26"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/detroit_contribution_polar_plot.jpg"</span>, </span>
<span id="cb32-27"><a href="#cb32-27"></a>       detroit_split_plot, </span>
<span id="cb32-28"><a href="#cb32-28"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb32-29"><a href="#cb32-29"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb32-30"><a href="#cb32-30"></a>       <span class="at">dpi =</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Save an arranged image of the 3 distributed-binned polar plots side-by-side</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="co"># Save to an arranged image</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>all_aerial_contribution_plots <span class="ot">&lt;-</span> ggpubr<span class="sc">::</span><span class="fu">ggarrange</span>(sf_split_plot, </span>
<span id="cb33-3"><a href="#cb33-3"></a>                                                   salt_lake_split_plot, </span>
<span id="cb33-4"><a href="#cb33-4"></a>                                                   detroit_split_plot)</span>
<span id="cb33-5"><a href="#cb33-5"></a></span>
<span id="cb33-6"><a href="#cb33-6"></a><span class="fu">ggsave</span>(<span class="st">"images/plots/aerial_cities/all_aerial_contribution_plots.jpg"</span>, </span>
<span id="cb33-7"><a href="#cb33-7"></a>       all_aerial_contribution_plots, </span>
<span id="cb33-8"><a href="#cb33-8"></a>       <span class="at">width =</span> <span class="dv">7</span>, </span>
<span id="cb33-9"><a href="#cb33-9"></a>       <span class="at">height =</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div align="center">

<div id="fig-city-distributed-polar" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-city-distributed-polar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/sf_contribution_polar_plot.jpg" class="lightbox" data-gallery="cityscape-distributed-polar-gallery" data-glightbox="description: .lightbox-desc-19" title="San Francisco, CA"><img src="images/plots/aerial_cities/sf_contribution_polar_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>San Francisco, CA</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/salt_lake_contribution_polar_plot.jpg" class="lightbox" data-gallery="cityscape-distributed-polar-gallery" data-glightbox="description: .lightbox-desc-20" title="Salt Lake City, UT"><img src="images/plots/aerial_cities/salt_lake_contribution_polar_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Salt Lake City, UT</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/plots/aerial_cities/detroit_contribution_polar_plot.jpg" class="lightbox" data-gallery="cityscape-distributed-polar-gallery" data-glightbox="description: .lightbox-desc-21" title="Detroit, MI"><img src="images/plots/aerial_cities/detroit_contribution_polar_plot.jpg" class="img-fluid figure-img"></a></p>
<figcaption>Detroit, MI</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-city-distributed-polar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.6: Polar Plots using Distributed Binning Technique for Aerial Cityscapes
</figcaption>
</figure>
</div>
<div>


</div></div></section>
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion">Discussion</h2>
<div align="left">

<div class="line-block">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The San Francisco image delivered the most promising results due to its closer zoom level compared to the Salt Lake City and Detroit images. Angles in the seventy-degree range emerged as the most frequent, accurately reflecting the slightly diagonal west-east streets of downtown San Francisco. The layout of Salt Lake City significantly influenced the results of its polar plot. With its narrow vertical grid layout, the city exhibited a higher frequency of vertical angles and a smaller yet significant occurrence of horizontal gradient angles. For the images of San Francisco and Detroit, the outcomes between the Standard and Distributed binning techniques exhibited similar results. However, for Salt Lake City, the Distributed technique notably favored a higher frequency of both vertical and horizontal angles.</div>
<div>






<!-- -->

<div class="hidden" aria-hidden="true">
<span class="glightbox-desc lightbox-desc-1">San Francisco Cityscape</span>
<span class="glightbox-desc lightbox-desc-2">Salt Lake City Cityscape</span>
<span class="glightbox-desc lightbox-desc-3">Detroit Cityscape</span>
<span class="glightbox-desc lightbox-desc-4">San Francisco, CA</span>
<span class="glightbox-desc lightbox-desc-5">Salt Lake City, UT</span>
<span class="glightbox-desc lightbox-desc-6">Detroit, MI</span>
<span class="glightbox-desc lightbox-desc-7">San Francisco, CA</span>
<span class="glightbox-desc lightbox-desc-8">Salt Lake City, UT</span>
<span class="glightbox-desc lightbox-desc-9">Detroit, MI</span>
<span class="glightbox-desc lightbox-desc-10">San Francisco, CA Gradient Magnitudes</span>
<span class="glightbox-desc lightbox-desc-11">Salt Lake City, UT Gradient Magnitudes</span>
<span class="glightbox-desc lightbox-desc-12">Detroit, MI Gradient Magnitudes</span>
<span class="glightbox-desc lightbox-desc-13">San Francisco, CA Gradient Angles</span>
<span class="glightbox-desc lightbox-desc-14">Salt Lake City, UT Gradient Angles</span>
<span class="glightbox-desc lightbox-desc-15">Detroit, MI Gradient Angles</span>
<span class="glightbox-desc lightbox-desc-16">San Francisco, CA</span>
<span class="glightbox-desc lightbox-desc-17">Salt Lake City, UT</span>
<span class="glightbox-desc lightbox-desc-18">Detroit, MI</span>
<span class="glightbox-desc lightbox-desc-19">San Francisco, CA</span>
<span class="glightbox-desc lightbox-desc-20">Salt Lake City, UT</span>
<span class="glightbox-desc lightbox-desc-21">Detroit, MI</span>
</div>
</div></div></section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./methods.html" class="pagination-link" aria-label="Methods">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Methods</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./grass_images_results.html" class="pagination-link" aria-label="Grass Images">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Grass Images</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb34" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb34-1"><a href="#cb34-1"></a><span class="co">---</span></span>
<span id="cb34-2"><a href="#cb34-2"></a><span class="an">title:</span><span class="co"> "Aerial Cityscapes"</span></span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="an">author:</span><span class="co"> "Ben Sunshine"</span></span>
<span id="cb34-4"><a href="#cb34-4"></a><span class="an">lightbox:</span></span>
<span id="cb34-5"><a href="#cb34-5"></a><span class="co">  match: auto</span></span>
<span id="cb34-6"><a href="#cb34-6"></a><span class="co">  effect: zoom</span></span>
<span id="cb34-7"><a href="#cb34-7"></a><span class="co">  desc-position: bottom</span></span>
<span id="cb34-8"><a href="#cb34-8"></a><span class="an">code-annotations:</span><span class="co"> below</span></span>
<span id="cb34-9"><a href="#cb34-9"></a><span class="an">code-line-numbers:</span><span class="co"> true</span></span>
<span id="cb34-10"><a href="#cb34-10"></a></span>
<span id="cb34-11"><a href="#cb34-11"></a><span class="co">---</span></span>
<span id="cb34-12"><a href="#cb34-12"></a></span>
<span id="cb34-13"><a href="#cb34-13"></a><span class="fu">## Motivation</span></span>
<span id="cb34-14"><a href="#cb34-14"></a></span>
<span id="cb34-15"><a href="#cb34-15"></a>Download aerial cityscape images from Mapbox's API of San Francisco, Salt Lake City, and Detroit to determine if the HOG algorithm is capable of identifying dominant angles of each city's grid layout.</span>
<span id="cb34-16"><a href="#cb34-16"></a></span>
<span id="cb34-17"><a href="#cb34-17"></a><span class="fu">## Load R Packages and Python Libraries</span></span>
<span id="cb34-18"><a href="#cb34-18"></a></span>
<span id="cb34-19"><a href="#cb34-19"></a><span class="in">```{r load_r_packages, message=FALSE}</span></span>
<span id="cb34-20"><a href="#cb34-20"></a><span class="in">#| code-summary: "Load R Packages"</span></span>
<span id="cb34-21"><a href="#cb34-21"></a><span class="in"># Load R Packages</span></span>
<span id="cb34-22"><a href="#cb34-22"></a><span class="in">library(reticulate)</span></span>
<span id="cb34-23"><a href="#cb34-23"></a><span class="in">library(tidyverse)</span></span>
<span id="cb34-24"><a href="#cb34-24"></a><span class="in">library(mapsapi)</span></span>
<span id="cb34-25"><a href="#cb34-25"></a><span class="in">library(mapboxapi)</span></span>
<span id="cb34-26"><a href="#cb34-26"></a><span class="in">library(magick)</span></span>
<span id="cb34-27"><a href="#cb34-27"></a></span>
<span id="cb34-28"><a href="#cb34-28"></a><span class="in">```</span></span>
<span id="cb34-29"><a href="#cb34-29"></a></span>
<span id="cb34-30"><a href="#cb34-30"></a></span>
<span id="cb34-31"><a href="#cb34-31"></a><span class="in">```{python load_python_modules}</span></span>
<span id="cb34-32"><a href="#cb34-32"></a><span class="in"># Load Python Libraries</span></span>
<span id="cb34-33"><a href="#cb34-33"></a><span class="in">import matplotlib.pyplot as plt</span></span>
<span id="cb34-34"><a href="#cb34-34"></a><span class="in">import pandas as pd</span></span>
<span id="cb34-35"><a href="#cb34-35"></a><span class="in">from skimage.io import imread, imshow</span></span>
<span id="cb34-36"><a href="#cb34-36"></a><span class="in">from skimage.transform import resize</span></span>
<span id="cb34-37"><a href="#cb34-37"></a><span class="in">from skimage.feature import hog</span></span>
<span id="cb34-38"><a href="#cb34-38"></a><span class="in">from skimage import data, exposure</span></span>
<span id="cb34-39"><a href="#cb34-39"></a><span class="in">import matplotlib.pyplot as plt</span></span>
<span id="cb34-40"><a href="#cb34-40"></a><span class="in">from skimage import io</span></span>
<span id="cb34-41"><a href="#cb34-41"></a><span class="in">from skimage import color</span></span>
<span id="cb34-42"><a href="#cb34-42"></a><span class="in">from skimage.transform import resize</span></span>
<span id="cb34-43"><a href="#cb34-43"></a><span class="in">import math</span></span>
<span id="cb34-44"><a href="#cb34-44"></a><span class="in">from skimage.feature import hog</span></span>
<span id="cb34-45"><a href="#cb34-45"></a><span class="in">import numpy as np</span></span>
<span id="cb34-46"><a href="#cb34-46"></a></span>
<span id="cb34-47"><a href="#cb34-47"></a><span class="in">```</span></span>
<span id="cb34-48"><a href="#cb34-48"></a></span>
<span id="cb34-49"><a href="#cb34-49"></a></span>
<span id="cb34-50"><a href="#cb34-50"></a><span class="fu">## Download Aerial City Images from Mapbox</span></span>
<span id="cb34-51"><a href="#cb34-51"></a></span>
<span id="cb34-52"><a href="#cb34-52"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-53"><a href="#cb34-53"></a><span class="in">#| code-summary: "Read in Mapbox Key from System Enviroment" </span></span>
<span id="cb34-54"><a href="#cb34-54"></a><span class="in"># Get Mapbox token from System Environment </span></span>
<span id="cb34-55"><a href="#cb34-55"></a><span class="in">key &lt;- Sys.getenv("mapbox_key") </span></span>
<span id="cb34-56"><a href="#cb34-56"></a></span>
<span id="cb34-57"><a href="#cb34-57"></a><span class="in">```</span></span>
<span id="cb34-58"><a href="#cb34-58"></a></span>
<span id="cb34-59"><a href="#cb34-59"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-60"><a href="#cb34-60"></a><span class="in">#| code-summary: "Download map of San Francisco, CA"</span></span>
<span id="cb34-61"><a href="#cb34-61"></a><span class="in"># Download map of San Francisco, CA</span></span>
<span id="cb34-62"><a href="#cb34-62"></a><span class="in">map &lt;- static_mapbox(</span></span>
<span id="cb34-63"><a href="#cb34-63"></a><span class="in">  access_token = key,</span></span>
<span id="cb34-64"><a href="#cb34-64"></a><span class="in">  style_url = "mapbox://styles/mapbox/satellite-v9",</span></span>
<span id="cb34-65"><a href="#cb34-65"></a><span class="in">  width = 300,</span></span>
<span id="cb34-66"><a href="#cb34-66"></a><span class="in">  height = 200, </span></span>
<span id="cb34-67"><a href="#cb34-67"></a><span class="in">  image = T, latitude = 37.792004, longitude = -122.428079, zoom = 12</span></span>
<span id="cb34-68"><a href="#cb34-68"></a><span class="in">)</span></span>
<span id="cb34-69"><a href="#cb34-69"></a></span>
<span id="cb34-70"><a href="#cb34-70"></a><span class="in">magick::image_write(map, "images/san_francisco_scale_zoom_12.png")</span></span>
<span id="cb34-71"><a href="#cb34-71"></a><span class="in">```</span></span>
<span id="cb34-72"><a href="#cb34-72"></a></span>
<span id="cb34-73"><a href="#cb34-73"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-74"><a href="#cb34-74"></a><span class="in">#| code-summary: "Download map of Salt Lake City, UT"</span></span>
<span id="cb34-75"><a href="#cb34-75"></a><span class="in"># Download map of Salt Lake City, UT</span></span>
<span id="cb34-76"><a href="#cb34-76"></a><span class="in">points_of_interest &lt;- tibble::tibble(</span></span>
<span id="cb34-77"><a href="#cb34-77"></a><span class="in">  longitude = c(-112.065945, -111.853948, </span></span>
<span id="cb34-78"><a href="#cb34-78"></a><span class="in">                -111.852956, -112.023371),</span></span>
<span id="cb34-79"><a href="#cb34-79"></a><span class="in">  </span></span>
<span id="cb34-80"><a href="#cb34-80"></a><span class="in">  latitude = c(40.794275, 40.791516, </span></span>
<span id="cb34-81"><a href="#cb34-81"></a><span class="in">               40.502308, 40.502308)</span></span>
<span id="cb34-82"><a href="#cb34-82"></a><span class="in">  )</span></span>
<span id="cb34-83"><a href="#cb34-83"></a></span>
<span id="cb34-84"><a href="#cb34-84"></a><span class="in">prepped_pois &lt;- prep_overlay_markers(</span></span>
<span id="cb34-85"><a href="#cb34-85"></a><span class="in">  data = points_of_interest,</span></span>
<span id="cb34-86"><a href="#cb34-86"></a><span class="in">  marker_type = "pin-l",</span></span>
<span id="cb34-87"><a href="#cb34-87"></a><span class="in">  label = 1:4,</span></span>
<span id="cb34-88"><a href="#cb34-88"></a><span class="in">  color = "#fff", </span></span>
<span id="cb34-89"><a href="#cb34-89"></a><span class="in">)</span></span>
<span id="cb34-90"><a href="#cb34-90"></a></span>
<span id="cb34-91"><a href="#cb34-91"></a><span class="in">map &lt;- static_mapbox(</span></span>
<span id="cb34-92"><a href="#cb34-92"></a><span class="in">  access_token = key,</span></span>
<span id="cb34-93"><a href="#cb34-93"></a><span class="in">  style_url = "mapbox://styles/mapbox/satellite-v9",</span></span>
<span id="cb34-94"><a href="#cb34-94"></a><span class="in">  width = 800,</span></span>
<span id="cb34-95"><a href="#cb34-95"></a><span class="in">  height = 1200, </span></span>
<span id="cb34-96"><a href="#cb34-96"></a><span class="in">  image = T, </span></span>
<span id="cb34-97"><a href="#cb34-97"></a><span class="in">  latitude = 40.7,</span></span>
<span id="cb34-98"><a href="#cb34-98"></a><span class="in">  longitude = -111.876183, zoom = 12</span></span>
<span id="cb34-99"><a href="#cb34-99"></a><span class="in">)</span></span>
<span id="cb34-100"><a href="#cb34-100"></a></span>
<span id="cb34-101"><a href="#cb34-101"></a><span class="in">magick::image_write(map, "images/salt_lake_city_zoom_12.png")</span></span>
<span id="cb34-102"><a href="#cb34-102"></a></span>
<span id="cb34-103"><a href="#cb34-103"></a><span class="in">```</span></span>
<span id="cb34-104"><a href="#cb34-104"></a></span>
<span id="cb34-105"><a href="#cb34-105"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-106"><a href="#cb34-106"></a><span class="in">#| code-summary: "Download map of Detroit, MI"</span></span>
<span id="cb34-107"><a href="#cb34-107"></a><span class="in"># Download map of Detroit, MI</span></span>
<span id="cb34-108"><a href="#cb34-108"></a><span class="in">map &lt;- static_mapbox(</span></span>
<span id="cb34-109"><a href="#cb34-109"></a><span class="in">  access_token = key,</span></span>
<span id="cb34-110"><a href="#cb34-110"></a><span class="in">  style_url = "mapbox://styles/mapbox/satellite-v9",</span></span>
<span id="cb34-111"><a href="#cb34-111"></a><span class="in">  width = 1200,</span></span>
<span id="cb34-112"><a href="#cb34-112"></a><span class="in">  height = 800, </span></span>
<span id="cb34-113"><a href="#cb34-113"></a><span class="in">  image = T, </span></span>
<span id="cb34-114"><a href="#cb34-114"></a><span class="in">  latitude = 42.336322,</span></span>
<span id="cb34-115"><a href="#cb34-115"></a><span class="in">  longitude = -83.048705, zoom = 12</span></span>
<span id="cb34-116"><a href="#cb34-116"></a><span class="in">)</span></span>
<span id="cb34-117"><a href="#cb34-117"></a></span>
<span id="cb34-118"><a href="#cb34-118"></a><span class="in">magick::image_write(map, "images/detroit_zoom_12.png")</span></span>
<span id="cb34-119"><a href="#cb34-119"></a></span>
<span id="cb34-120"><a href="#cb34-120"></a><span class="in">```</span></span>
<span id="cb34-121"><a href="#cb34-121"></a></span>
<span id="cb34-122"><a href="#cb34-122"></a>&lt;div align="center"&gt;</span>
<span id="cb34-123"><a href="#cb34-123"></a></span>
<span id="cb34-124"><a href="#cb34-124"></a>::: {#fig-city-images layout-ncol="3" width="30%"}</span>
<span id="cb34-125"><a href="#cb34-125"></a><span class="al">![San Francisco Cityscape](images/san_francisco_scale_zoom_12.png)</span>{group="cityscape-gallery"}</span>
<span id="cb34-126"><a href="#cb34-126"></a></span>
<span id="cb34-127"><a href="#cb34-127"></a><span class="al">![Salt Lake City Cityscape](images/salt_lake_city_zoom_12.png)</span>{group="cityscape-gallery"}</span>
<span id="cb34-128"><a href="#cb34-128"></a></span>
<span id="cb34-129"><a href="#cb34-129"></a><span class="al">![Detroit Cityscape](images/detroit_zoom_12.png)</span>{group="cityscape-gallery"}</span>
<span id="cb34-130"><a href="#cb34-130"></a></span>
<span id="cb34-131"><a href="#cb34-131"></a>Aerial Cityscape Images</span>
<span id="cb34-132"><a href="#cb34-132"></a>:::</span>
<span id="cb34-133"><a href="#cb34-133"></a></span>
<span id="cb34-134"><a href="#cb34-134"></a>&lt;div&gt;</span>
<span id="cb34-135"><a href="#cb34-135"></a></span>
<span id="cb34-136"><a href="#cb34-136"></a><span class="co">&lt;!-- ## Collect HOG Features for Diagonal Line Image --&gt;</span></span>
<span id="cb34-137"><a href="#cb34-137"></a></span>
<span id="cb34-138"><a href="#cb34-138"></a><span class="co">&lt;!-- ```{python} --&gt;</span></span>
<span id="cb34-139"><a href="#cb34-139"></a></span>
<span id="cb34-140"><a href="#cb34-140"></a><span class="co">&lt;!-- # List for storing images --&gt;</span></span>
<span id="cb34-141"><a href="#cb34-141"></a></span>
<span id="cb34-142"><a href="#cb34-142"></a><span class="co">&lt;!-- img_list = [] --&gt;</span></span>
<span id="cb34-143"><a href="#cb34-143"></a></span>
<span id="cb34-144"><a href="#cb34-144"></a><span class="co">&lt;!-- # SF aerial --&gt;</span></span>
<span id="cb34-145"><a href="#cb34-145"></a></span>
<span id="cb34-146"><a href="#cb34-146"></a><span class="co">&lt;!-- img_list.append(color.rgb2gray(io.imread("images/diagnol_lines.jpg"))) --&gt;</span></span>
<span id="cb34-147"><a href="#cb34-147"></a></span>
<span id="cb34-148"><a href="#cb34-148"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/grass_image2.jpg")) --&gt;</span></span>
<span id="cb34-149"><a href="#cb34-149"></a></span>
<span id="cb34-150"><a href="#cb34-150"></a><span class="co">&lt;!-- # img = color.rgb2gray(io.imread("images/b_test_image_copy.jpg")) --&gt;</span></span>
<span id="cb34-151"><a href="#cb34-151"></a></span>
<span id="cb34-152"><a href="#cb34-152"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/long_grass_sample.jpeg")) --&gt;</span></span>
<span id="cb34-153"><a href="#cb34-153"></a></span>
<span id="cb34-154"><a href="#cb34-154"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/diagnol_lines.jpg")) --&gt;</span></span>
<span id="cb34-155"><a href="#cb34-155"></a></span>
<span id="cb34-156"><a href="#cb34-156"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/san_francisco_scale_zoom_12.png")) --&gt;</span></span>
<span id="cb34-157"><a href="#cb34-157"></a></span>
<span id="cb34-158"><a href="#cb34-158"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/diagnol_lines_flipped.jpg")) --&gt;</span></span>
<span id="cb34-159"><a href="#cb34-159"></a></span>
<span id="cb34-160"><a href="#cb34-160"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/long_grass_sample_cropped.jpg")) --&gt;</span></span>
<span id="cb34-161"><a href="#cb34-161"></a></span>
<span id="cb34-162"><a href="#cb34-162"></a><span class="co">&lt;!-- # aerial rotated image --&gt;</span></span>
<span id="cb34-163"><a href="#cb34-163"></a></span>
<span id="cb34-164"><a href="#cb34-164"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/living_lab_aerial/aerial_grass_living_lab_rotated.jpg")) --&gt;</span></span>
<span id="cb34-165"><a href="#cb34-165"></a></span>
<span id="cb34-166"><a href="#cb34-166"></a><span class="co">&lt;!-- # zoomed internet photo --&gt;</span></span>
<span id="cb34-167"><a href="#cb34-167"></a></span>
<span id="cb34-168"><a href="#cb34-168"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/dead_grass_zoom.jpeg")) --&gt;</span></span>
<span id="cb34-169"><a href="#cb34-169"></a></span>
<span id="cb34-170"><a href="#cb34-170"></a><span class="co">&lt;!-- # zoomed in 11 --&gt;</span></span>
<span id="cb34-171"><a href="#cb34-171"></a></span>
<span id="cb34-172"><a href="#cb34-172"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/living_lab_aerial/LL_zoomed_in_11.jpg")) --&gt;</span></span>
<span id="cb34-173"><a href="#cb34-173"></a></span>
<span id="cb34-174"><a href="#cb34-174"></a><span class="co">&lt;!-- # zoomed in 12 --&gt;</span></span>
<span id="cb34-175"><a href="#cb34-175"></a></span>
<span id="cb34-176"><a href="#cb34-176"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/living_lab_aerial/LL_zoomed_in_12.jpg")) --&gt;</span></span>
<span id="cb34-177"><a href="#cb34-177"></a></span>
<span id="cb34-178"><a href="#cb34-178"></a><span class="co">&lt;!-- # zoomed in 16 --&gt;</span></span>
<span id="cb34-179"><a href="#cb34-179"></a></span>
<span id="cb34-180"><a href="#cb34-180"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/living_lab_aerial/LL_zoomed_in_16_side.jpg")) --&gt;</span></span>
<span id="cb34-181"><a href="#cb34-181"></a></span>
<span id="cb34-182"><a href="#cb34-182"></a><span class="co">&lt;!-- # real one --&gt;</span></span>
<span id="cb34-183"><a href="#cb34-183"></a></span>
<span id="cb34-184"><a href="#cb34-184"></a><span class="co">&lt;!-- #img = color.rgb2gray(io.imread("images/living_labs_real_grass_image.jpg")) --&gt;</span></span>
<span id="cb34-185"><a href="#cb34-185"></a></span>
<span id="cb34-186"><a href="#cb34-186"></a><span class="co">&lt;!-- # List to store magnitudes for each image --&gt;</span></span>
<span id="cb34-187"><a href="#cb34-187"></a></span>
<span id="cb34-188"><a href="#cb34-188"></a><span class="co">&lt;!-- mag_list = [] --&gt;</span></span>
<span id="cb34-189"><a href="#cb34-189"></a></span>
<span id="cb34-190"><a href="#cb34-190"></a><span class="co">&lt;!-- # List to store angles for each image --&gt;</span></span>
<span id="cb34-191"><a href="#cb34-191"></a></span>
<span id="cb34-192"><a href="#cb34-192"></a><span class="co">&lt;!-- theta_list = [] --&gt;</span></span>
<span id="cb34-193"><a href="#cb34-193"></a></span>
<span id="cb34-194"><a href="#cb34-194"></a><span class="co">&lt;!-- for x in range(len(img_list)): --&gt;</span></span>
<span id="cb34-195"><a href="#cb34-195"></a></span>
<span id="cb34-196"><a href="#cb34-196"></a><span class="co">&lt;!--     # Get image of interest --&gt;</span></span>
<span id="cb34-197"><a href="#cb34-197"></a></span>
<span id="cb34-198"><a href="#cb34-198"></a><span class="co">&lt;!--     img = img_list[x] --&gt;</span></span>
<span id="cb34-199"><a href="#cb34-199"></a></span>
<span id="cb34-200"><a href="#cb34-200"></a><span class="co">&lt;!--     rescaled_file_path = f"images/plots/diagonal/{x}.jpg" --&gt;</span></span>
<span id="cb34-201"><a href="#cb34-201"></a></span>
<span id="cb34-202"><a href="#cb34-202"></a><span class="co">&lt;!--     # Determine aspect Ratio --&gt;</span></span>
<span id="cb34-203"><a href="#cb34-203"></a></span>
<span id="cb34-204"><a href="#cb34-204"></a><span class="co">&lt;!--     aspect_ratio = img.shape[0] / img.shape[1] --&gt;</span></span>
<span id="cb34-205"><a href="#cb34-205"></a></span>
<span id="cb34-206"><a href="#cb34-206"></a><span class="co">&lt;!--     print("Aspect Ratio:", aspect_ratio) --&gt;</span></span>
<span id="cb34-207"><a href="#cb34-207"></a></span>
<span id="cb34-208"><a href="#cb34-208"></a><span class="co">&lt;!--     # Hard-Code height to 200 pixels --&gt;</span></span>
<span id="cb34-209"><a href="#cb34-209"></a></span>
<span id="cb34-210"><a href="#cb34-210"></a><span class="co">&lt;!--     height = 200 --&gt;</span></span>
<span id="cb34-211"><a href="#cb34-211"></a></span>
<span id="cb34-212"><a href="#cb34-212"></a><span class="co">&lt;!--     # Calculate witdth to maintain same aspect ratio --&gt;</span></span>
<span id="cb34-213"><a href="#cb34-213"></a></span>
<span id="cb34-214"><a href="#cb34-214"></a><span class="co">&lt;!--     width = int(height / aspect_ratio) --&gt;</span></span>
<span id="cb34-215"><a href="#cb34-215"></a></span>
<span id="cb34-216"><a href="#cb34-216"></a><span class="co">&lt;!--     print("Resized Width:", width) --&gt;</span></span>
<span id="cb34-217"><a href="#cb34-217"></a></span>
<span id="cb34-218"><a href="#cb34-218"></a><span class="co">&lt;!--     # Resize the image --&gt;</span></span>
<span id="cb34-219"><a href="#cb34-219"></a></span>
<span id="cb34-220"><a href="#cb34-220"></a><span class="co">&lt;!--     resized_img = resize(img, (height, width)) --&gt;</span></span>
<span id="cb34-221"><a href="#cb34-221"></a></span>
<span id="cb34-222"><a href="#cb34-222"></a><span class="co">&lt;!--     # Replace the original image with the resized image --&gt;</span></span>
<span id="cb34-223"><a href="#cb34-223"></a></span>
<span id="cb34-224"><a href="#cb34-224"></a><span class="co">&lt;!--     img_list[x] = resized_img --&gt;</span></span>
<span id="cb34-225"><a href="#cb34-225"></a></span>
<span id="cb34-226"><a href="#cb34-226"></a><span class="co">&lt;!--     if (x == 1): --&gt;</span></span>
<span id="cb34-227"><a href="#cb34-227"></a></span>
<span id="cb34-228"><a href="#cb34-228"></a><span class="co">&lt;!--       plot_width = 8 --&gt;</span></span>
<span id="cb34-229"><a href="#cb34-229"></a></span>
<span id="cb34-230"><a href="#cb34-230"></a><span class="co">&lt;!--       plot_height = 15 --&gt;</span></span>
<span id="cb34-231"><a href="#cb34-231"></a></span>
<span id="cb34-232"><a href="#cb34-232"></a><span class="co">&lt;!--     else: --&gt;</span></span>
<span id="cb34-233"><a href="#cb34-233"></a></span>
<span id="cb34-234"><a href="#cb34-234"></a><span class="co">&lt;!--       plot_width = 15 --&gt;</span></span>
<span id="cb34-235"><a href="#cb34-235"></a></span>
<span id="cb34-236"><a href="#cb34-236"></a><span class="co">&lt;!--       plot_height = 9 --&gt;</span></span>
<span id="cb34-237"><a href="#cb34-237"></a></span>
<span id="cb34-238"><a href="#cb34-238"></a><span class="co">&lt;!--     # plt.figure(figsize=(plot_width, plot_height)) --&gt;</span></span>
<span id="cb34-239"><a href="#cb34-239"></a></span>
<span id="cb34-240"><a href="#cb34-240"></a><span class="co">&lt;!--     # plt.imshow(resized_img, cmap="gray") --&gt;</span></span>
<span id="cb34-241"><a href="#cb34-241"></a></span>
<span id="cb34-242"><a href="#cb34-242"></a><span class="co">&lt;!--     # plt.axis("on") --&gt;</span></span>
<span id="cb34-243"><a href="#cb34-243"></a></span>
<span id="cb34-244"><a href="#cb34-244"></a><span class="co">&lt;!--     # plt.tight_layout() --&gt;</span></span>
<span id="cb34-245"><a href="#cb34-245"></a></span>
<span id="cb34-246"><a href="#cb34-246"></a><span class="co">&lt;!--     # plt.savefig(rescaled_file_path, dpi=300) --&gt;</span></span>
<span id="cb34-247"><a href="#cb34-247"></a></span>
<span id="cb34-248"><a href="#cb34-248"></a><span class="co">&lt;!--     #plt.show() --&gt;</span></span>
<span id="cb34-249"><a href="#cb34-249"></a></span>
<span id="cb34-250"><a href="#cb34-250"></a><span class="co">&lt;!--     # list for storing all magnitudes for image[x] --&gt;</span></span>
<span id="cb34-251"><a href="#cb34-251"></a></span>
<span id="cb34-252"><a href="#cb34-252"></a><span class="co">&lt;!--     mag = [] --&gt;</span></span>
<span id="cb34-253"><a href="#cb34-253"></a></span>
<span id="cb34-254"><a href="#cb34-254"></a><span class="co">&lt;!--     # list for storing all angles for image[x] --&gt;</span></span>
<span id="cb34-255"><a href="#cb34-255"></a></span>
<span id="cb34-256"><a href="#cb34-256"></a><span class="co">&lt;!--     theta = [] --&gt;</span></span>
<span id="cb34-257"><a href="#cb34-257"></a></span>
<span id="cb34-258"><a href="#cb34-258"></a><span class="co">&lt;!--     for i in range(height): --&gt;</span></span>
<span id="cb34-259"><a href="#cb34-259"></a></span>
<span id="cb34-260"><a href="#cb34-260"></a><span class="co">&lt;!--         magnitudeArray = [] --&gt;</span></span>
<span id="cb34-261"><a href="#cb34-261"></a></span>
<span id="cb34-262"><a href="#cb34-262"></a><span class="co">&lt;!--         angleArray = [] --&gt;</span></span>
<span id="cb34-263"><a href="#cb34-263"></a></span>
<span id="cb34-264"><a href="#cb34-264"></a><span class="co">&lt;!--         for j in range(width): --&gt;</span></span>
<span id="cb34-265"><a href="#cb34-265"></a></span>
<span id="cb34-266"><a href="#cb34-266"></a><span class="co">&lt;!--             if j - 1 &lt; 0 or j + 1 &gt;= width: --&gt;</span></span>
<span id="cb34-267"><a href="#cb34-267"></a></span>
<span id="cb34-268"><a href="#cb34-268"></a><span class="co">&lt;!--                 if j - 1 &lt; 0: --&gt;</span></span>
<span id="cb34-269"><a href="#cb34-269"></a></span>
<span id="cb34-270"><a href="#cb34-270"></a><span class="co">&lt;!--                     Gx = img[i][j + 1] - 0 --&gt;</span></span>
<span id="cb34-271"><a href="#cb34-271"></a></span>
<span id="cb34-272"><a href="#cb34-272"></a><span class="co">&lt;!--                 elif j + 1 &gt;= width: --&gt;</span></span>
<span id="cb34-273"><a href="#cb34-273"></a></span>
<span id="cb34-274"><a href="#cb34-274"></a><span class="co">&lt;!--                     Gx = 0 - img[i][j - 1] --&gt;</span></span>
<span id="cb34-275"><a href="#cb34-275"></a></span>
<span id="cb34-276"><a href="#cb34-276"></a><span class="co">&lt;!--             else: --&gt;</span></span>
<span id="cb34-277"><a href="#cb34-277"></a></span>
<span id="cb34-278"><a href="#cb34-278"></a><span class="co">&lt;!--                 Gx = img[i][j + 1] - img[i][j - 1] --&gt;</span></span>
<span id="cb34-279"><a href="#cb34-279"></a></span>
<span id="cb34-280"><a href="#cb34-280"></a><span class="co">&lt;!--             if i - 1 &lt; 0 or i + 1 &gt;= height: --&gt;</span></span>
<span id="cb34-281"><a href="#cb34-281"></a></span>
<span id="cb34-282"><a href="#cb34-282"></a><span class="co">&lt;!--                 if i - 1 &lt; 0: --&gt;</span></span>
<span id="cb34-283"><a href="#cb34-283"></a></span>
<span id="cb34-284"><a href="#cb34-284"></a><span class="co">&lt;!--                     Gy = 0 - img[i + 1][j] --&gt;</span></span>
<span id="cb34-285"><a href="#cb34-285"></a></span>
<span id="cb34-286"><a href="#cb34-286"></a><span class="co">&lt;!--                 elif i + 1 &gt;= height: --&gt;</span></span>
<span id="cb34-287"><a href="#cb34-287"></a></span>
<span id="cb34-288"><a href="#cb34-288"></a><span class="co">&lt;!--                     Gy = img[i - 1][j] - 0 --&gt;</span></span>
<span id="cb34-289"><a href="#cb34-289"></a></span>
<span id="cb34-290"><a href="#cb34-290"></a><span class="co">&lt;!--             else: --&gt;</span></span>
<span id="cb34-291"><a href="#cb34-291"></a></span>
<span id="cb34-292"><a href="#cb34-292"></a><span class="co">&lt;!--                 Gy = img[i + 1][j] - img[i - 1][j] --&gt;</span></span>
<span id="cb34-293"><a href="#cb34-293"></a></span>
<span id="cb34-294"><a href="#cb34-294"></a><span class="co">&lt;!--             magnitude = math.sqrt(pow(Gx, 2) + pow(Gy, 2)) --&gt;</span></span>
<span id="cb34-295"><a href="#cb34-295"></a></span>
<span id="cb34-296"><a href="#cb34-296"></a><span class="co">&lt;!--             magnitudeArray.append(round(magnitude, 9)) --&gt;</span></span>
<span id="cb34-297"><a href="#cb34-297"></a></span>
<span id="cb34-298"><a href="#cb34-298"></a><span class="co">&lt;!--             if Gx == 0: --&gt;</span></span>
<span id="cb34-299"><a href="#cb34-299"></a></span>
<span id="cb34-300"><a href="#cb34-300"></a><span class="co">&lt;!--                 angle = math.degrees(0.0) --&gt;</span></span>
<span id="cb34-301"><a href="#cb34-301"></a></span>
<span id="cb34-302"><a href="#cb34-302"></a><span class="co">&lt;!--             else: --&gt;</span></span>
<span id="cb34-303"><a href="#cb34-303"></a></span>
<span id="cb34-304"><a href="#cb34-304"></a><span class="co">&lt;!--                 angle = math.degrees(math.atan(Gy / Gx)) --&gt;</span></span>
<span id="cb34-305"><a href="#cb34-305"></a></span>
<span id="cb34-306"><a href="#cb34-306"></a><span class="co">&lt;!--                 if angle &lt; 0: --&gt;</span></span>
<span id="cb34-307"><a href="#cb34-307"></a></span>
<span id="cb34-308"><a href="#cb34-308"></a><span class="co">&lt;!--                     angle += 180 --&gt;</span></span>
<span id="cb34-309"><a href="#cb34-309"></a></span>
<span id="cb34-310"><a href="#cb34-310"></a><span class="co">&lt;!--             angleArray.append(round(angle, 9)) --&gt;</span></span>
<span id="cb34-311"><a href="#cb34-311"></a></span>
<span id="cb34-312"><a href="#cb34-312"></a><span class="co">&lt;!--         mag.append(magnitudeArray) --&gt;</span></span>
<span id="cb34-313"><a href="#cb34-313"></a></span>
<span id="cb34-314"><a href="#cb34-314"></a><span class="co">&lt;!--         theta.append(angleArray) --&gt;</span></span>
<span id="cb34-315"><a href="#cb34-315"></a></span>
<span id="cb34-316"><a href="#cb34-316"></a><span class="co">&lt;!--     # add list of magnitudes to list[x] --&gt;</span></span>
<span id="cb34-317"><a href="#cb34-317"></a></span>
<span id="cb34-318"><a href="#cb34-318"></a><span class="co">&lt;!--     mag_list.append(mag) --&gt;</span></span>
<span id="cb34-319"><a href="#cb34-319"></a></span>
<span id="cb34-320"><a href="#cb34-320"></a><span class="co">&lt;!--     # add list of angles to angle list[x] --&gt;</span></span>
<span id="cb34-321"><a href="#cb34-321"></a></span>
<span id="cb34-322"><a href="#cb34-322"></a><span class="co">&lt;!--     theta_list.append(theta) --&gt;</span></span>
<span id="cb34-323"><a href="#cb34-323"></a></span>
<span id="cb34-324"><a href="#cb34-324"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb34-325"><a href="#cb34-325"></a></span>
<span id="cb34-326"><a href="#cb34-326"></a><span class="co">&lt;!-- ::: {#fig-city-images layout-valign="top" layout-ncol=3} --&gt;</span></span>
<span id="cb34-327"><a href="#cb34-327"></a></span>
<span id="cb34-328"><a href="#cb34-328"></a><span class="co">&lt;!-- ![Diagonal Line](images/plots/aerial_cities/0.jpg){group="cityscape-rescale-gallery"} --&gt;</span></span>
<span id="cb34-329"><a href="#cb34-329"></a></span>
<span id="cb34-330"><a href="#cb34-330"></a><span class="co">&lt;!-- ![Salt Lake City, UT](images/plots/aerial_cities/1.jpg){group="cityscape-rescale-gallery"} --&gt;</span></span>
<span id="cb34-331"><a href="#cb34-331"></a></span>
<span id="cb34-332"><a href="#cb34-332"></a><span class="co">&lt;!-- ![Detroit, MI](images/plots/aerial_cities/2.jpg){group="cityscape-rescale-gallery"} --&gt;</span></span>
<span id="cb34-333"><a href="#cb34-333"></a></span>
<span id="cb34-334"><a href="#cb34-334"></a><span class="co">&lt;!-- Aerial Cityscape Images Rescaled and Converted to Greyscale --&gt;</span></span>
<span id="cb34-335"><a href="#cb34-335"></a></span>
<span id="cb34-336"><a href="#cb34-336"></a><span class="co">&lt;!-- ::: --&gt;</span></span>
<span id="cb34-337"><a href="#cb34-337"></a></span>
<span id="cb34-338"><a href="#cb34-338"></a><span class="co">&lt;!-- ## Build Data Frames for Diag --&gt;</span></span>
<span id="cb34-339"><a href="#cb34-339"></a></span>
<span id="cb34-340"><a href="#cb34-340"></a><span class="co">&lt;!-- ```{python} --&gt;</span></span>
<span id="cb34-341"><a href="#cb34-341"></a></span>
<span id="cb34-342"><a href="#cb34-342"></a><span class="co">&lt;!-- mag_diag = np.array(mag_list[0]) --&gt;</span></span>
<span id="cb34-343"><a href="#cb34-343"></a></span>
<span id="cb34-344"><a href="#cb34-344"></a><span class="co">&lt;!-- theta_diag = np.array(theta_list[0]) --&gt;</span></span>
<span id="cb34-345"><a href="#cb34-345"></a></span>
<span id="cb34-346"><a href="#cb34-346"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb34-347"><a href="#cb34-347"></a></span>
<span id="cb34-348"><a href="#cb34-348"></a><span class="co">&lt;!-- ## Plot Magnitudes as Image for Diagonal Lines --&gt;</span></span>
<span id="cb34-349"><a href="#cb34-349"></a></span>
<span id="cb34-350"><a href="#cb34-350"></a><span class="co">&lt;!-- ```{python} --&gt;</span></span>
<span id="cb34-351"><a href="#cb34-351"></a></span>
<span id="cb34-352"><a href="#cb34-352"></a><span class="co">&lt;!-- #  --&gt;</span></span>
<span id="cb34-353"><a href="#cb34-353"></a></span>
<span id="cb34-354"><a href="#cb34-354"></a><span class="co">&lt;!-- # plt.figure(figsize=(15, 8)) --&gt;</span></span>
<span id="cb34-355"><a href="#cb34-355"></a></span>
<span id="cb34-356"><a href="#cb34-356"></a><span class="co">&lt;!-- # #plt.title('San Francisco, CA Gradient Magnitudes') --&gt;</span></span>
<span id="cb34-357"><a href="#cb34-357"></a></span>
<span id="cb34-358"><a href="#cb34-358"></a><span class="co">&lt;!-- # plt.imshow(mag_list[0], cmap="gray") --&gt;</span></span>
<span id="cb34-359"><a href="#cb34-359"></a></span>
<span id="cb34-360"><a href="#cb34-360"></a><span class="co">&lt;!-- # plt.axis("on") --&gt;</span></span>
<span id="cb34-361"><a href="#cb34-361"></a></span>
<span id="cb34-362"><a href="#cb34-362"></a><span class="co">&lt;!-- # #plt.show() --&gt;</span></span>
<span id="cb34-363"><a href="#cb34-363"></a></span>
<span id="cb34-364"><a href="#cb34-364"></a><span class="co">&lt;!-- # plt.tight_layout() --&gt;</span></span>
<span id="cb34-365"><a href="#cb34-365"></a></span>
<span id="cb34-366"><a href="#cb34-366"></a><span class="co">&lt;!-- # plt.savefig("images/plots/diagonal/diag_mag.png", dpi=300) --&gt;</span></span>
<span id="cb34-367"><a href="#cb34-367"></a></span>
<span id="cb34-368"><a href="#cb34-368"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb34-369"><a href="#cb34-369"></a></span>
<span id="cb34-370"><a href="#cb34-370"></a><span class="co">&lt;!-- ```{python} --&gt;</span></span>
<span id="cb34-371"><a href="#cb34-371"></a></span>
<span id="cb34-372"><a href="#cb34-372"></a><span class="co">&lt;!-- #plt.figure(figsize=(8, 15)) --&gt;</span></span>
<span id="cb34-373"><a href="#cb34-373"></a></span>
<span id="cb34-374"><a href="#cb34-374"></a><span class="co">&lt;!-- #plt.title('Salt Lake City, UT Gradient Magnitudes') --&gt;</span></span>
<span id="cb34-375"><a href="#cb34-375"></a></span>
<span id="cb34-376"><a href="#cb34-376"></a><span class="co">&lt;!-- # plt.imshow(mag_list[1], cmap="gray") --&gt;</span></span>
<span id="cb34-377"><a href="#cb34-377"></a></span>
<span id="cb34-378"><a href="#cb34-378"></a><span class="co">&lt;!-- # plt.axis("on") --&gt;</span></span>
<span id="cb34-379"><a href="#cb34-379"></a></span>
<span id="cb34-380"><a href="#cb34-380"></a><span class="co">&lt;!-- # #plt.show() --&gt;</span></span>
<span id="cb34-381"><a href="#cb34-381"></a></span>
<span id="cb34-382"><a href="#cb34-382"></a><span class="co">&lt;!-- # plt.tight_layout() --&gt;</span></span>
<span id="cb34-383"><a href="#cb34-383"></a></span>
<span id="cb34-384"><a href="#cb34-384"></a><span class="co">&lt;!-- # plt.savefig("images/plots/aerial_cities/salt_lake_mag.png", dpi=300) --&gt;</span></span>
<span id="cb34-385"><a href="#cb34-385"></a></span>
<span id="cb34-386"><a href="#cb34-386"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb34-387"><a href="#cb34-387"></a></span>
<span id="cb34-388"><a href="#cb34-388"></a><span class="co">&lt;!-- ```{python} --&gt;</span></span>
<span id="cb34-389"><a href="#cb34-389"></a></span>
<span id="cb34-390"><a href="#cb34-390"></a><span class="co">&lt;!-- #  --&gt;</span></span>
<span id="cb34-391"><a href="#cb34-391"></a></span>
<span id="cb34-392"><a href="#cb34-392"></a><span class="co">&lt;!-- # plt.figure(figsize=(15, 8)) --&gt;</span></span>
<span id="cb34-393"><a href="#cb34-393"></a></span>
<span id="cb34-394"><a href="#cb34-394"></a><span class="co">&lt;!-- # #plt.title('Detroit, MI Gradient Magnitudes') --&gt;</span></span>
<span id="cb34-395"><a href="#cb34-395"></a></span>
<span id="cb34-396"><a href="#cb34-396"></a><span class="co">&lt;!-- # plt.imshow(mag_list[2], cmap="gray") --&gt;</span></span>
<span id="cb34-397"><a href="#cb34-397"></a></span>
<span id="cb34-398"><a href="#cb34-398"></a><span class="co">&lt;!-- # plt.axis("on") --&gt;</span></span>
<span id="cb34-399"><a href="#cb34-399"></a></span>
<span id="cb34-400"><a href="#cb34-400"></a><span class="co">&lt;!-- # #plt.show() --&gt;</span></span>
<span id="cb34-401"><a href="#cb34-401"></a></span>
<span id="cb34-402"><a href="#cb34-402"></a><span class="co">&lt;!-- # plt.tight_layout() --&gt;</span></span>
<span id="cb34-403"><a href="#cb34-403"></a></span>
<span id="cb34-404"><a href="#cb34-404"></a><span class="co">&lt;!-- # plt.savefig("images/plots/aerial_cities/detroit_mag.png", dpi=300) --&gt;</span></span>
<span id="cb34-405"><a href="#cb34-405"></a></span>
<span id="cb34-406"><a href="#cb34-406"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb34-407"><a href="#cb34-407"></a></span>
<span id="cb34-408"><a href="#cb34-408"></a><span class="co">&lt;!-- ## Create Data Frame for Each Image --&gt;</span></span>
<span id="cb34-409"><a href="#cb34-409"></a></span>
<span id="cb34-410"><a href="#cb34-410"></a><span class="co">&lt;!-- ```{r, warning=FALSE, message=FALSE} --&gt;</span></span>
<span id="cb34-411"><a href="#cb34-411"></a></span>
<span id="cb34-412"><a href="#cb34-412"></a><span class="co">&lt;!-- # Diagonal DF --&gt;</span></span>
<span id="cb34-413"><a href="#cb34-413"></a></span>
<span id="cb34-414"><a href="#cb34-414"></a><span class="co">&lt;!-- diag_hog_df &lt;- data.frame(mag = as.vector(py$mag_diag), --&gt;</span></span>
<span id="cb34-415"><a href="#cb34-415"></a></span>
<span id="cb34-416"><a href="#cb34-416"></a><span class="co">&lt;!--                               theta = as.vector((py$theta_diag))) %&gt;% --&gt;</span></span>
<span id="cb34-417"><a href="#cb34-417"></a></span>
<span id="cb34-418"><a href="#cb34-418"></a><span class="co">&lt;!--   mutate(radian = theta*(pi/180)) --&gt;</span></span>
<span id="cb34-419"><a href="#cb34-419"></a></span>
<span id="cb34-420"><a href="#cb34-420"></a><span class="co">&lt;!-- # List of all Data frames --&gt;</span></span>
<span id="cb34-421"><a href="#cb34-421"></a></span>
<span id="cb34-422"><a href="#cb34-422"></a><span class="co">&lt;!-- diag_standard_df_list = list(diag_hog_df) --&gt;</span></span>
<span id="cb34-423"><a href="#cb34-423"></a></span>
<span id="cb34-424"><a href="#cb34-424"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb34-425"><a href="#cb34-425"></a></span>
<span id="cb34-426"><a href="#cb34-426"></a><span class="co">&lt;!-- ## Create Histograms of Gradient Magnitudes and Angles for Aerial Cityscapes --&gt;</span></span>
<span id="cb34-427"><a href="#cb34-427"></a></span>
<span id="cb34-428"><a href="#cb34-428"></a><span class="co">&lt;!-- ```{r, warning=FALSE, message=FALSE} --&gt;</span></span>
<span id="cb34-429"><a href="#cb34-429"></a></span>
<span id="cb34-430"><a href="#cb34-430"></a><span class="co">&lt;!-- diag_histogram_mag_plot &lt;- --&gt;</span></span>
<span id="cb34-431"><a href="#cb34-431"></a></span>
<span id="cb34-432"><a href="#cb34-432"></a><span class="co">&lt;!--   ggplot(diag_standard_df_list[[1]],  --&gt;</span></span>
<span id="cb34-433"><a href="#cb34-433"></a></span>
<span id="cb34-434"><a href="#cb34-434"></a><span class="co">&lt;!--          aes(x = mag)) + --&gt;</span></span>
<span id="cb34-435"><a href="#cb34-435"></a></span>
<span id="cb34-436"><a href="#cb34-436"></a><span class="co">&lt;!--   geom_histogram(colour = "black", fill = "lightblue") + --&gt;</span></span>
<span id="cb34-437"><a href="#cb34-437"></a></span>
<span id="cb34-438"><a href="#cb34-438"></a><span class="co">&lt;!--   scale_x_continuous() +  --&gt;</span></span>
<span id="cb34-439"><a href="#cb34-439"></a></span>
<span id="cb34-440"><a href="#cb34-440"></a><span class="co">&lt;!--   labs(x = "Gradient Magnitude",  --&gt;</span></span>
<span id="cb34-441"><a href="#cb34-441"></a></span>
<span id="cb34-442"><a href="#cb34-442"></a><span class="co">&lt;!--        y = "Count",  --&gt;</span></span>
<span id="cb34-443"><a href="#cb34-443"></a></span>
<span id="cb34-444"><a href="#cb34-444"></a><span class="co">&lt;!--        title = "Diagonal Lines Image Histogram of Gradient Magnitudes" --&gt;</span></span>
<span id="cb34-445"><a href="#cb34-445"></a></span>
<span id="cb34-446"><a href="#cb34-446"></a><span class="co">&lt;!--        ) + --&gt;</span></span>
<span id="cb34-447"><a href="#cb34-447"></a></span>
<span id="cb34-448"><a href="#cb34-448"></a><span class="co">&lt;!--   theme_minimal() + --&gt;</span></span>
<span id="cb34-449"><a href="#cb34-449"></a></span>
<span id="cb34-450"><a href="#cb34-450"></a><span class="co">&lt;!--   theme(plot.title = element_text(hjust = 0.5)) --&gt;</span></span>
<span id="cb34-451"><a href="#cb34-451"></a></span>
<span id="cb34-452"><a href="#cb34-452"></a><span class="co">&lt;!-- diag_histogram_mag_plot --&gt;</span></span>
<span id="cb34-453"><a href="#cb34-453"></a></span>
<span id="cb34-454"><a href="#cb34-454"></a><span class="co">&lt;!-- diag_mag_filter &lt;- 0.1 --&gt;</span></span>
<span id="cb34-455"><a href="#cb34-455"></a></span>
<span id="cb34-456"><a href="#cb34-456"></a><span class="co">&lt;!-- ggsave("images/plots/diagonal/diag_histogram_mag_plot.jpg", diag_histogram_mag_plot, width = 6, height = 4, dpi = 300) --&gt;</span></span>
<span id="cb34-457"><a href="#cb34-457"></a></span>
<span id="cb34-458"><a href="#cb34-458"></a><span class="co">&lt;!-- diag_histogram_theta_plot &lt;- --&gt;</span></span>
<span id="cb34-459"><a href="#cb34-459"></a></span>
<span id="cb34-460"><a href="#cb34-460"></a><span class="co">&lt;!--   ggplot(diag_standard_df_list[[1]],  --&gt;</span></span>
<span id="cb34-461"><a href="#cb34-461"></a></span>
<span id="cb34-462"><a href="#cb34-462"></a><span class="co">&lt;!--          aes(x = theta)) + --&gt;</span></span>
<span id="cb34-463"><a href="#cb34-463"></a></span>
<span id="cb34-464"><a href="#cb34-464"></a><span class="co">&lt;!--   geom_histogram(colour = "black", fill = "lightblue") + --&gt;</span></span>
<span id="cb34-465"><a href="#cb34-465"></a></span>
<span id="cb34-466"><a href="#cb34-466"></a><span class="co">&lt;!--   scale_x_continuous() +  --&gt;</span></span>
<span id="cb34-467"><a href="#cb34-467"></a></span>
<span id="cb34-468"><a href="#cb34-468"></a><span class="co">&lt;!--   labs(x = "Gradient Angle",  --&gt;</span></span>
<span id="cb34-469"><a href="#cb34-469"></a></span>
<span id="cb34-470"><a href="#cb34-470"></a><span class="co">&lt;!--        y = "Count",  --&gt;</span></span>
<span id="cb34-471"><a href="#cb34-471"></a></span>
<span id="cb34-472"><a href="#cb34-472"></a><span class="co">&lt;!--        title = "Diagonal Lines Image Histogram of Gradient Angles" --&gt;</span></span>
<span id="cb34-473"><a href="#cb34-473"></a></span>
<span id="cb34-474"><a href="#cb34-474"></a><span class="co">&lt;!--        ) + --&gt;</span></span>
<span id="cb34-475"><a href="#cb34-475"></a></span>
<span id="cb34-476"><a href="#cb34-476"></a><span class="co">&lt;!--   theme_minimal() + --&gt;</span></span>
<span id="cb34-477"><a href="#cb34-477"></a></span>
<span id="cb34-478"><a href="#cb34-478"></a><span class="co">&lt;!--   theme(plot.title = element_text(hjust = 0.5)) --&gt;</span></span>
<span id="cb34-479"><a href="#cb34-479"></a></span>
<span id="cb34-480"><a href="#cb34-480"></a><span class="co">&lt;!-- diag_histogram_theta_plot --&gt;</span></span>
<span id="cb34-481"><a href="#cb34-481"></a></span>
<span id="cb34-482"><a href="#cb34-482"></a><span class="co">&lt;!-- ggsave("images/plots/diagonal/diag_histogram_theta_plot.jpg", diag_histogram_theta_plot, width = 6, height = 4, dpi = 300) --&gt;</span></span>
<span id="cb34-483"><a href="#cb34-483"></a></span>
<span id="cb34-484"><a href="#cb34-484"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb34-485"><a href="#cb34-485"></a></span>
<span id="cb34-486"><a href="#cb34-486"></a><span class="co">&lt;!-- ## Build New Distributed Histogram Data Frame for Diagonal Lines Image --&gt;</span></span>
<span id="cb34-487"><a href="#cb34-487"></a></span>
<span id="cb34-488"><a href="#cb34-488"></a><span class="co">&lt;!-- ```{r, warning=FALSE, message=FALSE} --&gt;</span></span>
<span id="cb34-489"><a href="#cb34-489"></a></span>
<span id="cb34-490"><a href="#cb34-490"></a><span class="co">&lt;!-- # Define the number of bins --&gt;</span></span>
<span id="cb34-491"><a href="#cb34-491"></a></span>
<span id="cb34-492"><a href="#cb34-492"></a><span class="co">&lt;!-- num_bins &lt;- 9 --&gt;</span></span>
<span id="cb34-493"><a href="#cb34-493"></a></span>
<span id="cb34-494"><a href="#cb34-494"></a><span class="co">&lt;!-- # function to calculate the contributions to neighboring bins --&gt;</span></span>
<span id="cb34-495"><a href="#cb34-495"></a></span>
<span id="cb34-496"><a href="#cb34-496"></a><span class="co">&lt;!-- calculate_bin_contributions &lt;- function(angle, magnitude, num_bins) { --&gt;</span></span>
<span id="cb34-497"><a href="#cb34-497"></a></span>
<span id="cb34-498"><a href="#cb34-498"></a><span class="co">&lt;!--   bin_width &lt;- 180 / num_bins --&gt;</span></span>
<span id="cb34-499"><a href="#cb34-499"></a></span>
<span id="cb34-500"><a href="#cb34-500"></a><span class="co">&lt;!--   contributions &lt;- numeric(num_bins) --&gt;</span></span>
<span id="cb34-501"><a href="#cb34-501"></a></span>
<span id="cb34-502"><a href="#cb34-502"></a><span class="co">&lt;!--   # get the central bin --&gt;</span></span>
<span id="cb34-503"><a href="#cb34-503"></a></span>
<span id="cb34-504"><a href="#cb34-504"></a><span class="co">&lt;!--   central_bin &lt;- floor(angle / bin_width) %% num_bins --&gt;</span></span>
<span id="cb34-505"><a href="#cb34-505"></a></span>
<span id="cb34-506"><a href="#cb34-506"></a><span class="co">&lt;!--   next_bin &lt;- (central_bin + 1) %% num_bins --&gt;</span></span>
<span id="cb34-507"><a href="#cb34-507"></a></span>
<span id="cb34-508"><a href="#cb34-508"></a><span class="co">&lt;!--   # get contributions to neighboring bins --&gt;</span></span>
<span id="cb34-509"><a href="#cb34-509"></a></span>
<span id="cb34-510"><a href="#cb34-510"></a><span class="co">&lt;!--   weight &lt;- (1 - abs((angle %% bin_width) / bin_width)) * magnitude --&gt;</span></span>
<span id="cb34-511"><a href="#cb34-511"></a></span>
<span id="cb34-512"><a href="#cb34-512"></a><span class="co">&lt;!--   contributions[central_bin + 1] &lt;- weight --&gt;</span></span>
<span id="cb34-513"><a href="#cb34-513"></a></span>
<span id="cb34-514"><a href="#cb34-514"></a><span class="co">&lt;!--   contributions[next_bin + 1] &lt;- magnitude - weight --&gt;</span></span>
<span id="cb34-515"><a href="#cb34-515"></a></span>
<span id="cb34-516"><a href="#cb34-516"></a><span class="co">&lt;!--   return(list(contributions[1], --&gt;</span></span>
<span id="cb34-517"><a href="#cb34-517"></a></span>
<span id="cb34-518"><a href="#cb34-518"></a><span class="co">&lt;!--          contributions[2], --&gt;</span></span>
<span id="cb34-519"><a href="#cb34-519"></a></span>
<span id="cb34-520"><a href="#cb34-520"></a><span class="co">&lt;!--          contributions[3], --&gt;</span></span>
<span id="cb34-521"><a href="#cb34-521"></a></span>
<span id="cb34-522"><a href="#cb34-522"></a><span class="co">&lt;!--          contributions[4], --&gt;</span></span>
<span id="cb34-523"><a href="#cb34-523"></a></span>
<span id="cb34-524"><a href="#cb34-524"></a><span class="co">&lt;!--          contributions[5], --&gt;</span></span>
<span id="cb34-525"><a href="#cb34-525"></a></span>
<span id="cb34-526"><a href="#cb34-526"></a><span class="co">&lt;!--          contributions[6], --&gt;</span></span>
<span id="cb34-527"><a href="#cb34-527"></a></span>
<span id="cb34-528"><a href="#cb34-528"></a><span class="co">&lt;!--          contributions[7], --&gt;</span></span>
<span id="cb34-529"><a href="#cb34-529"></a></span>
<span id="cb34-530"><a href="#cb34-530"></a><span class="co">&lt;!--          contributions[8], --&gt;</span></span>
<span id="cb34-531"><a href="#cb34-531"></a></span>
<span id="cb34-532"><a href="#cb34-532"></a><span class="co">&lt;!--          contributions[9]) --&gt;</span></span>
<span id="cb34-533"><a href="#cb34-533"></a></span>
<span id="cb34-534"><a href="#cb34-534"></a><span class="co">&lt;!--          ) --&gt;</span></span>
<span id="cb34-535"><a href="#cb34-535"></a></span>
<span id="cb34-536"><a href="#cb34-536"></a><span class="co">&lt;!-- } --&gt;</span></span>
<span id="cb34-537"><a href="#cb34-537"></a></span>
<span id="cb34-538"><a href="#cb34-538"></a><span class="co">&lt;!-- filtered_diag_standard_df_list &lt;-list(diag_hog_df %&gt;% --&gt;</span></span>
<span id="cb34-539"><a href="#cb34-539"></a></span>
<span id="cb34-540"><a href="#cb34-540"></a><span class="co">&lt;!--                                    filter(mag &gt;= diag_mag_filter)) --&gt;</span></span>
<span id="cb34-541"><a href="#cb34-541"></a></span>
<span id="cb34-542"><a href="#cb34-542"></a><span class="co">&lt;!-- diag_contribution_df_list &lt;- list() --&gt;</span></span>
<span id="cb34-543"><a href="#cb34-543"></a></span>
<span id="cb34-544"><a href="#cb34-544"></a><span class="co">&lt;!-- for (i in 1:length(filtered_diag_standard_df_list)){ --&gt;</span></span>
<span id="cb34-545"><a href="#cb34-545"></a></span>
<span id="cb34-546"><a href="#cb34-546"></a><span class="co">&lt;!--   diag_contribution_hog_df &lt;-  --&gt;</span></span>
<span id="cb34-547"><a href="#cb34-547"></a></span>
<span id="cb34-548"><a href="#cb34-548"></a><span class="co">&lt;!--     filtered_diag_standard_df_list[[i]] %&gt;% --&gt;</span></span>
<span id="cb34-549"><a href="#cb34-549"></a></span>
<span id="cb34-550"><a href="#cb34-550"></a><span class="co">&lt;!--     rowwise() %&gt;% --&gt;</span></span>
<span id="cb34-551"><a href="#cb34-551"></a></span>
<span id="cb34-552"><a href="#cb34-552"></a><span class="co">&lt;!--     mutate(`0` = calculate_bin_contributions(theta, mag, 9)[[1]], --&gt;</span></span>
<span id="cb34-553"><a href="#cb34-553"></a></span>
<span id="cb34-554"><a href="#cb34-554"></a><span class="co">&lt;!--            `20` = calculate_bin_contributions(theta, mag, 9)[[2]], --&gt;</span></span>
<span id="cb34-555"><a href="#cb34-555"></a></span>
<span id="cb34-556"><a href="#cb34-556"></a><span class="co">&lt;!--            `40` = calculate_bin_contributions(theta, mag, 9)[[3]], --&gt;</span></span>
<span id="cb34-557"><a href="#cb34-557"></a></span>
<span id="cb34-558"><a href="#cb34-558"></a><span class="co">&lt;!--            `60` = calculate_bin_contributions(theta, mag, 9)[[4]], --&gt;</span></span>
<span id="cb34-559"><a href="#cb34-559"></a></span>
<span id="cb34-560"><a href="#cb34-560"></a><span class="co">&lt;!--            `80` = calculate_bin_contributions(theta, mag, 9)[[5]], --&gt;</span></span>
<span id="cb34-561"><a href="#cb34-561"></a></span>
<span id="cb34-562"><a href="#cb34-562"></a><span class="co">&lt;!--            `100` = calculate_bin_contributions(theta, mag, 9)[[6]], --&gt;</span></span>
<span id="cb34-563"><a href="#cb34-563"></a></span>
<span id="cb34-564"><a href="#cb34-564"></a><span class="co">&lt;!--            `120` = calculate_bin_contributions(theta, mag, 9)[[7]], --&gt;</span></span>
<span id="cb34-565"><a href="#cb34-565"></a></span>
<span id="cb34-566"><a href="#cb34-566"></a><span class="co">&lt;!--            `140` = calculate_bin_contributions(theta, mag, 9)[[8]], --&gt;</span></span>
<span id="cb34-567"><a href="#cb34-567"></a></span>
<span id="cb34-568"><a href="#cb34-568"></a><span class="co">&lt;!--            `160` = calculate_bin_contributions(theta, mag, 9)[[9]], --&gt;</span></span>
<span id="cb34-569"><a href="#cb34-569"></a></span>
<span id="cb34-570"><a href="#cb34-570"></a><span class="co">&lt;!--            ) --&gt;</span></span>
<span id="cb34-571"><a href="#cb34-571"></a></span>
<span id="cb34-572"><a href="#cb34-572"></a><span class="co">&lt;!--   diag_split_histo_df &lt;-  --&gt;</span></span>
<span id="cb34-573"><a href="#cb34-573"></a></span>
<span id="cb34-574"><a href="#cb34-574"></a><span class="co">&lt;!--     diag_contribution_hog_df %&gt;% --&gt;</span></span>
<span id="cb34-575"><a href="#cb34-575"></a></span>
<span id="cb34-576"><a href="#cb34-576"></a><span class="co">&lt;!--     pivot_longer(names_to = "bin",  --&gt;</span></span>
<span id="cb34-577"><a href="#cb34-577"></a></span>
<span id="cb34-578"><a href="#cb34-578"></a><span class="co">&lt;!--                  values_to = "contribution",  --&gt;</span></span>
<span id="cb34-579"><a href="#cb34-579"></a></span>
<span id="cb34-580"><a href="#cb34-580"></a><span class="co">&lt;!--                  cols = 4:ncol(diag_contribution_hog_df)) %&gt;% --&gt;</span></span>
<span id="cb34-581"><a href="#cb34-581"></a></span>
<span id="cb34-582"><a href="#cb34-582"></a><span class="co">&lt;!--     mutate(bin = as.numeric(bin)) %&gt;% --&gt;</span></span>
<span id="cb34-583"><a href="#cb34-583"></a></span>
<span id="cb34-584"><a href="#cb34-584"></a><span class="co">&lt;!--     group_by(bin) %&gt;% --&gt;</span></span>
<span id="cb34-585"><a href="#cb34-585"></a></span>
<span id="cb34-586"><a href="#cb34-586"></a><span class="co">&lt;!--     summarise(contribution_sum = sum(contribution)) --&gt;</span></span>
<span id="cb34-587"><a href="#cb34-587"></a></span>
<span id="cb34-588"><a href="#cb34-588"></a><span class="co">&lt;!--   diag_contribution_df_list[[i]] &lt;- diag_split_histo_df --&gt;</span></span>
<span id="cb34-589"><a href="#cb34-589"></a></span>
<span id="cb34-590"><a href="#cb34-590"></a><span class="co">&lt;!-- } --&gt;</span></span>
<span id="cb34-591"><a href="#cb34-591"></a></span>
<span id="cb34-592"><a href="#cb34-592"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb34-593"><a href="#cb34-593"></a></span>
<span id="cb34-594"><a href="#cb34-594"></a><span class="co">&lt;!-- ## Generate Polar Plots for Standard Historgrams --&gt;</span></span>
<span id="cb34-595"><a href="#cb34-595"></a></span>
<span id="cb34-596"><a href="#cb34-596"></a><span class="co">&lt;!-- ```{r, warning=FALSE, message=FALSE} --&gt;</span></span>
<span id="cb34-597"><a href="#cb34-597"></a></span>
<span id="cb34-598"><a href="#cb34-598"></a><span class="co">&lt;!-- diag_plot &lt;- --&gt;</span></span>
<span id="cb34-599"><a href="#cb34-599"></a></span>
<span id="cb34-600"><a href="#cb34-600"></a><span class="co">&lt;!--   ggplot(filtered_diag_standard_df_list[[1]],  --&gt;</span></span>
<span id="cb34-601"><a href="#cb34-601"></a></span>
<span id="cb34-602"><a href="#cb34-602"></a><span class="co">&lt;!--          aes(x = theta)) + --&gt;</span></span>
<span id="cb34-603"><a href="#cb34-603"></a></span>
<span id="cb34-604"><a href="#cb34-604"></a><span class="co">&lt;!--   geom_histogram(colour = "black",  --&gt;</span></span>
<span id="cb34-605"><a href="#cb34-605"></a></span>
<span id="cb34-606"><a href="#cb34-606"></a><span class="co">&lt;!--                  fill = "lightblue",  --&gt;</span></span>
<span id="cb34-607"><a href="#cb34-607"></a></span>
<span id="cb34-608"><a href="#cb34-608"></a><span class="co">&lt;!--                  breaks = seq(0, 360, length.out = 17.5), --&gt;</span></span>
<span id="cb34-609"><a href="#cb34-609"></a></span>
<span id="cb34-610"><a href="#cb34-610"></a><span class="co">&lt;!--                  bins = 9) + --&gt;</span></span>
<span id="cb34-611"><a href="#cb34-611"></a></span>
<span id="cb34-612"><a href="#cb34-612"></a><span class="co">&lt;!--   coord_polar( --&gt;</span></span>
<span id="cb34-613"><a href="#cb34-613"></a></span>
<span id="cb34-614"><a href="#cb34-614"></a><span class="co">&lt;!--     theta = "x",  --&gt;</span></span>
<span id="cb34-615"><a href="#cb34-615"></a></span>
<span id="cb34-616"><a href="#cb34-616"></a><span class="co">&lt;!--     start = 0,  --&gt;</span></span>
<span id="cb34-617"><a href="#cb34-617"></a></span>
<span id="cb34-618"><a href="#cb34-618"></a><span class="co">&lt;!--     direction = 1) + --&gt;</span></span>
<span id="cb34-619"><a href="#cb34-619"></a></span>
<span id="cb34-620"><a href="#cb34-620"></a><span class="co">&lt;!--   scale_x_continuous(limits = c(0,360), --&gt;</span></span>
<span id="cb34-621"><a href="#cb34-621"></a></span>
<span id="cb34-622"><a href="#cb34-622"></a><span class="co">&lt;!--     breaks = c(0, 45, 90, 135, 180, 225, 270, 315),  --&gt;</span></span>
<span id="cb34-623"><a href="#cb34-623"></a></span>
<span id="cb34-624"><a href="#cb34-624"></a><span class="co">&lt;!--     labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW") --&gt;</span></span>
<span id="cb34-625"><a href="#cb34-625"></a></span>
<span id="cb34-626"><a href="#cb34-626"></a><span class="co">&lt;!--   )+ --&gt;</span></span>
<span id="cb34-627"><a href="#cb34-627"></a></span>
<span id="cb34-628"><a href="#cb34-628"></a><span class="co">&lt;!--   labs(title = "Polar Plot of Diagonal Image\nUsing Standard HOG Technique") + --&gt;</span></span>
<span id="cb34-629"><a href="#cb34-629"></a></span>
<span id="cb34-630"><a href="#cb34-630"></a><span class="co">&lt;!--   theme_minimal() + --&gt;</span></span>
<span id="cb34-631"><a href="#cb34-631"></a></span>
<span id="cb34-632"><a href="#cb34-632"></a><span class="co">&lt;!--   labs(x = "") + --&gt;</span></span>
<span id="cb34-633"><a href="#cb34-633"></a></span>
<span id="cb34-634"><a href="#cb34-634"></a><span class="co">&lt;!--   theme(axis.title.y = element_blank(), --&gt;</span></span>
<span id="cb34-635"><a href="#cb34-635"></a></span>
<span id="cb34-636"><a href="#cb34-636"></a><span class="co">&lt;!--         plot.title = element_text(hjust = 0.5)) --&gt;</span></span>
<span id="cb34-637"><a href="#cb34-637"></a></span>
<span id="cb34-638"><a href="#cb34-638"></a><span class="co">&lt;!-- ggsave("images/plots/diagonal/diag_standard_polar_plot.jpg", diag_plot, width = 6, height = 4, dpi = 300) --&gt;</span></span>
<span id="cb34-639"><a href="#cb34-639"></a></span>
<span id="cb34-640"><a href="#cb34-640"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb34-641"><a href="#cb34-641"></a></span>
<span id="cb34-642"><a href="#cb34-642"></a><span class="co">&lt;!-- ## Generate Polar Plots for Distributed Historgrams of Diagonal Image --&gt;</span></span>
<span id="cb34-643"><a href="#cb34-643"></a></span>
<span id="cb34-644"><a href="#cb34-644"></a><span class="co">&lt;!-- ```{r, warning=FALSE, message=FALSE} --&gt;</span></span>
<span id="cb34-645"><a href="#cb34-645"></a></span>
<span id="cb34-646"><a href="#cb34-646"></a><span class="co">&lt;!-- diag_split_plot &lt;- --&gt;</span></span>
<span id="cb34-647"><a href="#cb34-647"></a></span>
<span id="cb34-648"><a href="#cb34-648"></a><span class="co">&lt;!--   ggplot(diag_contribution_df_list[[1]],  --&gt;</span></span>
<span id="cb34-649"><a href="#cb34-649"></a></span>
<span id="cb34-650"><a href="#cb34-650"></a><span class="co">&lt;!--          aes(x = bin, y = contribution_sum)) + --&gt;</span></span>
<span id="cb34-651"><a href="#cb34-651"></a></span>
<span id="cb34-652"><a href="#cb34-652"></a><span class="co">&lt;!--   geom_histogram(stat = "identity", --&gt;</span></span>
<span id="cb34-653"><a href="#cb34-653"></a></span>
<span id="cb34-654"><a href="#cb34-654"></a><span class="co">&lt;!--                  colour = "black",  --&gt;</span></span>
<span id="cb34-655"><a href="#cb34-655"></a></span>
<span id="cb34-656"><a href="#cb34-656"></a><span class="co">&lt;!--                  fill = "lightblue",  --&gt;</span></span>
<span id="cb34-657"><a href="#cb34-657"></a></span>
<span id="cb34-658"><a href="#cb34-658"></a><span class="co">&lt;!--                  breaks = seq(0, 360, length.out = 17.5), --&gt;</span></span>
<span id="cb34-659"><a href="#cb34-659"></a></span>
<span id="cb34-660"><a href="#cb34-660"></a><span class="co">&lt;!--                  bins = 9) + --&gt;</span></span>
<span id="cb34-661"><a href="#cb34-661"></a></span>
<span id="cb34-662"><a href="#cb34-662"></a><span class="co">&lt;!--   coord_polar( --&gt;</span></span>
<span id="cb34-663"><a href="#cb34-663"></a></span>
<span id="cb34-664"><a href="#cb34-664"></a><span class="co">&lt;!--     theta = "x",  --&gt;</span></span>
<span id="cb34-665"><a href="#cb34-665"></a></span>
<span id="cb34-666"><a href="#cb34-666"></a><span class="co">&lt;!--     start = 0,  --&gt;</span></span>
<span id="cb34-667"><a href="#cb34-667"></a></span>
<span id="cb34-668"><a href="#cb34-668"></a><span class="co">&lt;!--     direction = 1) + --&gt;</span></span>
<span id="cb34-669"><a href="#cb34-669"></a></span>
<span id="cb34-670"><a href="#cb34-670"></a><span class="co">&lt;!--   scale_x_continuous(limits = c(0,360), --&gt;</span></span>
<span id="cb34-671"><a href="#cb34-671"></a></span>
<span id="cb34-672"><a href="#cb34-672"></a><span class="co">&lt;!--     breaks = c(0, 45, 90, 135, 180, 225, 270, 315),  --&gt;</span></span>
<span id="cb34-673"><a href="#cb34-673"></a></span>
<span id="cb34-674"><a href="#cb34-674"></a><span class="co">&lt;!--     labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW") --&gt;</span></span>
<span id="cb34-675"><a href="#cb34-675"></a></span>
<span id="cb34-676"><a href="#cb34-676"></a><span class="co">&lt;!--   )+ --&gt;</span></span>
<span id="cb34-677"><a href="#cb34-677"></a></span>
<span id="cb34-678"><a href="#cb34-678"></a><span class="co">&lt;!--   labs(title = "Polar Plot of Diagonal Image\nUsing Distributed HOG Technique") + --&gt;</span></span>
<span id="cb34-679"><a href="#cb34-679"></a></span>
<span id="cb34-680"><a href="#cb34-680"></a><span class="co">&lt;!--   theme_minimal() + --&gt;</span></span>
<span id="cb34-681"><a href="#cb34-681"></a></span>
<span id="cb34-682"><a href="#cb34-682"></a><span class="co">&lt;!--   labs(x = "") + --&gt;</span></span>
<span id="cb34-683"><a href="#cb34-683"></a></span>
<span id="cb34-684"><a href="#cb34-684"></a><span class="co">&lt;!--   theme(axis.title.y = element_blank(), --&gt;</span></span>
<span id="cb34-685"><a href="#cb34-685"></a></span>
<span id="cb34-686"><a href="#cb34-686"></a><span class="co">&lt;!--         plot.title = element_text(hjust = 0.5)) --&gt;</span></span>
<span id="cb34-687"><a href="#cb34-687"></a></span>
<span id="cb34-688"><a href="#cb34-688"></a><span class="co">&lt;!-- ggsave("images/plots/diagonal/diag_contribution_polar_plot.jpg", diag_split_plot, width = 6, height = 4, dpi = 300) --&gt;</span></span>
<span id="cb34-689"><a href="#cb34-689"></a></span>
<span id="cb34-690"><a href="#cb34-690"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb34-691"><a href="#cb34-691"></a></span>
<span id="cb34-692"><a href="#cb34-692"></a>&lt;details&gt;</span>
<span id="cb34-693"><a href="#cb34-693"></a></span>
<span id="cb34-694"><a href="#cb34-694"></a><span class="fu">## Collect HOG Features for Aerial Cityscapes</span></span>
<span id="cb34-695"><a href="#cb34-695"></a></span>
<span id="cb34-698"><a href="#cb34-698"></a><span class="in">```{python}</span></span>
<span id="cb34-699"><a href="#cb34-699"></a><span class="co"># List for storing images</span></span>
<span id="cb34-700"><a href="#cb34-700"></a>img_list <span class="op">=</span> []</span>
<span id="cb34-701"><a href="#cb34-701"></a></span>
<span id="cb34-702"><a href="#cb34-702"></a><span class="co"># SF aerial</span></span>
<span id="cb34-703"><a href="#cb34-703"></a>img_list.append(color.rgb2gray(</span>
<span id="cb34-704"><a href="#cb34-704"></a>  io.imread(<span class="st">"images/san_francisco_scale_zoom_12.png"</span>)))</span>
<span id="cb34-705"><a href="#cb34-705"></a></span>
<span id="cb34-706"><a href="#cb34-706"></a><span class="co"># Salt Lake City Aerial</span></span>
<span id="cb34-707"><a href="#cb34-707"></a>img_list.append(color.rgb2gray(</span>
<span id="cb34-708"><a href="#cb34-708"></a>  io.imread(<span class="st">"images/salt_lake_city_zoom_12.png"</span>)))</span>
<span id="cb34-709"><a href="#cb34-709"></a></span>
<span id="cb34-710"><a href="#cb34-710"></a><span class="co"># Detroit Aerial</span></span>
<span id="cb34-711"><a href="#cb34-711"></a>img_list.append(color.rgb2gray(io.imread(<span class="st">"images/detroit_zoom_12.png"</span>)))</span>
<span id="cb34-712"><a href="#cb34-712"></a></span>
<span id="cb34-713"><a href="#cb34-713"></a><span class="co"># List to store magnitudes for each image</span></span>
<span id="cb34-714"><a href="#cb34-714"></a>mag_list <span class="op">=</span> []</span>
<span id="cb34-715"><a href="#cb34-715"></a></span>
<span id="cb34-716"><a href="#cb34-716"></a><span class="co"># List to store angles for each image</span></span>
<span id="cb34-717"><a href="#cb34-717"></a>theta_list <span class="op">=</span> []</span>
<span id="cb34-718"><a href="#cb34-718"></a></span>
<span id="cb34-719"><a href="#cb34-719"></a></span>
<span id="cb34-720"><a href="#cb34-720"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(img_list)):</span>
<span id="cb34-721"><a href="#cb34-721"></a>    <span class="co"># Get image of interest</span></span>
<span id="cb34-722"><a href="#cb34-722"></a>    img <span class="op">=</span> img_list[x]</span>
<span id="cb34-723"><a href="#cb34-723"></a>    </span>
<span id="cb34-724"><a href="#cb34-724"></a>    rescaled_file_path <span class="op">=</span> <span class="ss">f"images/plots/aerial_cities/</span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">.jpg"</span></span>
<span id="cb34-725"><a href="#cb34-725"></a>    </span>
<span id="cb34-726"><a href="#cb34-726"></a>    <span class="co"># Determine aspect Ratio</span></span>
<span id="cb34-727"><a href="#cb34-727"></a>    aspect_ratio <span class="op">=</span> img.shape[<span class="dv">0</span>] <span class="op">/</span> img.shape[<span class="dv">1</span>]</span>
<span id="cb34-728"><a href="#cb34-728"></a>    <span class="bu">print</span>(<span class="st">"Aspect Ratio:"</span>, aspect_ratio)</span>
<span id="cb34-729"><a href="#cb34-729"></a>    </span>
<span id="cb34-730"><a href="#cb34-730"></a>    <span class="co"># Hard-Code height to 200 pixels</span></span>
<span id="cb34-731"><a href="#cb34-731"></a>    height <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb34-732"><a href="#cb34-732"></a>    </span>
<span id="cb34-733"><a href="#cb34-733"></a>    <span class="co"># Calculate witdth to maintain same aspect ratio</span></span>
<span id="cb34-734"><a href="#cb34-734"></a>    width <span class="op">=</span> <span class="bu">int</span>(height <span class="op">/</span> aspect_ratio)</span>
<span id="cb34-735"><a href="#cb34-735"></a>    <span class="bu">print</span>(<span class="st">"Resized Width:"</span>, width)</span>
<span id="cb34-736"><a href="#cb34-736"></a>    </span>
<span id="cb34-737"><a href="#cb34-737"></a>    <span class="co"># Resize the image</span></span>
<span id="cb34-738"><a href="#cb34-738"></a>    resized_img <span class="op">=</span> resize(img, (height, width))</span>
<span id="cb34-739"><a href="#cb34-739"></a>    </span>
<span id="cb34-740"><a href="#cb34-740"></a>    <span class="co"># Replace the original image with the resized image</span></span>
<span id="cb34-741"><a href="#cb34-741"></a>    img_list[x] <span class="op">=</span> resized_img</span>
<span id="cb34-742"><a href="#cb34-742"></a>    </span>
<span id="cb34-743"><a href="#cb34-743"></a>    <span class="co"># if (x == 1):</span></span>
<span id="cb34-744"><a href="#cb34-744"></a>    <span class="co">#   plot_width = 8</span></span>
<span id="cb34-745"><a href="#cb34-745"></a>    <span class="co">#   plot_height = 15</span></span>
<span id="cb34-746"><a href="#cb34-746"></a>    <span class="co"># else:</span></span>
<span id="cb34-747"><a href="#cb34-747"></a>    <span class="co">#   plot_width = 15</span></span>
<span id="cb34-748"><a href="#cb34-748"></a>    <span class="co">#   plot_height = 9</span></span>
<span id="cb34-749"><a href="#cb34-749"></a>    <span class="co"># </span></span>
<span id="cb34-750"><a href="#cb34-750"></a>    <span class="co"># plt.figure(figsize=(plot_width, plot_height))</span></span>
<span id="cb34-751"><a href="#cb34-751"></a>    <span class="co"># plt.imshow(resized_img, cmap="gray")</span></span>
<span id="cb34-752"><a href="#cb34-752"></a>    <span class="co"># plt.axis("on")</span></span>
<span id="cb34-753"><a href="#cb34-753"></a>    <span class="co"># plt.tight_layout()</span></span>
<span id="cb34-754"><a href="#cb34-754"></a>    <span class="co"># plt.savefig(rescaled_file_path, dpi=300)</span></span>
<span id="cb34-755"><a href="#cb34-755"></a>    <span class="co"># plt.show()</span></span>
<span id="cb34-756"><a href="#cb34-756"></a></span>
<span id="cb34-757"><a href="#cb34-757"></a>    </span>
<span id="cb34-758"><a href="#cb34-758"></a>    <span class="co"># list for storing all magnitudes for image[x]</span></span>
<span id="cb34-759"><a href="#cb34-759"></a>    mag <span class="op">=</span> []</span>
<span id="cb34-760"><a href="#cb34-760"></a>    </span>
<span id="cb34-761"><a href="#cb34-761"></a>    <span class="co"># list for storing all angles for image[x]</span></span>
<span id="cb34-762"><a href="#cb34-762"></a>    theta <span class="op">=</span> []</span>
<span id="cb34-763"><a href="#cb34-763"></a>    </span>
<span id="cb34-764"><a href="#cb34-764"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(height):</span>
<span id="cb34-765"><a href="#cb34-765"></a>        magnitudeArray <span class="op">=</span> []</span>
<span id="cb34-766"><a href="#cb34-766"></a>        angleArray <span class="op">=</span> []</span>
<span id="cb34-767"><a href="#cb34-767"></a></span>
<span id="cb34-768"><a href="#cb34-768"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(width):</span>
<span id="cb34-769"><a href="#cb34-769"></a>            <span class="cf">if</span> j <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> j <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> width:</span>
<span id="cb34-770"><a href="#cb34-770"></a>                <span class="cf">if</span> j <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb34-771"><a href="#cb34-771"></a>                    Gx <span class="op">=</span> resized_img[i][j <span class="op">+</span> <span class="dv">1</span>] <span class="op">-</span> <span class="dv">0</span></span>
<span id="cb34-772"><a href="#cb34-772"></a>                <span class="cf">elif</span> j <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> width:</span>
<span id="cb34-773"><a href="#cb34-773"></a>                    Gx <span class="op">=</span> <span class="dv">0</span> <span class="op">-</span> resized_img[i][j <span class="op">-</span> <span class="dv">1</span>]</span>
<span id="cb34-774"><a href="#cb34-774"></a>            <span class="cf">else</span>:</span>
<span id="cb34-775"><a href="#cb34-775"></a>                Gx <span class="op">=</span> resized_img[i][j <span class="op">+</span> <span class="dv">1</span>] <span class="op">-</span> resized_img[i][j <span class="op">-</span> <span class="dv">1</span>]</span>
<span id="cb34-776"><a href="#cb34-776"></a></span>
<span id="cb34-777"><a href="#cb34-777"></a>            <span class="cf">if</span> i <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> i <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> height:</span>
<span id="cb34-778"><a href="#cb34-778"></a>                <span class="cf">if</span> i <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb34-779"><a href="#cb34-779"></a>                    Gy <span class="op">=</span> <span class="dv">0</span> <span class="op">-</span> resized_img[i <span class="op">+</span> <span class="dv">1</span>][j]</span>
<span id="cb34-780"><a href="#cb34-780"></a>                <span class="cf">elif</span> i <span class="op">+</span> <span class="dv">1</span> <span class="op">&gt;=</span> height:</span>
<span id="cb34-781"><a href="#cb34-781"></a>                    Gy <span class="op">=</span> resized_img[i <span class="op">-</span> <span class="dv">1</span>][j] <span class="op">-</span> <span class="dv">0</span></span>
<span id="cb34-782"><a href="#cb34-782"></a>            <span class="cf">else</span>:</span>
<span id="cb34-783"><a href="#cb34-783"></a>                Gy <span class="op">=</span> resized_img[i <span class="op">+</span> <span class="dv">1</span>][j] <span class="op">-</span> resized_img[i <span class="op">-</span> <span class="dv">1</span>][j]</span>
<span id="cb34-784"><a href="#cb34-784"></a></span>
<span id="cb34-785"><a href="#cb34-785"></a>            magnitude <span class="op">=</span> math.sqrt(<span class="bu">pow</span>(Gx, <span class="dv">2</span>) <span class="op">+</span> <span class="bu">pow</span>(Gy, <span class="dv">2</span>))</span>
<span id="cb34-786"><a href="#cb34-786"></a>            magnitudeArray.append(<span class="bu">round</span>(magnitude, <span class="dv">9</span>))</span>
<span id="cb34-787"><a href="#cb34-787"></a></span>
<span id="cb34-788"><a href="#cb34-788"></a>            <span class="cf">if</span> Gx <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb34-789"><a href="#cb34-789"></a>                angle <span class="op">=</span> math.degrees(<span class="fl">0.0</span>)</span>
<span id="cb34-790"><a href="#cb34-790"></a>            <span class="cf">else</span>:</span>
<span id="cb34-791"><a href="#cb34-791"></a>                angle <span class="op">=</span> math.degrees(math.atan(Gy <span class="op">/</span> Gx))</span>
<span id="cb34-792"><a href="#cb34-792"></a>                <span class="cf">if</span> angle <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb34-793"><a href="#cb34-793"></a>                    angle <span class="op">+=</span> <span class="dv">180</span></span>
<span id="cb34-794"><a href="#cb34-794"></a></span>
<span id="cb34-795"><a href="#cb34-795"></a>            angleArray.append(<span class="bu">round</span>(angle, <span class="dv">9</span>))</span>
<span id="cb34-796"><a href="#cb34-796"></a></span>
<span id="cb34-797"><a href="#cb34-797"></a>        mag.append(magnitudeArray)</span>
<span id="cb34-798"><a href="#cb34-798"></a>        theta.append(angleArray)</span>
<span id="cb34-799"><a href="#cb34-799"></a></span>
<span id="cb34-800"><a href="#cb34-800"></a>    <span class="co"># add list of magnitudes to list[x]</span></span>
<span id="cb34-801"><a href="#cb34-801"></a>    mag_list.append(mag)</span>
<span id="cb34-802"><a href="#cb34-802"></a></span>
<span id="cb34-803"><a href="#cb34-803"></a>    <span class="co"># add list of angles to angle list[x]</span></span>
<span id="cb34-804"><a href="#cb34-804"></a>    theta_list.append(theta)</span>
<span id="cb34-805"><a href="#cb34-805"></a>    </span>
<span id="cb34-806"><a href="#cb34-806"></a><span class="in">```</span></span>
<span id="cb34-807"><a href="#cb34-807"></a></span>
<span id="cb34-808"><a href="#cb34-808"></a>&lt;/details&gt;</span>
<span id="cb34-809"><a href="#cb34-809"></a></span>
<span id="cb34-810"><a href="#cb34-810"></a>&lt;div align="center"&gt;</span>
<span id="cb34-811"><a href="#cb34-811"></a></span>
<span id="cb34-812"><a href="#cb34-812"></a>::: {#fig-city-images layout-valign="top" layout-ncol="3"}</span>
<span id="cb34-813"><a href="#cb34-813"></a><span class="al">![San Francisco, CA](images/plots/aerial_cities/0.jpg)</span>{group="cityscape-rescale-gallery"}</span>
<span id="cb34-814"><a href="#cb34-814"></a></span>
<span id="cb34-815"><a href="#cb34-815"></a><span class="al">![Salt Lake City, UT](images/plots/aerial_cities/1.jpg)</span>{group="cityscape-rescale-gallery"}</span>
<span id="cb34-816"><a href="#cb34-816"></a></span>
<span id="cb34-817"><a href="#cb34-817"></a><span class="al">![Detroit, MI](images/plots/aerial_cities/2.jpg)</span>{group="cityscape-rescale-gallery"}</span>
<span id="cb34-818"><a href="#cb34-818"></a></span>
<span id="cb34-819"><a href="#cb34-819"></a>Aerial Cityscape Images Re-scaled and Converted to Grayscale</span>
<span id="cb34-820"><a href="#cb34-820"></a>:::</span>
<span id="cb34-821"><a href="#cb34-821"></a></span>
<span id="cb34-822"><a href="#cb34-822"></a>&lt;div&gt;</span>
<span id="cb34-823"><a href="#cb34-823"></a></span>
<span id="cb34-824"><a href="#cb34-824"></a><span class="fu">##  Extract Gradient Magnitudes and Angles from each Aerial Cityscape</span></span>
<span id="cb34-825"><a href="#cb34-825"></a></span>
<span id="cb34-828"><a href="#cb34-828"></a><span class="in">```{python}</span></span>
<span id="cb34-829"><a href="#cb34-829"></a><span class="co"># San Francisco DF of gradient magnitudes and angles</span></span>
<span id="cb34-830"><a href="#cb34-830"></a>mag_sf <span class="op">=</span> np.array(mag_list[<span class="dv">0</span>])</span>
<span id="cb34-831"><a href="#cb34-831"></a>theta_sf <span class="op">=</span> np.array(theta_list[<span class="dv">0</span>])</span>
<span id="cb34-832"><a href="#cb34-832"></a></span>
<span id="cb34-833"><a href="#cb34-833"></a><span class="co"># Salt Lake City DF of gradient magnitudes and angles</span></span>
<span id="cb34-834"><a href="#cb34-834"></a>mag_salt_lake <span class="op">=</span> np.array(mag_list[<span class="dv">1</span>])</span>
<span id="cb34-835"><a href="#cb34-835"></a>theta_salt_lake <span class="op">=</span> np.array(theta_list[<span class="dv">1</span>])</span>
<span id="cb34-836"><a href="#cb34-836"></a></span>
<span id="cb34-837"><a href="#cb34-837"></a><span class="co"># Detorit DF of gradient magnitudes and angles</span></span>
<span id="cb34-838"><a href="#cb34-838"></a>mag_detroit <span class="op">=</span> np.array(mag_list[<span class="dv">2</span>])</span>
<span id="cb34-839"><a href="#cb34-839"></a>theta_detroit <span class="op">=</span> np.array(theta_list[<span class="dv">2</span>])</span>
<span id="cb34-840"><a href="#cb34-840"></a></span>
<span id="cb34-841"><a href="#cb34-841"></a><span class="in">```</span></span>
<span id="cb34-842"><a href="#cb34-842"></a></span>
<span id="cb34-843"><a href="#cb34-843"></a><span class="fu">## Plot Gradient Magnitudes as Image for each Aerial Cityscape</span></span>
<span id="cb34-844"><a href="#cb34-844"></a></span>
<span id="cb34-847"><a href="#cb34-847"></a><span class="in">```{python}</span></span>
<span id="cb34-848"><a href="#cb34-848"></a><span class="co"># Save gradient magnitudes of San Francisco in image form</span></span>
<span id="cb34-849"><a href="#cb34-849"></a></span>
<span id="cb34-850"><a href="#cb34-850"></a><span class="co"># plt.figure(figsize=(15, 8))</span></span>
<span id="cb34-851"><a href="#cb34-851"></a><span class="co"># #plt.title('San Francisco, CA Gradient Magnitudes')</span></span>
<span id="cb34-852"><a href="#cb34-852"></a><span class="co"># plt.imshow(mag_list[0], cmap="gray")</span></span>
<span id="cb34-853"><a href="#cb34-853"></a><span class="co"># plt.axis("on")</span></span>
<span id="cb34-854"><a href="#cb34-854"></a><span class="co"># #plt.show()</span></span>
<span id="cb34-855"><a href="#cb34-855"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb34-856"><a href="#cb34-856"></a><span class="co"># plt.savefig("images/plots/aerial_cities/sf_mag.png", dpi=300)</span></span>
<span id="cb34-857"><a href="#cb34-857"></a><span class="in">```</span></span>
<span id="cb34-858"><a href="#cb34-858"></a></span>
<span id="cb34-861"><a href="#cb34-861"></a><span class="in">```{python}</span></span>
<span id="cb34-862"><a href="#cb34-862"></a><span class="co"># Save gradient magnitudes of Salt Lake City in image form</span></span>
<span id="cb34-863"><a href="#cb34-863"></a></span>
<span id="cb34-864"><a href="#cb34-864"></a><span class="co"># plt.figure(figsize=(8, 15))</span></span>
<span id="cb34-865"><a href="#cb34-865"></a><span class="co"># #plt.title('Salt Lake City, UT Gradient Magnitudes')</span></span>
<span id="cb34-866"><a href="#cb34-866"></a><span class="co"># plt.imshow(mag_list[1], cmap="gray")</span></span>
<span id="cb34-867"><a href="#cb34-867"></a><span class="co"># plt.axis("on")</span></span>
<span id="cb34-868"><a href="#cb34-868"></a><span class="co"># #plt.show()</span></span>
<span id="cb34-869"><a href="#cb34-869"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb34-870"><a href="#cb34-870"></a><span class="co"># plt.savefig("images/plots/aerial_cities/salt_lake_mag.png", dpi=300)</span></span>
<span id="cb34-871"><a href="#cb34-871"></a></span>
<span id="cb34-872"><a href="#cb34-872"></a></span>
<span id="cb34-873"><a href="#cb34-873"></a><span class="in">```</span></span>
<span id="cb34-874"><a href="#cb34-874"></a></span>
<span id="cb34-877"><a href="#cb34-877"></a><span class="in">```{python}</span></span>
<span id="cb34-878"><a href="#cb34-878"></a><span class="co"># Save gradient magnitudes of Detroit in image form</span></span>
<span id="cb34-879"><a href="#cb34-879"></a></span>
<span id="cb34-880"><a href="#cb34-880"></a><span class="co"># plt.figure(figsize=(15, 8))</span></span>
<span id="cb34-881"><a href="#cb34-881"></a><span class="co"># #plt.title('Detroit, MI Gradient Magnitudes')</span></span>
<span id="cb34-882"><a href="#cb34-882"></a><span class="co"># plt.imshow(mag_list[2], cmap="gray")</span></span>
<span id="cb34-883"><a href="#cb34-883"></a><span class="co"># plt.axis("on")</span></span>
<span id="cb34-884"><a href="#cb34-884"></a><span class="co"># #plt.show()</span></span>
<span id="cb34-885"><a href="#cb34-885"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb34-886"><a href="#cb34-886"></a><span class="co"># plt.savefig("images/plots/aerial_cities/detroit_mag.png", dpi=300)</span></span>
<span id="cb34-887"><a href="#cb34-887"></a><span class="in">```</span></span>
<span id="cb34-888"><a href="#cb34-888"></a></span>
<span id="cb34-889"><a href="#cb34-889"></a>&lt;div align="center"&gt;</span>
<span id="cb34-890"><a href="#cb34-890"></a></span>
<span id="cb34-891"><a href="#cb34-891"></a>::: {#fig-city-mags layout-ncol="3"}</span>
<span id="cb34-892"><a href="#cb34-892"></a><span class="al">![San Francisco, CA](images/plots/aerial_cities/sf_mag.png)</span>{group="cityscape-mag-gallery"}</span>
<span id="cb34-893"><a href="#cb34-893"></a></span>
<span id="cb34-894"><a href="#cb34-894"></a><span class="al">![Salt Lake City, UT](images/plots/aerial_cities/salt_lake_mag.png)</span>{group="cityscape-mag-gallery"}</span>
<span id="cb34-895"><a href="#cb34-895"></a></span>
<span id="cb34-896"><a href="#cb34-896"></a><span class="al">![Detroit, MI](images/plots/aerial_cities/detroit_mag.png)</span>{group="cityscape-mag-gallery"}</span>
<span id="cb34-897"><a href="#cb34-897"></a></span>
<span id="cb34-898"><a href="#cb34-898"></a>Image of Aerial Cityscape Magnitudes</span>
<span id="cb34-899"><a href="#cb34-899"></a>:::</span>
<span id="cb34-900"><a href="#cb34-900"></a></span>
<span id="cb34-901"><a href="#cb34-901"></a>&lt;div&gt;</span>
<span id="cb34-902"><a href="#cb34-902"></a></span>
<span id="cb34-903"><a href="#cb34-903"></a><span class="fu">## Create Data Frame for Each Image</span></span>
<span id="cb34-904"><a href="#cb34-904"></a></span>
<span id="cb34-905"><a href="#cb34-905"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-906"><a href="#cb34-906"></a><span class="in">#| code-summary: "Make data frame of San Francisco, CA magnitudes and angles"</span></span>
<span id="cb34-907"><a href="#cb34-907"></a><span class="in"># San Francisco DF</span></span>
<span id="cb34-908"><a href="#cb34-908"></a><span class="in">sf_hog_df &lt;- data.frame(mag = as.vector(py$mag_sf),</span></span>
<span id="cb34-909"><a href="#cb34-909"></a><span class="in">                              theta = as.vector((py$theta_sf))) %&gt;%</span></span>
<span id="cb34-910"><a href="#cb34-910"></a><span class="in">  mutate(radian = theta*(pi/180))</span></span>
<span id="cb34-911"><a href="#cb34-911"></a><span class="in">```</span></span>
<span id="cb34-912"><a href="#cb34-912"></a></span>
<span id="cb34-915"><a href="#cb34-915"></a><span class="in">```{r}</span></span>
<span id="cb34-916"><a href="#cb34-916"></a><span class="co">#| code-summary: "Make Data Frame of Salt Lake City, UT Magnitudes and Angles"</span></span>
<span id="cb34-917"><a href="#cb34-917"></a><span class="co"># Salt Lake City DF</span></span>
<span id="cb34-918"><a href="#cb34-918"></a>salt_lake_hog_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">mag =</span> <span class="fu">as.vector</span>(py<span class="sc">$</span>mag_salt_lake),</span>
<span id="cb34-919"><a href="#cb34-919"></a>                              <span class="at">theta =</span> <span class="fu">as.vector</span>((py<span class="sc">$</span>theta_salt_lake))) <span class="sc">%&gt;%</span></span>
<span id="cb34-920"><a href="#cb34-920"></a>  <span class="fu">mutate</span>(<span class="at">radian =</span> theta<span class="sc">*</span>(pi<span class="sc">/</span><span class="dv">180</span>))</span>
<span id="cb34-921"><a href="#cb34-921"></a><span class="in">```</span></span>
<span id="cb34-922"><a href="#cb34-922"></a></span>
<span id="cb34-925"><a href="#cb34-925"></a><span class="in">```{r}</span></span>
<span id="cb34-926"><a href="#cb34-926"></a><span class="co">#| code-summary: "Make Data Frame of Detroit, MI Magnitudes and Angles"</span></span>
<span id="cb34-927"><a href="#cb34-927"></a><span class="co"># Detroit DF</span></span>
<span id="cb34-928"><a href="#cb34-928"></a>detroit_hog_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">mag =</span> <span class="fu">as.vector</span>(py<span class="sc">$</span>mag_detroit),</span>
<span id="cb34-929"><a href="#cb34-929"></a>                              <span class="at">theta =</span> <span class="fu">as.vector</span>((py<span class="sc">$</span>theta_detroit))) <span class="sc">%&gt;%</span></span>
<span id="cb34-930"><a href="#cb34-930"></a>  <span class="fu">mutate</span>(<span class="at">radian =</span> theta<span class="sc">*</span>(pi<span class="sc">/</span><span class="dv">180</span>))</span>
<span id="cb34-931"><a href="#cb34-931"></a></span>
<span id="cb34-932"><a href="#cb34-932"></a><span class="in">```</span></span>
<span id="cb34-933"><a href="#cb34-933"></a></span>
<span id="cb34-936"><a href="#cb34-936"></a><span class="in">```{r}</span></span>
<span id="cb34-937"><a href="#cb34-937"></a><span class="co">#| code-summary: "Add the Data Frames Created Above to a List"</span></span>
<span id="cb34-938"><a href="#cb34-938"></a><span class="co"># List of all Data frames</span></span>
<span id="cb34-939"><a href="#cb34-939"></a>standard_df_list <span class="ot">=</span> <span class="fu">list</span>(sf_hog_df,</span>
<span id="cb34-940"><a href="#cb34-940"></a>                        salt_lake_hog_df, </span>
<span id="cb34-941"><a href="#cb34-941"></a>                        detroit_hog_df)</span>
<span id="cb34-942"><a href="#cb34-942"></a><span class="in">```</span></span>
<span id="cb34-943"><a href="#cb34-943"></a></span>
<span id="cb34-944"><a href="#cb34-944"></a><span class="fu">## Create Histograms of Gradient Magnitudes and Angles for Aerial Cityscapes</span></span>
<span id="cb34-945"><a href="#cb34-945"></a></span>
<span id="cb34-946"><a href="#cb34-946"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-947"><a href="#cb34-947"></a><span class="in">#| code-summary: "Plot histogram of San Francisco, CA gradient magnitudes and define the magnitude level for later filtering"</span></span>
<span id="cb34-948"><a href="#cb34-948"></a></span>
<span id="cb34-949"><a href="#cb34-949"></a><span class="in"># SF histogram of gradient mags</span></span>
<span id="cb34-950"><a href="#cb34-950"></a><span class="in">sf_histogram_mag_plot &lt;-</span></span>
<span id="cb34-951"><a href="#cb34-951"></a><span class="in">  ggplot(standard_df_list[[1]], </span></span>
<span id="cb34-952"><a href="#cb34-952"></a><span class="in">         aes(x = mag)) +</span></span>
<span id="cb34-953"><a href="#cb34-953"></a><span class="in">  geom_histogram(colour = "black", fill = "lightblue") +</span></span>
<span id="cb34-954"><a href="#cb34-954"></a><span class="in">  scale_x_continuous() + </span></span>
<span id="cb34-955"><a href="#cb34-955"></a><span class="in">  labs(x = "Gradient Magnitude", </span></span>
<span id="cb34-956"><a href="#cb34-956"></a><span class="in">       y = "Count", </span></span>
<span id="cb34-957"><a href="#cb34-957"></a><span class="in">       title = "San Francisco Cityscape Image Histogram of Gradient Magnitudes"</span></span>
<span id="cb34-958"><a href="#cb34-958"></a><span class="in">       ) +</span></span>
<span id="cb34-959"><a href="#cb34-959"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-960"><a href="#cb34-960"></a><span class="in">  theme(plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-961"><a href="#cb34-961"></a></span>
<span id="cb34-962"><a href="#cb34-962"></a><span class="in"># sf mag filter level</span></span>
<span id="cb34-963"><a href="#cb34-963"></a><span class="in">sf_mag_filter &lt;- 0.4</span></span>
<span id="cb34-964"><a href="#cb34-964"></a></span>
<span id="cb34-965"><a href="#cb34-965"></a><span class="in"># save image</span></span>
<span id="cb34-966"><a href="#cb34-966"></a><span class="in">ggsave("images/plots/aerial_cities/sf_histogram_mag_plot.jpg", </span></span>
<span id="cb34-967"><a href="#cb34-967"></a><span class="in">       sf_histogram_mag_plot, </span></span>
<span id="cb34-968"><a href="#cb34-968"></a><span class="in">       width = 6, </span></span>
<span id="cb34-969"><a href="#cb34-969"></a><span class="in">       height = 4, </span></span>
<span id="cb34-970"><a href="#cb34-970"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-971"><a href="#cb34-971"></a><span class="in">```</span></span>
<span id="cb34-972"><a href="#cb34-972"></a></span>
<span id="cb34-973"><a href="#cb34-973"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-974"><a href="#cb34-974"></a><span class="in">#| code-summary: "Plot histogram of San Francisco, CA gradient angles"</span></span>
<span id="cb34-975"><a href="#cb34-975"></a></span>
<span id="cb34-976"><a href="#cb34-976"></a><span class="in"># SF histogram of gradient angles</span></span>
<span id="cb34-977"><a href="#cb34-977"></a><span class="in">sf_histogram_theta_plot &lt;-</span></span>
<span id="cb34-978"><a href="#cb34-978"></a><span class="in">  ggplot(standard_df_list[[1]], </span></span>
<span id="cb34-979"><a href="#cb34-979"></a><span class="in">         aes(x = theta)) +</span></span>
<span id="cb34-980"><a href="#cb34-980"></a><span class="in">  geom_histogram(colour = "black", fill = "lightblue") +</span></span>
<span id="cb34-981"><a href="#cb34-981"></a><span class="in">  scale_x_continuous() + </span></span>
<span id="cb34-982"><a href="#cb34-982"></a><span class="in">  labs(x = "Gradient Angle", </span></span>
<span id="cb34-983"><a href="#cb34-983"></a><span class="in">       y = "Count", </span></span>
<span id="cb34-984"><a href="#cb34-984"></a><span class="in">       title = "San Francisco Cityscape Image Histogram of Gradient Angles"</span></span>
<span id="cb34-985"><a href="#cb34-985"></a><span class="in">       ) +</span></span>
<span id="cb34-986"><a href="#cb34-986"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-987"><a href="#cb34-987"></a><span class="in">  theme(plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-988"><a href="#cb34-988"></a></span>
<span id="cb34-989"><a href="#cb34-989"></a><span class="in"># save image</span></span>
<span id="cb34-990"><a href="#cb34-990"></a><span class="in">ggsave("images/plots/aerial_cities/sf_histogram_theta_plot.jpg", </span></span>
<span id="cb34-991"><a href="#cb34-991"></a><span class="in">       sf_histogram_theta_plot, </span></span>
<span id="cb34-992"><a href="#cb34-992"></a><span class="in">       width = 6, </span></span>
<span id="cb34-993"><a href="#cb34-993"></a><span class="in">       height = 4, </span></span>
<span id="cb34-994"><a href="#cb34-994"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-995"><a href="#cb34-995"></a></span>
<span id="cb34-996"><a href="#cb34-996"></a><span class="in">```</span></span>
<span id="cb34-997"><a href="#cb34-997"></a></span>
<span id="cb34-998"><a href="#cb34-998"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-999"><a href="#cb34-999"></a><span class="in">#| code-summary: "Plot histogram of Salt Lake City, UT gradient magnitudes and define the magnitude level for later filtering"</span></span>
<span id="cb34-1000"><a href="#cb34-1000"></a></span>
<span id="cb34-1001"><a href="#cb34-1001"></a><span class="in"># slc histogram of gradient mags</span></span>
<span id="cb34-1002"><a href="#cb34-1002"></a><span class="in">salt_lake_histogram_mag_plot &lt;-</span></span>
<span id="cb34-1003"><a href="#cb34-1003"></a><span class="in">  ggplot(standard_df_list[[2]], </span></span>
<span id="cb34-1004"><a href="#cb34-1004"></a><span class="in">         aes(x = mag)) +</span></span>
<span id="cb34-1005"><a href="#cb34-1005"></a><span class="in">  geom_histogram(colour = "black", fill = "lightblue") +</span></span>
<span id="cb34-1006"><a href="#cb34-1006"></a><span class="in">  scale_x_continuous() + </span></span>
<span id="cb34-1007"><a href="#cb34-1007"></a><span class="in">  labs(x = "Gradient Magnitude", </span></span>
<span id="cb34-1008"><a href="#cb34-1008"></a><span class="in">       y = "Count", </span></span>
<span id="cb34-1009"><a href="#cb34-1009"></a><span class="in">       title = "Salt Lake City Image Histogram of Gradient Magnitudes"</span></span>
<span id="cb34-1010"><a href="#cb34-1010"></a><span class="in">       ) +</span></span>
<span id="cb34-1011"><a href="#cb34-1011"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-1012"><a href="#cb34-1012"></a><span class="in">  theme(plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-1013"><a href="#cb34-1013"></a></span>
<span id="cb34-1014"><a href="#cb34-1014"></a><span class="in"># SLC mag filter level</span></span>
<span id="cb34-1015"><a href="#cb34-1015"></a><span class="in">salt_lake_mag_filter &lt;- 0.12</span></span>
<span id="cb34-1016"><a href="#cb34-1016"></a></span>
<span id="cb34-1017"><a href="#cb34-1017"></a><span class="in"># save image</span></span>
<span id="cb34-1018"><a href="#cb34-1018"></a><span class="in">ggsave("images/plots/aerial_cities/salt_lake_histogram_mag_plot.jpg", </span></span>
<span id="cb34-1019"><a href="#cb34-1019"></a><span class="in">       salt_lake_histogram_mag_plot, </span></span>
<span id="cb34-1020"><a href="#cb34-1020"></a><span class="in">       width = 6, </span></span>
<span id="cb34-1021"><a href="#cb34-1021"></a><span class="in">       height = 4, </span></span>
<span id="cb34-1022"><a href="#cb34-1022"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-1023"><a href="#cb34-1023"></a></span>
<span id="cb34-1024"><a href="#cb34-1024"></a><span class="in">```</span></span>
<span id="cb34-1025"><a href="#cb34-1025"></a></span>
<span id="cb34-1026"><a href="#cb34-1026"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1027"><a href="#cb34-1027"></a><span class="in">#| code-summary: "Plot histogram of Salt Lake City, UT gradient angles"</span></span>
<span id="cb34-1028"><a href="#cb34-1028"></a></span>
<span id="cb34-1029"><a href="#cb34-1029"></a><span class="in"># slc histogram of gradient angles</span></span>
<span id="cb34-1030"><a href="#cb34-1030"></a><span class="in">salt_lake_histogram_theta_plot &lt;-</span></span>
<span id="cb34-1031"><a href="#cb34-1031"></a><span class="in">  ggplot(standard_df_list[[2]], </span></span>
<span id="cb34-1032"><a href="#cb34-1032"></a><span class="in">         aes(x = theta)) +</span></span>
<span id="cb34-1033"><a href="#cb34-1033"></a><span class="in">  geom_histogram(colour = "black", fill = "lightblue") +</span></span>
<span id="cb34-1034"><a href="#cb34-1034"></a><span class="in">  scale_x_continuous() + </span></span>
<span id="cb34-1035"><a href="#cb34-1035"></a><span class="in">  labs(x = "Gradient Angle", </span></span>
<span id="cb34-1036"><a href="#cb34-1036"></a><span class="in">       y = "Count", </span></span>
<span id="cb34-1037"><a href="#cb34-1037"></a><span class="in">       title = "Salt Lake City Image Histogram of Gradient Angles"</span></span>
<span id="cb34-1038"><a href="#cb34-1038"></a><span class="in">       ) +</span></span>
<span id="cb34-1039"><a href="#cb34-1039"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-1040"><a href="#cb34-1040"></a><span class="in">  theme(plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-1041"><a href="#cb34-1041"></a></span>
<span id="cb34-1042"><a href="#cb34-1042"></a><span class="in"># save image</span></span>
<span id="cb34-1043"><a href="#cb34-1043"></a><span class="in">ggsave("images/plots/aerial_cities/salt_lake_histogram_theta_plot.jpg",</span></span>
<span id="cb34-1044"><a href="#cb34-1044"></a><span class="in">       salt_lake_histogram_theta_plot, </span></span>
<span id="cb34-1045"><a href="#cb34-1045"></a><span class="in">       width = 6, </span></span>
<span id="cb34-1046"><a href="#cb34-1046"></a><span class="in">       height = 4, </span></span>
<span id="cb34-1047"><a href="#cb34-1047"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-1048"><a href="#cb34-1048"></a><span class="in">```</span></span>
<span id="cb34-1049"><a href="#cb34-1049"></a></span>
<span id="cb34-1050"><a href="#cb34-1050"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1051"><a href="#cb34-1051"></a><span class="in">#| code-summary: "Plot histogram of Detroit, MI gradient magnitudes and define the magnitude level for later filtering"</span></span>
<span id="cb34-1052"><a href="#cb34-1052"></a></span>
<span id="cb34-1053"><a href="#cb34-1053"></a><span class="in"># Detroit histogram of gradient mags</span></span>
<span id="cb34-1054"><a href="#cb34-1054"></a><span class="in">detroit_histogram_mag_plot &lt;-</span></span>
<span id="cb34-1055"><a href="#cb34-1055"></a><span class="in">  ggplot(standard_df_list[[3]], </span></span>
<span id="cb34-1056"><a href="#cb34-1056"></a><span class="in">         aes(x = mag)) +</span></span>
<span id="cb34-1057"><a href="#cb34-1057"></a><span class="in">  geom_histogram(colour = "black", fill = "lightblue") +</span></span>
<span id="cb34-1058"><a href="#cb34-1058"></a><span class="in">  scale_x_continuous() + </span></span>
<span id="cb34-1059"><a href="#cb34-1059"></a><span class="in">  labs(x = "Gradient Magnitude", </span></span>
<span id="cb34-1060"><a href="#cb34-1060"></a><span class="in">       y = "Count", </span></span>
<span id="cb34-1061"><a href="#cb34-1061"></a><span class="in">       title = "Detroit Image Histogram of Gradient Magnitudes"</span></span>
<span id="cb34-1062"><a href="#cb34-1062"></a><span class="in">       ) +</span></span>
<span id="cb34-1063"><a href="#cb34-1063"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-1064"><a href="#cb34-1064"></a><span class="in">  theme(plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-1065"><a href="#cb34-1065"></a></span>
<span id="cb34-1066"><a href="#cb34-1066"></a><span class="in"># Detroit mag filter level</span></span>
<span id="cb34-1067"><a href="#cb34-1067"></a><span class="in">detroit_mag_filter &lt;- 0.15</span></span>
<span id="cb34-1068"><a href="#cb34-1068"></a></span>
<span id="cb34-1069"><a href="#cb34-1069"></a><span class="in">ggsave("images/plots/aerial_cities/detroit_histogram_mag_plot.jpg", </span></span>
<span id="cb34-1070"><a href="#cb34-1070"></a><span class="in">       detroit_histogram_mag_plot, </span></span>
<span id="cb34-1071"><a href="#cb34-1071"></a><span class="in">       width = 6, </span></span>
<span id="cb34-1072"><a href="#cb34-1072"></a><span class="in">       height = 4, </span></span>
<span id="cb34-1073"><a href="#cb34-1073"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-1074"><a href="#cb34-1074"></a></span>
<span id="cb34-1075"><a href="#cb34-1075"></a><span class="in">```</span></span>
<span id="cb34-1076"><a href="#cb34-1076"></a></span>
<span id="cb34-1077"><a href="#cb34-1077"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1078"><a href="#cb34-1078"></a><span class="in">#| code-summary: "Plot histogram of Detroit, MI gradient angles"</span></span>
<span id="cb34-1079"><a href="#cb34-1079"></a></span>
<span id="cb34-1080"><a href="#cb34-1080"></a><span class="in"># Detroit histogram of gradient angles</span></span>
<span id="cb34-1081"><a href="#cb34-1081"></a><span class="in">detroit_histogram_theta_plot &lt;-</span></span>
<span id="cb34-1082"><a href="#cb34-1082"></a><span class="in">  ggplot(standard_df_list[[3]], </span></span>
<span id="cb34-1083"><a href="#cb34-1083"></a><span class="in">         aes(x = theta)) +</span></span>
<span id="cb34-1084"><a href="#cb34-1084"></a><span class="in">  geom_histogram(colour = "black", fill = "lightblue") +</span></span>
<span id="cb34-1085"><a href="#cb34-1085"></a><span class="in">  scale_x_continuous() + </span></span>
<span id="cb34-1086"><a href="#cb34-1086"></a><span class="in">  labs(x = "Gradient Angle", </span></span>
<span id="cb34-1087"><a href="#cb34-1087"></a><span class="in">       y = "Count", </span></span>
<span id="cb34-1088"><a href="#cb34-1088"></a><span class="in">       title = "Detroit, MI Image Histogram of Gradient Angles"</span></span>
<span id="cb34-1089"><a href="#cb34-1089"></a><span class="in">       ) +</span></span>
<span id="cb34-1090"><a href="#cb34-1090"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-1091"><a href="#cb34-1091"></a><span class="in">  theme(plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-1092"><a href="#cb34-1092"></a></span>
<span id="cb34-1093"><a href="#cb34-1093"></a><span class="in"># save image</span></span>
<span id="cb34-1094"><a href="#cb34-1094"></a><span class="in">ggsave("images/plots/aerial_cities/detroit_histogram_theta_plot.jpg", </span></span>
<span id="cb34-1095"><a href="#cb34-1095"></a><span class="in">       detroit_histogram_theta_plot, </span></span>
<span id="cb34-1096"><a href="#cb34-1096"></a><span class="in">       width = 6, </span></span>
<span id="cb34-1097"><a href="#cb34-1097"></a><span class="in">       height = 4, </span></span>
<span id="cb34-1098"><a href="#cb34-1098"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-1099"><a href="#cb34-1099"></a><span class="in">```</span></span>
<span id="cb34-1100"><a href="#cb34-1100"></a></span>
<span id="cb34-1101"><a href="#cb34-1101"></a>&lt;div align="center"&gt;</span>
<span id="cb34-1102"><a href="#cb34-1102"></a></span>
<span id="cb34-1103"><a href="#cb34-1103"></a>::: {#fig-city-histograms layout-ncol="3"}</span>
<span id="cb34-1104"><a href="#cb34-1104"></a></span>
<span id="cb34-1105"><a href="#cb34-1105"></a><span class="al">![San Francisco, CA Gradient Magnitudes](images/plots/aerial_cities/sf_histogram_mag_plot.jpg)</span>{group="cityscape-hist-gallery"}</span>
<span id="cb34-1106"><a href="#cb34-1106"></a></span>
<span id="cb34-1107"><a href="#cb34-1107"></a><span class="al">![Salt Lake City, UT Gradient Magnitudes](images/plots/aerial_cities/salt_lake_histogram_mag_plot.jpg)</span>{group="cityscape-hist-gallery"} </span>
<span id="cb34-1108"><a href="#cb34-1108"></a></span>
<span id="cb34-1109"><a href="#cb34-1109"></a><span class="al">![Detroit, MI Gradient Magnitudes](images/plots/aerial_cities/detroit_histogram_mag_plot.jpg)</span>{group="cityscape-hist-gallery"}</span>
<span id="cb34-1110"><a href="#cb34-1110"></a></span>
<span id="cb34-1111"><a href="#cb34-1111"></a><span class="al">![San Francisco, CA Gradient Angles](images/plots/aerial_cities/sf_histogram_theta_plot.jpg)</span>{group="cityscape-hist-gallery"}</span>
<span id="cb34-1112"><a href="#cb34-1112"></a></span>
<span id="cb34-1113"><a href="#cb34-1113"></a><span class="al">![Salt Lake City, UT Gradient Angles](images/plots/aerial_cities/salt_lake_histogram_theta_plot.jpg)</span>{group="cityscape-hist-gallery"}</span>
<span id="cb34-1114"><a href="#cb34-1114"></a></span>
<span id="cb34-1115"><a href="#cb34-1115"></a><span class="al">![Detroit, MI Gradient Angles](images/plots/aerial_cities/detroit_histogram_theta_plot.jpg)</span>{group="cityscape-hist-gallery"}</span>
<span id="cb34-1116"><a href="#cb34-1116"></a></span>
<span id="cb34-1117"><a href="#cb34-1117"></a>Aerial Cityscape Histograms of Magnitudes and Angles</span>
<span id="cb34-1118"><a href="#cb34-1118"></a></span>
<span id="cb34-1119"><a href="#cb34-1119"></a>:::</span>
<span id="cb34-1120"><a href="#cb34-1120"></a></span>
<span id="cb34-1121"><a href="#cb34-1121"></a>&lt;div&gt;</span>
<span id="cb34-1122"><a href="#cb34-1122"></a></span>
<span id="cb34-1123"><a href="#cb34-1123"></a><span class="fu">## Build New Distributed Histogram Data Frames</span></span>
<span id="cb34-1124"><a href="#cb34-1124"></a></span>
<span id="cb34-1125"><a href="#cb34-1125"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1126"><a href="#cb34-1126"></a><span class="in">#| code-summary: "Function for calculating values for each bin of distributed histogram"</span></span>
<span id="cb34-1127"><a href="#cb34-1127"></a></span>
<span id="cb34-1128"><a href="#cb34-1128"></a><span class="in"># function to calculate the contributions to neighboring bins</span></span>
<span id="cb34-1129"><a href="#cb34-1129"></a><span class="in">calculate_bin_contributions &lt;- function(angle, magnitude, num_bins) {</span></span>
<span id="cb34-1130"><a href="#cb34-1130"></a><span class="in">  bin_width &lt;- 180 / num_bins</span></span>
<span id="cb34-1131"><a href="#cb34-1131"></a><span class="in">  contributions &lt;- numeric(num_bins)</span></span>
<span id="cb34-1132"><a href="#cb34-1132"></a><span class="in">  </span></span>
<span id="cb34-1133"><a href="#cb34-1133"></a><span class="in">  # get the central bin</span></span>
<span id="cb34-1134"><a href="#cb34-1134"></a><span class="in">  central_bin &lt;- floor(angle / bin_width) %% num_bins</span></span>
<span id="cb34-1135"><a href="#cb34-1135"></a><span class="in">  next_bin &lt;- (central_bin + 1) %% num_bins</span></span>
<span id="cb34-1136"><a href="#cb34-1136"></a><span class="in">  </span></span>
<span id="cb34-1137"><a href="#cb34-1137"></a><span class="in">  # get contributions to neighboring bins</span></span>
<span id="cb34-1138"><a href="#cb34-1138"></a><span class="in">  weight &lt;- (1 - abs((angle %% bin_width) / bin_width)) * magnitude</span></span>
<span id="cb34-1139"><a href="#cb34-1139"></a><span class="in">  </span></span>
<span id="cb34-1140"><a href="#cb34-1140"></a><span class="in">  contributions[central_bin + 1] &lt;- weight</span></span>
<span id="cb34-1141"><a href="#cb34-1141"></a><span class="in">  contributions[next_bin + 1] &lt;- magnitude - weight</span></span>
<span id="cb34-1142"><a href="#cb34-1142"></a><span class="in">  </span></span>
<span id="cb34-1143"><a href="#cb34-1143"></a><span class="in">  return(list(contributions[1],</span></span>
<span id="cb34-1144"><a href="#cb34-1144"></a><span class="in">         contributions[2],</span></span>
<span id="cb34-1145"><a href="#cb34-1145"></a><span class="in">         contributions[3],</span></span>
<span id="cb34-1146"><a href="#cb34-1146"></a><span class="in">         contributions[4],</span></span>
<span id="cb34-1147"><a href="#cb34-1147"></a><span class="in">         contributions[5],</span></span>
<span id="cb34-1148"><a href="#cb34-1148"></a><span class="in">         contributions[6],</span></span>
<span id="cb34-1149"><a href="#cb34-1149"></a><span class="in">         contributions[7],</span></span>
<span id="cb34-1150"><a href="#cb34-1150"></a><span class="in">         contributions[8],</span></span>
<span id="cb34-1151"><a href="#cb34-1151"></a><span class="in">         contributions[9])</span></span>
<span id="cb34-1152"><a href="#cb34-1152"></a><span class="in">         )</span></span>
<span id="cb34-1153"><a href="#cb34-1153"></a><span class="in">}</span></span>
<span id="cb34-1154"><a href="#cb34-1154"></a><span class="in">```</span></span>
<span id="cb34-1155"><a href="#cb34-1155"></a></span>
<span id="cb34-1156"><a href="#cb34-1156"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1157"><a href="#cb34-1157"></a><span class="in">#| code-summary: "Filter each data set of aerial image gradients and angles to only contain observations with magnitudes greater than or equal to the respective magnitude levels determined above"</span></span>
<span id="cb34-1158"><a href="#cb34-1158"></a></span>
<span id="cb34-1159"><a href="#cb34-1159"></a><span class="in"># Create filtered data frames using the filter levels </span></span>
<span id="cb34-1160"><a href="#cb34-1160"></a><span class="in"># for magnitudes defined above, store all in a list</span></span>
<span id="cb34-1161"><a href="#cb34-1161"></a><span class="in">filtered_aerial_standard_df_list &lt;-list(sf_hog_df %&gt;%</span></span>
<span id="cb34-1162"><a href="#cb34-1162"></a><span class="in">                                   filter(mag &gt;= sf_mag_filter),</span></span>
<span id="cb34-1163"><a href="#cb34-1163"></a><span class="in">                                 salt_lake_hog_df %&gt;%</span></span>
<span id="cb34-1164"><a href="#cb34-1164"></a><span class="in">                                   filter(mag &gt;= salt_lake_mag_filter), </span></span>
<span id="cb34-1165"><a href="#cb34-1165"></a><span class="in">                                 detroit_hog_df %&gt;%</span></span>
<span id="cb34-1166"><a href="#cb34-1166"></a><span class="in">                                   filter(mag &gt;= detroit_mag_filter))</span></span>
<span id="cb34-1167"><a href="#cb34-1167"></a></span>
<span id="cb34-1168"><a href="#cb34-1168"></a><span class="in">```</span></span>
<span id="cb34-1169"><a href="#cb34-1169"></a></span>
<span id="cb34-1170"><a href="#cb34-1170"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1171"><a href="#cb34-1171"></a><span class="in">#| code-summary: "For each image calculate the contribution to each bin for the disttribued histogram"</span></span>
<span id="cb34-1172"><a href="#cb34-1172"></a></span>
<span id="cb34-1173"><a href="#cb34-1173"></a><span class="in"># empty list for storing new distributed histogram data frames</span></span>
<span id="cb34-1174"><a href="#cb34-1174"></a><span class="in">aerial_contribution_df_list &lt;- list()</span></span>
<span id="cb34-1175"><a href="#cb34-1175"></a></span>
<span id="cb34-1176"><a href="#cb34-1176"></a><span class="in"># Define the number of bins</span></span>
<span id="cb34-1177"><a href="#cb34-1177"></a><span class="in">num_bins &lt;- 9</span></span>
<span id="cb34-1178"><a href="#cb34-1178"></a><span class="in"> </span></span>
<span id="cb34-1179"><a href="#cb34-1179"></a><span class="in"># iterate through each filtered standard data frame</span></span>
<span id="cb34-1180"><a href="#cb34-1180"></a><span class="in">for (i in 1:length(filtered_aerial_standard_df_list)){</span></span>
<span id="cb34-1181"><a href="#cb34-1181"></a><span class="in">  </span></span>
<span id="cb34-1182"><a href="#cb34-1182"></a><span class="in">  aerial_contribution_hog_df &lt;- </span></span>
<span id="cb34-1183"><a href="#cb34-1183"></a><span class="in">    filtered_aerial_standard_df_list[[i]] %&gt;%</span></span>
<span id="cb34-1184"><a href="#cb34-1184"></a><span class="in">    rowwise() %&gt;%</span></span>
<span id="cb34-1185"><a href="#cb34-1185"></a><span class="in">    mutate(`0` = calculate_bin_contributions(theta, mag, 9)[[1]],</span></span>
<span id="cb34-1186"><a href="#cb34-1186"></a><span class="in">           `20` = calculate_bin_contributions(theta, mag, 9)[[2]],</span></span>
<span id="cb34-1187"><a href="#cb34-1187"></a><span class="in">           `40` = calculate_bin_contributions(theta, mag, 9)[[3]],</span></span>
<span id="cb34-1188"><a href="#cb34-1188"></a><span class="in">           `60` = calculate_bin_contributions(theta, mag, 9)[[4]],</span></span>
<span id="cb34-1189"><a href="#cb34-1189"></a><span class="in">           `80` = calculate_bin_contributions(theta, mag, 9)[[5]],</span></span>
<span id="cb34-1190"><a href="#cb34-1190"></a><span class="in">           `100` = calculate_bin_contributions(theta, mag, 9)[[6]],</span></span>
<span id="cb34-1191"><a href="#cb34-1191"></a><span class="in">           `120` = calculate_bin_contributions(theta, mag, 9)[[7]],</span></span>
<span id="cb34-1192"><a href="#cb34-1192"></a><span class="in">           `140` = calculate_bin_contributions(theta, mag, 9)[[8]],</span></span>
<span id="cb34-1193"><a href="#cb34-1193"></a><span class="in">           `160` = calculate_bin_contributions(theta, mag, 9)[[9]],</span></span>
<span id="cb34-1194"><a href="#cb34-1194"></a><span class="in">           )</span></span>
<span id="cb34-1195"><a href="#cb34-1195"></a><span class="in">  </span></span>
<span id="cb34-1196"><a href="#cb34-1196"></a><span class="in">  # rearrange into same tidy format</span></span>
<span id="cb34-1197"><a href="#cb34-1197"></a><span class="in">  aerial_split_histo_df &lt;- </span></span>
<span id="cb34-1198"><a href="#cb34-1198"></a><span class="in">    aerial_contribution_hog_df %&gt;%</span></span>
<span id="cb34-1199"><a href="#cb34-1199"></a><span class="in">    pivot_longer(names_to = "bin", </span></span>
<span id="cb34-1200"><a href="#cb34-1200"></a><span class="in">                 values_to = "contribution", </span></span>
<span id="cb34-1201"><a href="#cb34-1201"></a><span class="in">                 cols = 4:ncol(aerial_contribution_hog_df)) %&gt;%</span></span>
<span id="cb34-1202"><a href="#cb34-1202"></a><span class="in">    mutate(bin = as.numeric(bin)) %&gt;%</span></span>
<span id="cb34-1203"><a href="#cb34-1203"></a><span class="in">    group_by(bin) %&gt;%</span></span>
<span id="cb34-1204"><a href="#cb34-1204"></a><span class="in">    summarise(contribution_sum = sum(contribution))</span></span>
<span id="cb34-1205"><a href="#cb34-1205"></a><span class="in">  </span></span>
<span id="cb34-1206"><a href="#cb34-1206"></a><span class="in">  # add to list for storage</span></span>
<span id="cb34-1207"><a href="#cb34-1207"></a><span class="in">  aerial_contribution_df_list[[i]] &lt;- aerial_split_histo_df</span></span>
<span id="cb34-1208"><a href="#cb34-1208"></a></span>
<span id="cb34-1209"><a href="#cb34-1209"></a><span class="in">}</span></span>
<span id="cb34-1210"><a href="#cb34-1210"></a></span>
<span id="cb34-1211"><a href="#cb34-1211"></a></span>
<span id="cb34-1212"><a href="#cb34-1212"></a><span class="in">```</span></span>
<span id="cb34-1213"><a href="#cb34-1213"></a></span>
<span id="cb34-1214"><a href="#cb34-1214"></a><span class="fu">## Generate Polar Plots for Images Using Standard Histogram Binning Technique</span></span>
<span id="cb34-1215"><a href="#cb34-1215"></a></span>
<span id="cb34-1216"><a href="#cb34-1216"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1217"><a href="#cb34-1217"></a><span class="in">#| code-summary: "Polar plot of San Francisco, CA histogram of gradient angles using standard binning technique"</span></span>
<span id="cb34-1218"><a href="#cb34-1218"></a></span>
<span id="cb34-1219"><a href="#cb34-1219"></a><span class="in"># SF polar plot</span></span>
<span id="cb34-1220"><a href="#cb34-1220"></a><span class="in">sf_plot &lt;-</span></span>
<span id="cb34-1221"><a href="#cb34-1221"></a><span class="in">  ggplot(filtered_aerial_standard_df_list[[1]], </span></span>
<span id="cb34-1222"><a href="#cb34-1222"></a><span class="in">         aes(x = theta)) +</span></span>
<span id="cb34-1223"><a href="#cb34-1223"></a><span class="in">  geom_histogram(colour = "black", </span></span>
<span id="cb34-1224"><a href="#cb34-1224"></a><span class="in">                 fill = "lightblue", </span></span>
<span id="cb34-1225"><a href="#cb34-1225"></a><span class="in">                 breaks = seq(0, 360, length.out = 17.5),</span></span>
<span id="cb34-1226"><a href="#cb34-1226"></a><span class="in">                 bins = 9) +</span></span>
<span id="cb34-1227"><a href="#cb34-1227"></a><span class="in">  coord_polar(</span></span>
<span id="cb34-1228"><a href="#cb34-1228"></a><span class="in">    theta = "x", </span></span>
<span id="cb34-1229"><a href="#cb34-1229"></a><span class="in">    start = 0, </span></span>
<span id="cb34-1230"><a href="#cb34-1230"></a><span class="in">    direction = 1) +</span></span>
<span id="cb34-1231"><a href="#cb34-1231"></a><span class="in">  scale_x_continuous(limits = c(0,360),</span></span>
<span id="cb34-1232"><a href="#cb34-1232"></a><span class="in">    breaks = c(0, 45, 90, 135, 180, 225, 270, 315), </span></span>
<span id="cb34-1233"><a href="#cb34-1233"></a><span class="in">    labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW")</span></span>
<span id="cb34-1234"><a href="#cb34-1234"></a><span class="in">  )+</span></span>
<span id="cb34-1235"><a href="#cb34-1235"></a><span class="in">  labs(title = "Polar Plot of San Francisco, CA Image</span></span>
<span id="cb34-1236"><a href="#cb34-1236"></a><span class="in">       Using Standard HOG Technique") +</span></span>
<span id="cb34-1237"><a href="#cb34-1237"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-1238"><a href="#cb34-1238"></a><span class="in">  labs(x = "") +</span></span>
<span id="cb34-1239"><a href="#cb34-1239"></a><span class="in">  theme(axis.title.y = element_blank(),</span></span>
<span id="cb34-1240"><a href="#cb34-1240"></a><span class="in">        plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-1241"><a href="#cb34-1241"></a></span>
<span id="cb34-1242"><a href="#cb34-1242"></a><span class="in"># save image</span></span>
<span id="cb34-1243"><a href="#cb34-1243"></a><span class="in">ggsave("images/plots/aerial_cities/sf_standard_polar_plot.jpg", </span></span>
<span id="cb34-1244"><a href="#cb34-1244"></a><span class="in">       sf_plot, </span></span>
<span id="cb34-1245"><a href="#cb34-1245"></a><span class="in">       width = 6, </span></span>
<span id="cb34-1246"><a href="#cb34-1246"></a><span class="in">       height = 4, </span></span>
<span id="cb34-1247"><a href="#cb34-1247"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-1248"><a href="#cb34-1248"></a></span>
<span id="cb34-1249"><a href="#cb34-1249"></a><span class="in">```</span></span>
<span id="cb34-1250"><a href="#cb34-1250"></a></span>
<span id="cb34-1251"><a href="#cb34-1251"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1252"><a href="#cb34-1252"></a><span class="in">#| code-summary: "Polar plot of Salt Lake City, UT histogram of gradient angles using standard binning technique"</span></span>
<span id="cb34-1253"><a href="#cb34-1253"></a></span>
<span id="cb34-1254"><a href="#cb34-1254"></a><span class="in"># SLC plot</span></span>
<span id="cb34-1255"><a href="#cb34-1255"></a><span class="in">salt_lake_plot &lt;-</span></span>
<span id="cb34-1256"><a href="#cb34-1256"></a><span class="in">  ggplot(filtered_aerial_standard_df_list[[2]], </span></span>
<span id="cb34-1257"><a href="#cb34-1257"></a><span class="in">         aes(x = theta)) +</span></span>
<span id="cb34-1258"><a href="#cb34-1258"></a><span class="in">  geom_histogram(colour = "black", </span></span>
<span id="cb34-1259"><a href="#cb34-1259"></a><span class="in">                 fill = "lightblue", </span></span>
<span id="cb34-1260"><a href="#cb34-1260"></a><span class="in">                 breaks = seq(0, 360, length.out = 17.5),</span></span>
<span id="cb34-1261"><a href="#cb34-1261"></a><span class="in">                 bins = 9) +</span></span>
<span id="cb34-1262"><a href="#cb34-1262"></a><span class="in">  coord_polar(</span></span>
<span id="cb34-1263"><a href="#cb34-1263"></a><span class="in">    theta = "x", </span></span>
<span id="cb34-1264"><a href="#cb34-1264"></a><span class="in">    start = 0, </span></span>
<span id="cb34-1265"><a href="#cb34-1265"></a><span class="in">    direction = 1) +</span></span>
<span id="cb34-1266"><a href="#cb34-1266"></a><span class="in">  scale_x_continuous(limits = c(0,360),</span></span>
<span id="cb34-1267"><a href="#cb34-1267"></a><span class="in">    breaks = c(0, 45, 90, 135, 180, 225, 270, 315), </span></span>
<span id="cb34-1268"><a href="#cb34-1268"></a><span class="in">    labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW")</span></span>
<span id="cb34-1269"><a href="#cb34-1269"></a><span class="in">  )+</span></span>
<span id="cb34-1270"><a href="#cb34-1270"></a><span class="in">  labs(title = "Polar Plot of Salt Lake City, UT Image</span></span>
<span id="cb34-1271"><a href="#cb34-1271"></a><span class="in">       Using Standard HOG Technique") +</span></span>
<span id="cb34-1272"><a href="#cb34-1272"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-1273"><a href="#cb34-1273"></a><span class="in">  labs(x = "") +</span></span>
<span id="cb34-1274"><a href="#cb34-1274"></a><span class="in">  theme(axis.title.y = element_blank(),</span></span>
<span id="cb34-1275"><a href="#cb34-1275"></a><span class="in">        plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-1276"><a href="#cb34-1276"></a></span>
<span id="cb34-1277"><a href="#cb34-1277"></a><span class="in"># save image</span></span>
<span id="cb34-1278"><a href="#cb34-1278"></a><span class="in">ggsave("images/plots/aerial_cities/salt_lake_standard_polar_plot.jpg", </span></span>
<span id="cb34-1279"><a href="#cb34-1279"></a><span class="in">       salt_lake_plot, </span></span>
<span id="cb34-1280"><a href="#cb34-1280"></a><span class="in">       width = 6, </span></span>
<span id="cb34-1281"><a href="#cb34-1281"></a><span class="in">       height = 4, </span></span>
<span id="cb34-1282"><a href="#cb34-1282"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-1283"><a href="#cb34-1283"></a></span>
<span id="cb34-1284"><a href="#cb34-1284"></a><span class="in">```</span></span>
<span id="cb34-1285"><a href="#cb34-1285"></a></span>
<span id="cb34-1286"><a href="#cb34-1286"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1287"><a href="#cb34-1287"></a><span class="in">#| code-summary: "Polar plot of Detroit, MI histogram of gradient angles using standard binning technique"</span></span>
<span id="cb34-1288"><a href="#cb34-1288"></a></span>
<span id="cb34-1289"><a href="#cb34-1289"></a><span class="in"># Detroit plot</span></span>
<span id="cb34-1290"><a href="#cb34-1290"></a><span class="in">detroit_plot &lt;-</span></span>
<span id="cb34-1291"><a href="#cb34-1291"></a><span class="in">  ggplot(filtered_aerial_standard_df_list[[3]], </span></span>
<span id="cb34-1292"><a href="#cb34-1292"></a><span class="in">         aes(x = theta)) +</span></span>
<span id="cb34-1293"><a href="#cb34-1293"></a><span class="in">  geom_histogram(colour = "black", </span></span>
<span id="cb34-1294"><a href="#cb34-1294"></a><span class="in">                 fill = "lightblue", </span></span>
<span id="cb34-1295"><a href="#cb34-1295"></a><span class="in">                 breaks = seq(0, 360, length.out = 17.5),</span></span>
<span id="cb34-1296"><a href="#cb34-1296"></a><span class="in">                 bins = 9) +</span></span>
<span id="cb34-1297"><a href="#cb34-1297"></a><span class="in">  coord_polar(</span></span>
<span id="cb34-1298"><a href="#cb34-1298"></a><span class="in">    theta = "x", </span></span>
<span id="cb34-1299"><a href="#cb34-1299"></a><span class="in">    start = 0, </span></span>
<span id="cb34-1300"><a href="#cb34-1300"></a><span class="in">    direction = 1) +</span></span>
<span id="cb34-1301"><a href="#cb34-1301"></a><span class="in">  scale_x_continuous(limits = c(0,360),</span></span>
<span id="cb34-1302"><a href="#cb34-1302"></a><span class="in">    breaks = c(0, 45, 90, 135, 180, 225, 270, 315), </span></span>
<span id="cb34-1303"><a href="#cb34-1303"></a><span class="in">    labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW")</span></span>
<span id="cb34-1304"><a href="#cb34-1304"></a><span class="in">  )+</span></span>
<span id="cb34-1305"><a href="#cb34-1305"></a><span class="in">  labs(title = "Polar Plot of Detroit, MI Image</span></span>
<span id="cb34-1306"><a href="#cb34-1306"></a><span class="in">       Using Standard HOG Technique") +</span></span>
<span id="cb34-1307"><a href="#cb34-1307"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-1308"><a href="#cb34-1308"></a><span class="in">  labs(x = "") +</span></span>
<span id="cb34-1309"><a href="#cb34-1309"></a><span class="in">  theme(axis.title.y = element_blank(),</span></span>
<span id="cb34-1310"><a href="#cb34-1310"></a><span class="in">        plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-1311"><a href="#cb34-1311"></a></span>
<span id="cb34-1312"><a href="#cb34-1312"></a><span class="in"># save image</span></span>
<span id="cb34-1313"><a href="#cb34-1313"></a><span class="in">ggsave("images/plots/aerial_cities/detroit_standard_polar_plot.jpg", </span></span>
<span id="cb34-1314"><a href="#cb34-1314"></a><span class="in">       detroit_plot, </span></span>
<span id="cb34-1315"><a href="#cb34-1315"></a><span class="in">       width = 6, </span></span>
<span id="cb34-1316"><a href="#cb34-1316"></a><span class="in">       height = 4, </span></span>
<span id="cb34-1317"><a href="#cb34-1317"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-1318"><a href="#cb34-1318"></a></span>
<span id="cb34-1319"><a href="#cb34-1319"></a><span class="in">```</span></span>
<span id="cb34-1320"><a href="#cb34-1320"></a></span>
<span id="cb34-1321"><a href="#cb34-1321"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1322"><a href="#cb34-1322"></a><span class="in">#| code-summary: "Save an arranged image of the 3 standard-binned polar plots side-by-side"</span></span>
<span id="cb34-1323"><a href="#cb34-1323"></a></span>
<span id="cb34-1324"><a href="#cb34-1324"></a><span class="in"># Save to an arranged image</span></span>
<span id="cb34-1325"><a href="#cb34-1325"></a><span class="in">all_standard_city_plots &lt;- ggpubr::ggarrange(sf_plot, </span></span>
<span id="cb34-1326"><a href="#cb34-1326"></a><span class="in">                                             salt_lake_plot, </span></span>
<span id="cb34-1327"><a href="#cb34-1327"></a><span class="in">                                             detroit_plot)</span></span>
<span id="cb34-1328"><a href="#cb34-1328"></a></span>
<span id="cb34-1329"><a href="#cb34-1329"></a><span class="in">ggsave("images/plots/aerial_cities/all_standard_polar_plots.jpg", </span></span>
<span id="cb34-1330"><a href="#cb34-1330"></a><span class="in">       all_standard_city_plots, </span></span>
<span id="cb34-1331"><a href="#cb34-1331"></a><span class="in">       width = 7, </span></span>
<span id="cb34-1332"><a href="#cb34-1332"></a><span class="in">       height = 7)</span></span>
<span id="cb34-1333"><a href="#cb34-1333"></a></span>
<span id="cb34-1334"><a href="#cb34-1334"></a><span class="in">```</span></span>
<span id="cb34-1335"><a href="#cb34-1335"></a></span>
<span id="cb34-1336"><a href="#cb34-1336"></a>&lt;div align="center"&gt;</span>
<span id="cb34-1337"><a href="#cb34-1337"></a></span>
<span id="cb34-1338"><a href="#cb34-1338"></a>::: {#fig-city-standard-polar layout-ncol="3"}</span>
<span id="cb34-1339"><a href="#cb34-1339"></a><span class="al">![San Francisco, CA](images/plots/aerial_cities/sf_standard_polar_plot.jpg)</span>{group="cityscape-standard-polar-gallery"}</span>
<span id="cb34-1340"><a href="#cb34-1340"></a></span>
<span id="cb34-1341"><a href="#cb34-1341"></a><span class="al">![Salt Lake City, UT](images/plots/aerial_cities/salt_lake_standard_polar_plot.jpg)</span>{group="cityscape-standard-polar-gallery"}</span>
<span id="cb34-1342"><a href="#cb34-1342"></a></span>
<span id="cb34-1343"><a href="#cb34-1343"></a><span class="al">![Detroit, MI](images/plots/aerial_cities/detroit_standard_polar_plot.jpg)</span>{group="cityscape-standard-polar-gallery"}</span>
<span id="cb34-1344"><a href="#cb34-1344"></a></span>
<span id="cb34-1345"><a href="#cb34-1345"></a>Polar Plots using Standard Binning Technique for Aerial Cityscapes</span>
<span id="cb34-1346"><a href="#cb34-1346"></a>:::</span>
<span id="cb34-1347"><a href="#cb34-1347"></a></span>
<span id="cb34-1348"><a href="#cb34-1348"></a>&lt;div&gt;</span>
<span id="cb34-1349"><a href="#cb34-1349"></a></span>
<span id="cb34-1350"><a href="#cb34-1350"></a><span class="fu">## Generate Polar Plots for Images Using Distributed Histogram Binning Technique</span></span>
<span id="cb34-1351"><a href="#cb34-1351"></a></span>
<span id="cb34-1352"><a href="#cb34-1352"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1353"><a href="#cb34-1353"></a><span class="in">#| code-summary: "Polar plot of San Francisco, CA histogram of gradient angles using distributed binning technique"</span></span>
<span id="cb34-1354"><a href="#cb34-1354"></a></span>
<span id="cb34-1355"><a href="#cb34-1355"></a><span class="in"># SF plot</span></span>
<span id="cb34-1356"><a href="#cb34-1356"></a><span class="in">sf_split_plot &lt;-</span></span>
<span id="cb34-1357"><a href="#cb34-1357"></a><span class="in">  ggplot(aerial_contribution_df_list[[1]], </span></span>
<span id="cb34-1358"><a href="#cb34-1358"></a><span class="in">         aes(x = bin, y = contribution_sum)) +</span></span>
<span id="cb34-1359"><a href="#cb34-1359"></a><span class="in">  geom_histogram(stat = "identity",</span></span>
<span id="cb34-1360"><a href="#cb34-1360"></a><span class="in">                 colour = "black", </span></span>
<span id="cb34-1361"><a href="#cb34-1361"></a><span class="in">                 fill = "lightblue", </span></span>
<span id="cb34-1362"><a href="#cb34-1362"></a><span class="in">                 breaks = seq(0, 360, length.out = 17.5),</span></span>
<span id="cb34-1363"><a href="#cb34-1363"></a><span class="in">                 bins = 9) +</span></span>
<span id="cb34-1364"><a href="#cb34-1364"></a><span class="in">  coord_polar(</span></span>
<span id="cb34-1365"><a href="#cb34-1365"></a><span class="in">    theta = "x", </span></span>
<span id="cb34-1366"><a href="#cb34-1366"></a><span class="in">    start = 0, </span></span>
<span id="cb34-1367"><a href="#cb34-1367"></a><span class="in">    direction = 1) +</span></span>
<span id="cb34-1368"><a href="#cb34-1368"></a><span class="in">  scale_x_continuous(limits = c(0,360),</span></span>
<span id="cb34-1369"><a href="#cb34-1369"></a><span class="in">    breaks = c(0, 45, 90, 135, 180, 225, 270, 315), </span></span>
<span id="cb34-1370"><a href="#cb34-1370"></a><span class="in">    labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW")</span></span>
<span id="cb34-1371"><a href="#cb34-1371"></a><span class="in">  )+</span></span>
<span id="cb34-1372"><a href="#cb34-1372"></a><span class="in">  labs(title = "Polar Plot of San Francisco, CA Image</span></span>
<span id="cb34-1373"><a href="#cb34-1373"></a><span class="in">       Using Distributed HOG Technique") +</span></span>
<span id="cb34-1374"><a href="#cb34-1374"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-1375"><a href="#cb34-1375"></a><span class="in">  labs(x = "") +</span></span>
<span id="cb34-1376"><a href="#cb34-1376"></a><span class="in">  theme(axis.title.y = element_blank(),</span></span>
<span id="cb34-1377"><a href="#cb34-1377"></a><span class="in">        plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-1378"><a href="#cb34-1378"></a></span>
<span id="cb34-1379"><a href="#cb34-1379"></a><span class="in"># save image</span></span>
<span id="cb34-1380"><a href="#cb34-1380"></a><span class="in">ggsave("images/plots/aerial_cities/sf_contribution_polar_plot.jpg", </span></span>
<span id="cb34-1381"><a href="#cb34-1381"></a><span class="in">       sf_split_plot, </span></span>
<span id="cb34-1382"><a href="#cb34-1382"></a><span class="in">       width = 6, </span></span>
<span id="cb34-1383"><a href="#cb34-1383"></a><span class="in">       height = 4, </span></span>
<span id="cb34-1384"><a href="#cb34-1384"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-1385"><a href="#cb34-1385"></a></span>
<span id="cb34-1386"><a href="#cb34-1386"></a><span class="in">```</span></span>
<span id="cb34-1387"><a href="#cb34-1387"></a></span>
<span id="cb34-1388"><a href="#cb34-1388"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1389"><a href="#cb34-1389"></a><span class="in">#| code-summary: "Polar plot of Salt Lake City, UT histogram of gradient angles using distributed binning technique"</span></span>
<span id="cb34-1390"><a href="#cb34-1390"></a></span>
<span id="cb34-1391"><a href="#cb34-1391"></a><span class="in"># SLC plot</span></span>
<span id="cb34-1392"><a href="#cb34-1392"></a><span class="in">salt_lake_split_plot &lt;-</span></span>
<span id="cb34-1393"><a href="#cb34-1393"></a><span class="in">  ggplot(aerial_contribution_df_list[[2]], </span></span>
<span id="cb34-1394"><a href="#cb34-1394"></a><span class="in">         aes(x = bin, y = contribution_sum)) +</span></span>
<span id="cb34-1395"><a href="#cb34-1395"></a><span class="in">  geom_histogram(stat = "identity",</span></span>
<span id="cb34-1396"><a href="#cb34-1396"></a><span class="in">                 colour = "black", </span></span>
<span id="cb34-1397"><a href="#cb34-1397"></a><span class="in">                 fill = "lightblue", </span></span>
<span id="cb34-1398"><a href="#cb34-1398"></a><span class="in">                 breaks = seq(0, 360, length.out = 17.5),</span></span>
<span id="cb34-1399"><a href="#cb34-1399"></a><span class="in">                 bins = 9) +</span></span>
<span id="cb34-1400"><a href="#cb34-1400"></a><span class="in">  coord_polar(</span></span>
<span id="cb34-1401"><a href="#cb34-1401"></a><span class="in">    theta = "x", </span></span>
<span id="cb34-1402"><a href="#cb34-1402"></a><span class="in">    start = 0, </span></span>
<span id="cb34-1403"><a href="#cb34-1403"></a><span class="in">    direction = 1) +</span></span>
<span id="cb34-1404"><a href="#cb34-1404"></a><span class="in">  scale_x_continuous(limits = c(0,360),</span></span>
<span id="cb34-1405"><a href="#cb34-1405"></a><span class="in">    breaks = c(0, 45, 90, 135, 180, 225, 270, 315), </span></span>
<span id="cb34-1406"><a href="#cb34-1406"></a><span class="in">    labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW")</span></span>
<span id="cb34-1407"><a href="#cb34-1407"></a><span class="in">  )+</span></span>
<span id="cb34-1408"><a href="#cb34-1408"></a><span class="in">  labs(title = "Polar Plot of Salt Lake City, UT Image</span></span>
<span id="cb34-1409"><a href="#cb34-1409"></a><span class="in">       Using Distributed HOG Technique") +</span></span>
<span id="cb34-1410"><a href="#cb34-1410"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-1411"><a href="#cb34-1411"></a><span class="in">  labs(x = "") +</span></span>
<span id="cb34-1412"><a href="#cb34-1412"></a><span class="in">  theme(axis.title.y = element_blank(),</span></span>
<span id="cb34-1413"><a href="#cb34-1413"></a><span class="in">        plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-1414"><a href="#cb34-1414"></a></span>
<span id="cb34-1415"><a href="#cb34-1415"></a><span class="in"># save image</span></span>
<span id="cb34-1416"><a href="#cb34-1416"></a><span class="in">ggsave("images/plots/aerial_cities/salt_lake_contribution_polar_plot.jpg", </span></span>
<span id="cb34-1417"><a href="#cb34-1417"></a><span class="in">       salt_lake_split_plot, </span></span>
<span id="cb34-1418"><a href="#cb34-1418"></a><span class="in">       width = 6,</span></span>
<span id="cb34-1419"><a href="#cb34-1419"></a><span class="in">       height = 4, </span></span>
<span id="cb34-1420"><a href="#cb34-1420"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-1421"><a href="#cb34-1421"></a></span>
<span id="cb34-1422"><a href="#cb34-1422"></a><span class="in">```</span></span>
<span id="cb34-1423"><a href="#cb34-1423"></a></span>
<span id="cb34-1424"><a href="#cb34-1424"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1425"><a href="#cb34-1425"></a><span class="in">#| code-summary: "Polar plot of Detroit, MI histogram of gradient angles using distributed binning technique"</span></span>
<span id="cb34-1426"><a href="#cb34-1426"></a></span>
<span id="cb34-1427"><a href="#cb34-1427"></a><span class="in"># Detroit plot</span></span>
<span id="cb34-1428"><a href="#cb34-1428"></a><span class="in">detroit_split_plot &lt;-</span></span>
<span id="cb34-1429"><a href="#cb34-1429"></a><span class="in">  ggplot(aerial_contribution_df_list[[3]], </span></span>
<span id="cb34-1430"><a href="#cb34-1430"></a><span class="in">         aes(x = bin, y = contribution_sum)) +</span></span>
<span id="cb34-1431"><a href="#cb34-1431"></a><span class="in">  geom_histogram(stat = "identity",</span></span>
<span id="cb34-1432"><a href="#cb34-1432"></a><span class="in">                 colour = "black", </span></span>
<span id="cb34-1433"><a href="#cb34-1433"></a><span class="in">                 fill = "lightblue", </span></span>
<span id="cb34-1434"><a href="#cb34-1434"></a><span class="in">                 breaks = seq(0, 360, length.out = 17.5),</span></span>
<span id="cb34-1435"><a href="#cb34-1435"></a><span class="in">                 bins = 9) +</span></span>
<span id="cb34-1436"><a href="#cb34-1436"></a><span class="in">  coord_polar(</span></span>
<span id="cb34-1437"><a href="#cb34-1437"></a><span class="in">    theta = "x", </span></span>
<span id="cb34-1438"><a href="#cb34-1438"></a><span class="in">    start = 0, </span></span>
<span id="cb34-1439"><a href="#cb34-1439"></a><span class="in">    direction = 1) +</span></span>
<span id="cb34-1440"><a href="#cb34-1440"></a><span class="in">  scale_x_continuous(limits = c(0,360),</span></span>
<span id="cb34-1441"><a href="#cb34-1441"></a><span class="in">    breaks = c(0, 45, 90, 135, 180, 225, 270, 315), </span></span>
<span id="cb34-1442"><a href="#cb34-1442"></a><span class="in">    labels = c("N", "NE", "E", "SE", "S", "SW", "W", "NW")</span></span>
<span id="cb34-1443"><a href="#cb34-1443"></a><span class="in">  )+</span></span>
<span id="cb34-1444"><a href="#cb34-1444"></a><span class="in">  labs(title = "Polar Plot of Detroit, MI Image</span></span>
<span id="cb34-1445"><a href="#cb34-1445"></a><span class="in">       Using Distributed HOG Technique") +</span></span>
<span id="cb34-1446"><a href="#cb34-1446"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb34-1447"><a href="#cb34-1447"></a><span class="in">  labs(x = "") +</span></span>
<span id="cb34-1448"><a href="#cb34-1448"></a><span class="in">  theme(axis.title.y = element_blank(),</span></span>
<span id="cb34-1449"><a href="#cb34-1449"></a><span class="in">        plot.title = element_text(hjust = 0.5))</span></span>
<span id="cb34-1450"><a href="#cb34-1450"></a></span>
<span id="cb34-1451"><a href="#cb34-1451"></a><span class="in"># save image</span></span>
<span id="cb34-1452"><a href="#cb34-1452"></a><span class="in">ggsave("images/plots/aerial_cities/detroit_contribution_polar_plot.jpg", </span></span>
<span id="cb34-1453"><a href="#cb34-1453"></a><span class="in">       detroit_split_plot, </span></span>
<span id="cb34-1454"><a href="#cb34-1454"></a><span class="in">       width = 6, </span></span>
<span id="cb34-1455"><a href="#cb34-1455"></a><span class="in">       height = 4, </span></span>
<span id="cb34-1456"><a href="#cb34-1456"></a><span class="in">       dpi = 300)</span></span>
<span id="cb34-1457"><a href="#cb34-1457"></a></span>
<span id="cb34-1458"><a href="#cb34-1458"></a><span class="in">```</span></span>
<span id="cb34-1459"><a href="#cb34-1459"></a></span>
<span id="cb34-1460"><a href="#cb34-1460"></a><span class="in">```{r, warning=FALSE, message=FALSE}</span></span>
<span id="cb34-1461"><a href="#cb34-1461"></a><span class="in">#| code-summary: "Save an arranged image of the 3 distributed-binned polar plots side-by-side"</span></span>
<span id="cb34-1462"><a href="#cb34-1462"></a></span>
<span id="cb34-1463"><a href="#cb34-1463"></a><span class="in"># Save to an arranged image</span></span>
<span id="cb34-1464"><a href="#cb34-1464"></a><span class="in">all_aerial_contribution_plots &lt;- ggpubr::ggarrange(sf_split_plot, </span></span>
<span id="cb34-1465"><a href="#cb34-1465"></a><span class="in">                                                   salt_lake_split_plot, </span></span>
<span id="cb34-1466"><a href="#cb34-1466"></a><span class="in">                                                   detroit_split_plot)</span></span>
<span id="cb34-1467"><a href="#cb34-1467"></a></span>
<span id="cb34-1468"><a href="#cb34-1468"></a><span class="in">ggsave("images/plots/aerial_cities/all_aerial_contribution_plots.jpg", </span></span>
<span id="cb34-1469"><a href="#cb34-1469"></a><span class="in">       all_aerial_contribution_plots, </span></span>
<span id="cb34-1470"><a href="#cb34-1470"></a><span class="in">       width = 7, </span></span>
<span id="cb34-1471"><a href="#cb34-1471"></a><span class="in">       height = 7)</span></span>
<span id="cb34-1472"><a href="#cb34-1472"></a></span>
<span id="cb34-1473"><a href="#cb34-1473"></a><span class="in">```</span></span>
<span id="cb34-1474"><a href="#cb34-1474"></a></span>
<span id="cb34-1475"><a href="#cb34-1475"></a>&lt;div align="center"&gt;</span>
<span id="cb34-1476"><a href="#cb34-1476"></a></span>
<span id="cb34-1477"><a href="#cb34-1477"></a>::: {#fig-city-distributed-polar layout-ncol="3"}</span>
<span id="cb34-1478"><a href="#cb34-1478"></a><span class="al">![San Francisco, CA](images/plots/aerial_cities/sf_contribution_polar_plot.jpg)</span>{group="cityscape-distributed-polar-gallery"}</span>
<span id="cb34-1479"><a href="#cb34-1479"></a></span>
<span id="cb34-1480"><a href="#cb34-1480"></a><span class="al">![Salt Lake City, UT](images/plots/aerial_cities/salt_lake_contribution_polar_plot.jpg)</span>{group="cityscape-distributed-polar-gallery"}</span>
<span id="cb34-1481"><a href="#cb34-1481"></a></span>
<span id="cb34-1482"><a href="#cb34-1482"></a><span class="al">![Detroit, MI](images/plots/aerial_cities/detroit_contribution_polar_plot.jpg)</span>{group="cityscape-distributed-polar-gallery"}</span>
<span id="cb34-1483"><a href="#cb34-1483"></a></span>
<span id="cb34-1484"><a href="#cb34-1484"></a>Polar Plots using Distributed Binning Technique for Aerial Cityscapes</span>
<span id="cb34-1485"><a href="#cb34-1485"></a>:::</span>
<span id="cb34-1486"><a href="#cb34-1486"></a></span>
<span id="cb34-1487"><a href="#cb34-1487"></a>&lt;div&gt;</span>
<span id="cb34-1488"><a href="#cb34-1488"></a></span>
<span id="cb34-1489"><a href="#cb34-1489"></a></span>
<span id="cb34-1490"><a href="#cb34-1490"></a><span class="fu">## Discussion</span></span>
<span id="cb34-1491"><a href="#cb34-1491"></a></span>
<span id="cb34-1492"><a href="#cb34-1492"></a>&lt;div align="left"&gt;</span>
<span id="cb34-1493"><a href="#cb34-1493"></a></span>
<span id="cb34-1494"><a href="#cb34-1494"></a>|       The San Francisco image delivered the most promising results due to its closer zoom level compared to the Salt Lake City and Detroit images. Angles in the seventy-degree range emerged as the most frequent, accurately reflecting the slightly diagonal west-east streets of downtown San Francisco. The layout of Salt Lake City significantly influenced the results of its polar plot. With its narrow vertical grid layout, the city exhibited a higher frequency of vertical angles and a smaller yet significant occurrence of horizontal gradient angles. For the images of San Francisco and Detroit, the outcomes between the Standard and Distributed binning techniques exhibited similar results. However, for Salt Lake City, the Distributed technique notably favored a higher frequency of both vertical and horizontal angles.</span>
<span id="cb34-1495"><a href="#cb34-1495"></a></span>
<span id="cb34-1496"><a href="#cb34-1496"></a>&lt;div&gt;</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","descPosition":"bottom","loop":false,"closeEffect":"zoom","openEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>